
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The product manual for the RA6M5 Thing Plus from SparkFun Electronics">
      
      
        <meta name="author" content="SparkFun Electronics">
      
      
        <link rel="canonical" href="https://sparkfun.github.io/SparkFun_Thing_Plus_RA6M5/print_view/">
      
      
      
      
        
      
      
      <link rel="icon" href="../assets/img/sfe-logo.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31+insiders-4.53.12">
    
    
      
        <title>Introduction - SparkFun RA6M5 Thing Plus Hookup Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.dad623df.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.307 5.476c-.756.134-1.975-.615-2.59-1.362-.755-.922-.66-1.647-.071-2.29.883-.978 2.396-.6 2.396-.6s-2.772-2.432-5.658-.44c-2.571 1.77-1.833 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.443-.184-2.034-1.343-1.687-2.054.298-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044c-1.259.474-2.297 1.515-2.214 4.12V24s1.301-1.604 2.83-3.236c1.714-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.371-3.645 3.141-4.563.67-9.68-1.43-10.343 0 0 .34 1.438-.745 1.638z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');--md-admonition-icon--github:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>');--md-admonition-icon--arduino:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>');--md-admonition-icon--python:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.25.18.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"/></svg>');--md-admonition-icon--code:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0H64zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg>');--md-admonition-icon--terminal:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.749.749 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53Zm1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5Z"/></svg>');--md-admonition-icon--serial:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h176l-10.7 32H160c-17.7 0-32 14.3-32 32s14.3 32 32 32h256c17.7 0 32-14.3 32-32s-14.3-32-32-32h-69.3L336 416h176c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zm448 64v288H64V64h448z"/></svg>');--md-admonition-icon--hot:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.66 11.2c-.23-.3-.51-.56-.77-.82-.67-.6-1.43-1.03-2.07-1.66C11.33 7.26 11 4.85 11.95 3c-.95.23-1.78.75-2.49 1.32-2.59 2.08-3.61 5.75-2.39 8.9.04.1.08.2.08.33 0 .22-.15.42-.35.5-.23.1-.47.04-.66-.12a.58.58 0 0 1-.14-.17c-1.13-1.43-1.31-3.48-.55-5.12C3.78 10 2.87 12.3 3 14.47c.06.5.12 1 .29 1.5.14.6.41 1.2.71 1.73 1.08 1.73 2.95 2.97 4.96 3.22 2.14.27 4.43-.12 6.07-1.6 1.83-1.66 2.47-4.32 1.53-6.6l-.13-.26c-.21-.46-.77-1.26-.77-1.26m-3.16 6.3c-.28.24-.74.5-1.1.6-1.12.4-2.24-.16-2.9-.82 1.19-.28 1.9-1.16 2.11-2.05.17-.8-.15-1.46-.28-2.23-.12-.74-.1-1.37.17-2.06.19.38.39.76.63 1.06.77 1 1.98 1.44 2.24 2.8.04.14.06.28.06.43.03.82-.33 1.72-.93 2.27M21 13h-2V7h2v6m0 4h-2v-2h2v2Z"/></svg>');--md-admonition-icon--link:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
      <link rel="stylesheet" href="../stylesheet/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-7Y7EYCZVC1"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-7Y7EYCZVC1",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-7Y7EYCZVC1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine base classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav
	class="md-header__inner md-grid"
	aria-label="Header"
  >

	<!-- Link to home -->
	<!-- <a href="https://www.sparkfun.com" title="SparkFun RA6M5 Thing Plus Hookup Guide" class="md-header__button md-logo" aria-label="SparkFun RA6M5 Thing Plus Hookup Guide" data-md-component="logo" target="_blank" rel="noopener">
	  
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

	</a> -->
	<a href="https://www.sparkfun.com" title="sparkfun.com" class="md-header__button md-logo" aria-label="SparkFun RA6M5 Thing Plus Hookup Guide" data-md-component="logo" target="_blank" rel="noopener">
	  
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

	</a>

	<!-- Button to open drawer -->
	<label class="md-header__button md-icon" for="__drawer">
	  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
	</label>

	<!-- Header title -->
	<div class="md-header__title" data-md-component="header-title">
	  <div class="md-header__ellipsis">
		<div class="md-header__topic">
		  <span class="md-ellipsis">
			SparkFun RA6M5 Thing Plus Hookup Guide
		  </span>
		</div>
		<div class="md-header__topic" data-md-component="header-topic">
		  <span class="md-ellipsis">
			
			  Introduction
			
		  </span>
		</div>
	  </div>
	</div>

	<!-- Color palette -->
	
	  <form class="md-header__option" data-md-component="palette">
		
		  
		  <input
			class="md-option"
			data-md-color-media="(prefers-color-scheme)"
			data-md-color-scheme="default"
			data-md-color-primary="grey"
			data-md-color-accent="red"
			
			  aria-label="Switch to dark mode"
			
			type="radio"
			name="__palette"
			id="__palette_1"
		  />
		  
			<label
			  class="md-header__button md-icon"
			  title="Switch to dark mode"
			  for="__palette_3"
			  hidden
			>
			  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
			</label>
		  
		
		  
		  <input
			class="md-option"
			data-md-color-media="(prefers-color-scheme: light)"
			data-md-color-scheme="default"
			data-md-color-primary="grey"
			data-md-color-accent="red"
			
			  aria-label="Switch to system preference"
			
			type="radio"
			name="__palette"
			id="__palette_2"
		  />
		  
			<label
			  class="md-header__button md-icon"
			  title="Switch to system preference"
			  for="__palette_1"
			  hidden
			>
			  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
			</label>
		  
		
		  
		  <input
			class="md-option"
			data-md-color-media="(prefers-color-scheme: dark)"
			data-md-color-scheme="slate"
			data-md-color-primary="grey"
			data-md-color-accent="red"
			
			  aria-label="Switch to light mode"
			
			type="radio"
			name="__palette"
			id="__palette_3"
		  />
		  
			<label
			  class="md-header__button md-icon"
			  title="Switch to light mode"
			  for="__palette_2"
			  hidden
			>
			  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
			</label>
		  
		
	  </form>
	

	<!-- Site language selector -->
	

	<!-- Button to open search modal -->
	
	  <label class="md-header__button md-icon" for="__search">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
	  </label>

	  <!-- Search interface -->
	  <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
	

	<!-- Repository information -->
	
	  <div class="md-header__source">
		<a href="https://github.com/sparkfun/SparkFun_Thing_Plus_RA6M5" title="Go to repository" class="md-source" data-md-component="source" target="_blank" rel="noopener">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    sparkfun/SparkFun_Thing_Plus_RA6M5
  </div>
</a>
	  </div>
	
  </nav>

  <!-- Navigation tabs (sticky) -->
  
	
	  <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Navigation tabs -->
<nav
  class="md-tabs"
  aria-label="Tabs"
  data-md-component="tabs"
>
  <div class="md-tabs__inner md-grid">

	<!-- Adds tab on right side of header -->
	
	<ul class="md-tabs__list" style="float: right;">
	  <li class="md-tabs__item">
		<a href="/SparkFun_Thing_Plus_RA6M5/print_view/" class="md-tabs__link">
		  üñ®Ô∏è Print View
		<!-- &nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.5c-1.35-.85-3.8-1.5-5.5-1.5-1.65 0-3.35.3-4.75 1.05-.1.05-.15.05-.25.05-.25 0-.5-.25-.5-.5V6c.6-.45 1.25-.75 2-1 1.11-.35 2.33-.5 3.5-.5 1.95 0 4.05.4 5.5 1.5 1.45-1.1 3.55-1.5 5.5-1.5 1.17 0 2.39.15 3.5.5.75.25 1.4.55 2 1v14.6c0 .25-.25.5-.5.5-.1 0-.15 0-.25-.05-1.4-.75-3.1-1.05-4.75-1.05-1.7 0-4.15.65-5.5 1.5M12 8v11.5c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5V7c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5m1 3.5c1.11-.68 2.6-1 4.5-1 .91 0 1.76.09 2.5.28V9.23c-.87-.15-1.71-.23-2.5-.23-1.77 0-3.27.28-4.5.84v1.66m4.5.17c-1.71 0-3.21.26-4.5.79v1.69c1.11-.65 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24v-1.5c-.87-.16-1.71-.23-2.5-.23m2.5 2.9c-.87-.16-1.71-.24-2.5-.24-1.83 0-3.33.27-4.5.8v1.69c1.11-.66 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24v-1.5Z"/></svg> -->
		</a>
	  </li>
	</ul>
	

	<!-- Original tabbed sections -->
	<ul class="md-tabs__list">
	  
		
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../introduction/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

	  
		
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../resources/" class="md-tabs__link">
          
  
  Resources

        </a>
      </li>
    
  

	  
		
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../troubleshooting_tips/" class="md-tabs__link">
          
  
  Support

        </a>
      </li>
    
  

	  
	</ul>
  </div>
</nav>
	
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Determine base classes -->


  



<!-- Navigation -->
<nav
  class="md-nav md-nav--primary md-nav--lifted"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Site title -->
  <!-- <label class="md-nav__title" for="__drawer">
	<a href="https://www.sparkfun.com" title="SparkFun RA6M5 Thing Plus Hookup Guide" class="md-nav__button md-logo" aria-label="SparkFun RA6M5 Thing Plus Hookup Guide" data-md-component="logo" target="_blank" rel="noopener">
	  
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

	</a>
	SparkFun RA6M5 Thing Plus Hookup Guide
  </label> -->
  <label class="md-nav__title" for="__drawer">
	<a href="https://www.sparkfun.com" title="sparkfun.com" class="md-nav__button md-logo" aria-label="SparkFun" data-md-component="logo" target="_blank" rel="noopener">
	  
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

	</a>
	SparkFun RA6M5 Thing Plus Hookup Guide
  </label>

  <!-- Repository information -->
  
	<div class="md-nav__source">
	  <a href="https://github.com/sparkfun/SparkFun_Thing_Plus_RA6M5" title="Go to repository" class="md-source" data-md-component="source" target="_blank" rel="noopener">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    sparkfun/SparkFun_Thing_Plus_RA6M5
  </div>
</a>
	</div>
  

  <!-- Navigation list -->
  <ul class="md-nav__list" data-md-scrollfix>
	
	  
	  
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5V2M6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_overview/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Hardware Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_assembly/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m21.71 20.29-1.42 1.42a1 1 0 0 1-1.41 0L7 9.85A3.81 3.81 0 0 1 6 10a4 4 0 0 1-3.78-5.3l2.54 2.54.53-.53 1.42-1.42.53-.53L4.7 2.22A4 4 0 0 1 10 6a3.81 3.81 0 0 1-.15 1l11.86 11.88a1 1 0 0 1 0 1.41M2.29 18.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0l5.47-5.46-2.83-2.83M20 2l-4 2v2l-2.17 2.17 2 2L18 8h2l2-4Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Hardware Assembly
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Software Overview
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Software Overview
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../software_overview-arduino/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Arduino IDE
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../software_overview-codeless/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.88 16.29 13 18.17v-3.76m0-8.58 1.88 1.88L13 9.58m4.71-1.87L12 2h-1v7.58L6.41 5 5 6.41 10.59 12 5 17.58 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    CodeLess AT Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Arduino Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Arduino Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-digital/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Digital I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-analog/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Analog I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-serial/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Serial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-SPI/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    SPI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-I2C/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    I<sup>2</sup>C
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-SD_card/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    ¬µSD Card
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-QSPI/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Flash Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-codeless/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.88 16.29 13 18.17v-3.76m0-8.58 1.88 1.88L13 9.58m4.71-1.87L12 2h-1v7.58L6.41 5 5 6.41 10.59 12 5 17.58 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    CodeLess
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

	
	  
	  
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Resources
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Resources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5V2M6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Hardware Resources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

	
	  
	  
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Support
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Support
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting_tips/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>
  
  <span class="md-ellipsis">
    
  
    Troubleshooting Tips
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github/file_issue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Submit Issues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github/contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contribute
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

	

	<!-- Add Hard Copies to NAV menu -->
	<li class="md-nav__item">
	  <a href="/SparkFun_Thing_Plus_RA6M5/print_view/" class="md-nav__link">
	  <span class="md-ellipsis">
		üñ®Ô∏è Print View
		<!-- Hard Copies&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.5c-1.35-.85-3.8-1.5-5.5-1.5-1.65 0-3.35.3-4.75 1.05-.1.05-.15.05-.25.05-.25 0-.5-.25-.5-.5V6c.6-.45 1.25-.75 2-1 1.11-.35 2.33-.5 3.5-.5 1.95 0 4.05.4 5.5 1.5 1.45-1.1 3.55-1.5 5.5-1.5 1.17 0 2.39.15 3.5.5.75.25 1.4.55 2 1v14.6c0 .25-.25.5-.5.5-.1 0-.15 0-.25-.05-1.4-.75-3.1-1.05-4.75-1.05-1.7 0-4.15.65-5.5 1.5M12 8v11.5c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5V7c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5m1 3.5c1.11-.68 2.6-1 4.5-1 .91 0 1.76.09 2.5.28V9.23c-.87-.15-1.71-.23-2.5-.23-1.77 0-3.27.28-4.5.84v1.66m4.5.17c-1.71 0-3.21.26-4.5.79v1.69c1.11-.65 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24v-1.5c-.87-.16-1.71-.23-2.5-.23m2.5 2.9c-.87-.16-1.71-.24-2.5-.24-1.83 0-3.33.27-4.5.8v1.69c1.11-.66 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24v-1.5Z"/></svg> -->
	  </span>
	  </a>
	</li>
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#required-materials" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113c-9.3-9.4-9.3-24.6 0-34s24.6-9.4 33.9 0L63 101.1l55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L63 261.2l55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32h224c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32h224c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32zm-64 160c0-17.7 14.3-32 32-32h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H192c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg></span>&nbsp;Required Materials
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#suggested-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg></span>&nbsp;Suggested Reading
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                

  




              
              <article class="md-content__inner md-typeset">
                

<!-- Adds file-eye icon to view hookup guide as a single page -->

	<a href="/SparkFun_Thing_Plus_RA6M5/print_view" title="View as Single-Page" class="md-content__button md-icon">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.8 21c-.2-.4-.5-.8-.6-1.3l-.4-.7H8v-5h5c1.2-.6 2.6-1 4-1 1.9 0 3.6.6 5 1.6V11c0-1.7-1.3-3-3-3H5c-1.7 0-3 1.3-3 3v6h4v4h3.8M19 10c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1m-1-3H6V3h12v4m-1 11c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1m0-3c-2.7 0-5.1 1.7-6 4 .9 2.3 3.3 4 6 4s5.1-1.7 6-4c-.9-2.3-3.3-4-6-4m0 6.5c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5Z"/></svg>
	</a>



                  
  



  
    <a href="https://github.com/sparkfun/SparkFun_Thing_Plus_RA6M5/blob/main/docs/print_view.md" title="Edit this page" class="md-content__button md-icon" target="_blank" rel="noopener">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 12h8v2H8v-2m2 8H6V4h7v5h5v3.1l2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4v-2m-2-2h4.1l.9-.9V16H8v2m12.2-5c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link"></a></h1>
<div class="grid cards desc">
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener">
    <strong>RA6M5 Thing Plus</strong><br>
    <strong>SKU:</strong> WRL-24243</p>
<hr />
<p><figure markdown>
<img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/5/3/4/WRL-24243-Thing-Plus-RA6M5-Feature.jpg">
</figure></a></p>
<p><center></p>
<p><article class="video-500px">
<iframe src="https://www.youtube.com/embed/A9NTdowiY_o" title="Product Showcase Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<img alt="QR code to product video" class="qr" src="../assets/img/qr_code/product_video.png" width="100" />
</article></p>
<p><a class="md-button md-button--primary" href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener">&nbsp;<img alt="QR code to product page" class="tinyqr" src="../assets/img/qr_code/product-low.png" />&nbsp;&nbsp;Purchase from SparkFun <span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 24C0 10.7 10.7 0 24 0h45.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5l-51.6-271c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zm128 440a48 48 0 1 1 96 0 48 48 0 1 1-96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20h44v44c0 11 9 20 20 20s20-9 20-20v-44h44c11 0 20-9 20-20s-9-20-20-20h-44V96c0-11-9-20-20-20s-20 9-20 20v44h-44c-11 0-20 9-20 20z"/></svg></span>&nbsp;&nbsp;&nbsp;</a>
</center></p>
</li>
<li>
<p>Clocking in at 200MHz, the RA6M5 is a high-performance microcontroller from <a href="https://www.renesas.com/" target="_blank" rel="noopener">Renesas</a> that is perfect for real-time applications. The <a href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener">SparkFun Thing Plus - RA6M5</a>, is our latest <a href="https://www.sparkfun.com/thing_plus" target="_blank" rel="noopener">Thing Plus board</a> featuring the standard Qwiic connector, <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> <abbr title="Lithium-Ion Polymer">LiPo</abbr> battery connector, 21 <abbr title="General Purpose Input and Output">GPIO</abbr> pins broken out in a Feather footprint, and status indicator LEDs. At the core is the RA6M5 microcontroller, a low-power Arm<sup>¬Æ</sup> Cortex<sup>¬Æ</sup>-M33 processor with an available 512kB of <abbr title="Static Random-Access Memory">SRAM</abbr> and 2MB of Flash and an extensive list of peripheral capabilities. Additionally, we have included 16MB of <abbr title="Quad-SPI">QSPI</abbr> Flash and an <abbr title="Secure Digital">SD</abbr> card slot on the board, so users won't have to worry about running out of memory space or data storage options.</p>
<p>The SparkFun RA6M5 Thing Plus also features Bluetooth¬Æ Low Energy connectivity, thanks to the provided DA14531MOD module <em>(also from Renesas)</em>. When actively transmitting, the DA14531MOD sips a mere 4mA and is capable of operating from a small coin-cell battery. The firmware provided on the module features Renesas' <a href="https://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/index.html" target="_blank" rel="noopener">SmartBond‚Ñ¢ - CodeLess‚Ñ¢ AT command</a> set. Therefore, users only need to send AT commands to configure a Bluetooth connection; without the need to reprogram the module.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While the Thing Plus - RA6M5 does include some 5V tolerant pins, it is primarily a <strong>3.3V</strong> <em>logic-level</em> board.</p>
<p>While the full capabilities of the RA6M5 support a broad range of features, only a limited set may be implemented, by default, in the <a href="https://github.com/arduino/ArduinoCore-renesas" target="_blank" rel="noopener">Renesas-Arduino core</a>. However, the capabilities of the Thing Plus - RA6M5 should be comparable to the <a href="https://store.arduino.cc/collections/portenta-family/products/portenta-c33" target="_blank" rel="noopener">Arduino Portenta C33</a>; with the exclusion of WiFi connectivity.</p>
</div>
</li>
</ul>
</div>
<h2 id="required-materials"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113c-9.3-9.4-9.3-24.6 0-34s24.6-9.4 33.9 0L63 101.1l55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L63 261.2l55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32h224c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32h224c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32zm-64 160c0-17.7 14.3-32 32-32h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H192c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg></span>&nbsp;Required Materials<a class="headerlink" href="#required-materials" title="Permanent link"></a></h2>
<p>To get started, users will need a few items. Some users may already have a few of these items, feel free to adjust accordingly.</p>
<div class="annotate">
<ul>
<li>Computer with an operating system (OS) that is compatible with all the software installation requirements</li>
<li><a href="https://www.sparkfun.com/products/14743" target="_blank" rel="noopener"><abbr title="Universal Serial Bus">USB</abbr> 3.1 Cable A to C - 3 Foot</a> - Used to interface with the RA6M5 Thing Plus (1)</li>
<li><a href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener">SparkFun RA6M5 Thing Plus</a></li>
</ul>
</div>
<ol>
<li>If your computer doesn't have a <abbr title="Universal Serial Bus">USB</abbr>-A slot, then choose an appropriate cable or adapter.</li>
</ol>
<div class="grid cards col-4">
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/14743" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="USB 3.1 Cable A to C - 3 Foot" src="https://cdn.sparkfun.com/assets/parts/1/2/9/7/2/14743-USB_3.1_Cable_A_to_C_-_3_Foot-01.jpg">
    </figure></p>
<hr />
<p><strong><abbr title="Universal Serial Bus">USB</abbr> 3.1 Cable A to C - 3 Foot</strong><br>
CAB-14743</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/5/3/4/WRL-24243-Thing-Plus-RA6M5-Feature.jpg">
    </figure></p>
<hr />
<p><strong>RA6M5 Thing Plus</strong><br>
WRL-24243</a></p>
</li>
</ul>
</div>
<details class="note">
<summary>Data Logging</summary>
<p>This board is capable of logging data to an &micro;<abbr title="Secure Digital">SD</abbr> card. Please check out the <a href="https://www.sparkfun.com/categories/351" target="_blank" rel="noopener">memory cards and accessories</a> in our product catalog.</p>
<div class="grid cards col-4" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/15107" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/4/7/0/15107-microSD_Card_-_1GB__Class_4_-01.jpg">
    </figure>       </p>
<hr />
<p><strong>microSD Card - 1GB (Class 4)</strong><br>
COM-15107</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/13004" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/9/9/5/8/13004-03.jpg">
    </figure>       </p>
<hr />
<p><strong>microSD <abbr title="Universal Serial Bus">USB</abbr> Reader</strong><br>
COM-13004</a></p>
</li>
</ul>
</div>
</details>
<details class="note">
<summary>Headers and Wiring</summary>
<p>To add headers or hookup wires, users will need <a href="https://www.sparkfun.com/categories/49" target="_blank" rel="noopener">soldering equipment</a> and <a href="https://www.sparkfun.com/categories/381" target="_blank" rel="noopener">headers</a>/<a href="https://www.sparkfun.com/search/results?term=hook-up+wire" target="_blank" rel="noopener">wires</a>.</p>
<div class="admonition tip">
<p class="admonition-title">New to soldering?</p>
<p>Check out our <a href="https://learn.sparkfun.com/tutorials/5" target="_blank" rel="noopener">How to Solder: Through-Hole Soldering</a> tutorial for a quick introduction!</p>
<div class="grid cards col-4" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/5" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/e/3/9/9/4/51d9fbe1ce395f7a2a000000.jpg">
    </figure></p>
<hr />
<p><strong>How to Solder: Through-Hole Soldering</strong></a></p>
</li>
</ul>
</div>
</div>
<div class="grid cards col-4" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/9325" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/8/7/3/09325_9161-Solder_Lead_Free_-_100-gram_Spool-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Solder Lead Free - 100-gram Spool</strong><br>
TOL-09325</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/24063" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/3/8/5/KIT-24063-PINECIL-Soldering-Iron-Kit-Feature.jpg">
    </figure></p>
<hr />
<p><strong>PINECIL Soldering Iron Kit</strong><br>
KIT-24063</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/14579" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/2/7/2/5/14579-Chip_Quik_No-Clean_Flux_Pen_-_10mL-01.jpg">
    </figure></p>
<hr />
<p><strong>Chip Quik No-Clean Flux Pen - 10mL</strong><br>
TOL-14579</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/15187" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/6/0/4/15187-Feather_Stackable_Header_Kit-01.jpg">
    </figure></p>
<hr />
<p><strong>Feather Stackable Header Kit</strong><br>
PRT-15187</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/116" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/0/6/00116-02-L.jpg">
    </figure></p>
<hr />
<p><strong>Break Away Headers - Straight</strong><br>
PRT-00116</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/11375" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/7/1/2/0/11375-Hook-Up_Wire_-_Assortment__Solid_Core__22_AWG_-01.jpg">
    </figure></p>
<hr />
<p><strong>Hook-Up Wire - Assortment (Stranded, 22 AWG)</strong><br>
PRT-11375</a></p>
</li>
</ul>
</div>
</details>
<details class="note">
<summary>Li-Po Battery</summary>
<p>For mobile applications, users will want to pick up a <a href="https://www.sparkfun.com/categories/54" target="_blank" rel="noopener">single-cell <abbr title="Lithium-Ion Polymer">LiPo</abbr> battery</a> from our catalog.</p>
<div class="grid cards col-4" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/13855" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/4/6/2/13855-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Lithium Ion Battery - 2Ah</strong><br>
PRT-13855</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/13851" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/4/5/8/13857-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Lithium Ion Battery - 400mAh</strong><br>
PRT-13851</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/13813" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/4/0/1/13813-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Lithium Ion Battery - 1Ah</strong><br>
PRT-13813</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/13853" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/4/6/0/13853-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Lithium Ion Battery - 110mAh</strong><br>
PRT-13853</a></p>
</li>
</ul>
</div>
</details>
<details class="note">
<summary>Qwiic Devices and Cables</summary>
<p>Our Qwiic connect system is a simple solution for daisy chaining I<sup>2</sup>C devices without the hassle of soldering or checking wire connections. Check out other <a href="https://www.sparkfun.com/categories/399" target="_blank" rel="noopener">Qwiic devices</a> from our catalog.</p>
<div class="grid cards col-2" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/15081" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/4/3/1/15081-_01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Cable Kit</strong><br>
KIT-15081</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/15109" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/4/7/5/15109-Qwiic_Cable_-_Grove_Adapter__150mm_-01.jpg">
    </figure></p>
<hr />
<p><strong>Qwiic Cable - Grove Adapter (100mm)</strong><br>
PRT-15109</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/23453" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/3/7/6/0/23453-Qwiic-OLED-Feature-WithDisplay.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic OLED - (1.3in., 128x64)</strong><br>
LCD-23453</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/14414" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/2/3/4/0/14414-SparkFun_GPS_Breakout_-_XA1110__Qwiic_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun <abbr title="Global Positioning System">GPS</abbr> Breakout - XA1110 (Qwiic)</strong><br>
<abbr title="Global Positioning System">GPS</abbr>-14414</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/15168" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/5/5/8/15168-SparkFun_Qwiic_Joystick-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Joystick</strong><br>
COM-15168</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/16784" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/5/6/8/9/16784-SparkFun_Qwiic_Mux_Breakout_V2_-_8_Channel__TCA9548A_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Mux Breakout - 8 Channel (TCA9548A)</strong><br>
BOB-16784</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/6/9/6/19096-SparkFun_Environmental_Sensor_Breakout_-_BME688__Qwiic_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Environmental Sensor - BME688 (Qwiic)</strong><br>
SEN-19096</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/19013" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/6/1/2/19013-SparkFun_Qwiic_Mini_ToF_Imager_-_VL53L5CX-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Mini ToF Imager - VL53L5CX</strong><br>
SEN-19013</a></p>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">What is Qwiic?</p>
<div class="grid" markdown>
<div markdown>
<p><!-- Qwiic Banner -->
<center>
<a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener"><img alt="Qwiic Logo - light theme" src="../assets/img/qwiic_logo-light.png#only-light" width="400" /></a>
<a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener"><img alt="Qwiic Logo - dark theme" src="../assets/img/qwiic_logo-dark.png#only-dark" width="400" /></a>
</center></p>
<hr />
<p>The <a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">Qwiic connect system</a> is a solderless, polarized connection system that allows users to seamlessly daisy chain I<sup>2</sup>C boards together. Play the video, to learn more about the Qwiic connect system or click on the banner above to learn more about <a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">Qwiic products</a>.</p>
</div>
<div style="max-height=400px;" markdown>
<p><center>
<div class="video-500px">
<iframe src="https://www.youtube.com/embed/x0RDEHqFIF8" title="SparkFun's Qwiic Connect System" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
<p><img alt="QR code to instructional video" class="qr" src="../assets/img/qr_code/qwiic_video.png" width="100" />
</div>
</center></p>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Features of the Qwiic System</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="no-soldering" name="__tabbed_1" type="radio" /><input id="polarized-connector" name="__tabbed_1" type="radio" /><input id="daisy-chain-able" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="no-soldering">No Soldering</label><label for="polarized-connector">Polarized Connector</label><label for="daisy-chain-able">Daisy Chain-able</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img align="left" alt="no soldering - light theme" src="../assets/img/no_soldering-light.png#only-light" width="90" />
<img align="left" alt="no soldering - dark theme" src="../assets/img/no_soldering-dark.png#only-dark" width="90" /></p>
<p>Qwiic cables (4-pin <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr>) plug easily from development boards to sensors, shields, accessory boards and more, making easy work of setting up a new prototype.</p>
</div>
<div class="tabbed-block">
<p><img align="left" alt="polarized connector - light theme" src="../assets/img/polarized_connector-light.png#only-light" width="90" />
<img align="left" alt="polarized connector - dark theme" src="../assets/img/polarized_connector-dark.png#only-dark" width="90" /></p>
<p>There's no need to worry about accidentally swapping the <code>SDA</code> and <code>SCL</code> wires on your breadboard. The Qwiic connector is polarized so you know you‚Äôll have it wired correctly every time.</p>
<p>The part numbers for the <abbr title="Printed Circuit Board">PCB</abbr> connector is <code>SM04B-SRSS</code> (<a href="https://cdn.sparkfun.com/assets/parts/1/2/2/8/9/Qwiic_Connector_Datasheet.pdf" target="_blank" rel="noopener">Datasheet</a>) and the mating connector on the cables is <code>SHR04V-S-B</code>; or an equivalent <em>1mm pitch, 4-pin <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connection</em>.</p>
</div>
<div class="tabbed-block">
<p><img align="left" alt="daisy chainable - light theme" src="../assets/img/daisy_chainable-light.png#only-light" width="90" />
<img align="left" alt="daisy chainable - dark theme" src="../assets/img/daisy_chainable-dark.png#only-dark" width="90" /></p>
<p>It‚Äôs time to leverage the power of the I<sup>2</sup>C bus! Most Qwiic boards will have two or more connectors on them, allowing multiple devices to be connected.</p>
</div>
</div>
</div>
</div>
</div>
</details>
<details class="note">
<summary>Jumper Modification</summary>
<p>To modify the <a href="../hardware_overview/#jumpers">jumpers</a>, users will need <a href="https://www.sparkfun.com/categories/49" target="_blank" rel="noopener">soldering equipment</a> and/or a <a href="https://www.sparkfun.com/categories/379" target="_blank" rel="noopener">hobby knife</a>.</p>
<div class="admonition tip">
<p class="admonition-title">New to jumper pads?</p>
<p>Check out our <a href="https://learn.sparkfun.com/tutorials/664" target="_blank" rel="noopener">Jumper Pads and <abbr title="Printed Circuit Board">PCB</abbr> Traces Tutorial</a> for a quick introduction!</p>
<div class="grid cards col-4" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/664" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/6/4/PCB_TraceCutLumenati.jpg">
    </figure></p>
<hr />
<p><strong>How to Work with Jumper Pads and <abbr title="Printed Circuit Board">PCB</abbr> Traces</strong></a></p>
</li>
</ul>
</div>
</div>
<div class="grid cards col-4" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/22265" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/2/2/0/2/TOL-22265-Beginner-Tool-Kit-Feature.jpg">
    </figure>       </p>
<hr />
<p><strong>SparkFun Beginner Tool Kit</strong><br>
TOL-22265</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9200" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/6/4/6/09200-Hobby_Knife-01.jpg">
    </figure></p>
<hr />
<p><strong>Hobby Knife</strong><br>
TOL-09200</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/14579" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/2/7/2/5/14579-Chip_Quik_No-Clean_Flux_Pen_-_10mL-01.jpg">
    </figure></p>
<hr />
<p><strong>Chip Quik No-Clean Flux Pen - 10mL</strong><br>
TOL-14579</a></p>
</li>
</ul>
</div>
</details>
<h2 id="suggested-reading"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg></span>&nbsp;Suggested Reading<a class="headerlink" href="#suggested-reading" title="Permanent link"></a></h2>
<p>As a more sophisticated product, we will skip over the more fundamental tutorials (i.e. <a href="https://learn.sparkfun.com/tutorials/voltage-current-resistance-and-ohms-law" target="_blank" rel="noopener"><strong>Ohm's Law</strong></a> and <a href="https://learn.sparkfun.com/tutorials/what-is-electricity" target="_blank" rel="noopener"><strong>What is Electricity?</strong></a>). However, below are a few tutorials that may help users familiarize themselves with various aspects of the board.</p>
<div align="center" class="grid cards col-4">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/61" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing the Arduino IDE" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/1/arduinoThumb.jpg">
    </figure></p>
<hr />
<p><strong>Installing the Arduino IDE</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/15" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing an Arduino Library" src="https://cdn.sparkfun.com/c/264-148/assets/b/e/4/b/2/50f04b99ce395fd95e000001.jpg">
    </figure></p>
<hr />
<p><strong>Installing an Arduino Library</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/1265" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing Board Definitions in the Arduino IDE" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/2/6/5/sparkfun_boards.PNG">
    </figure></p>
<hr />
<p><strong>Installing Board Definitions in the Arduino IDE</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/62" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/2/Input_Output_Logic_Level_Tolerances_tutorial_tile.png">
    </figure></p>
<hr />
<p><strong>Logic Levels</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/89" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/3/7/6/6/0/51c48875ce395f745a000000.png">
    </figure></p>
<hr />
<p><strong>Analog vs. Digital</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/35" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/d/d/5/c/4/5114013ece395f527e000000.jpg">
    </figure></p>
<hr />
<p><strong>Analog to Digital Conversion</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/51" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/f/9/c/8/a/512e869bce395fbc64000002.JPG">
    </figure></p>
<hr />
<p><strong>Pulse Width Modulation</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/8" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/7/d/f/9/9/50d24be7ce395f1f6c000000.jpg">
    </figure></p>
<hr />
<p><strong>Serial Communication</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/112" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/1/2/thumb.jpg">
    </figure></p>
<hr />
<p><strong>Serial Terminal Basics</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/114" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/1/4/dddtt.jpg">
    </figure></p>
<hr />
<p><strong>Data Types in Arduino</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/82" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/8/2/I2C-Block-Diagram.jpg">
    </figure></p>
<hr />
<p><strong><abbr title="Inter-Integrated Circuit">I2C</abbr></strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/16" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/6/spiThumb_Updated.jpg">
    </figure></p>
<hr />
<p><strong><abbr title="Serial Peripheral Interface">SPI</abbr></strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/316" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/3/1/6/LED_Demo_1.gif">
    </figure></p>
<hr />
<p><strong>Processor Interrupts with Arduino</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/5" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/e/3/9/9/4/51d9fbe1ce395f7a2a000000.jpg">
    </figure></p>
<hr />
<p><strong>How to Solder: Through-Hole Soldering</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/664" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/6/4/PCB_TraceCutLumenati.jpg">
    </figure></p>
<hr />
<p><strong>How to Work with Jumper Pads and <abbr title="Printed Circuit Board">PCB</abbr> Traces</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/80" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/8/3/6/3/b/51dc6e21ce395f0807000000.png">
    </figure></p>
<hr />
<p><strong>Integrated Circuits</strong></a></p>
</li>
</ul>
</div>
<h1 id="hardware-overview">Hardware Overview<a class="headerlink" href="#hardware-overview" title="Permanent link"></a></h1>
<h2 id="dimensions">Dimensions<a class="headerlink" href="#dimensions" title="Permanent link"></a></h2>
<p>The circuit board dimensions are illustrated in the drawing below; the measurements are in inches.</p>
<figure>
<p><a href="../assets/board_files/dimensions.png" title="Click to enlarge"><img alt="Board Dimensions" src="../assets/board_files/dimensions.png" width="750" /></a></p>
<figcaption>
<p><a href="../assets/board_files/dimensions.pdf">Dimensions (PDF)</a> of the RA6M5 Thing Plus, in inches.</p>
</figcaption>
</figure>
<details class="tip">
<summary>Need more measurements?</summary>
<p>For more information about the board's dimensions, users can download the <a href="../assets/board_files/eagle_files.zip"><strong>Eagle files</strong></a> for the board. These files can be opened in Eagle and additional measurements can be made with the dimensions tool.</p>
<details class="info">
<summary><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"/></svg></span> Eagle - Free Download!</summary>
<p>Eagle is a <a href="" title="computer-aided design">CAD</a> program for electronics that is free to use for hobbyists and students. However, it does require an account registration to utilize the software.</p>
<p><center>
<a class="md-button md-button--primary" href="https://www.autodesk.com/products/eagle/free-download" title="Go to downloads page" width="200px" target="_blank" rel="noopener">Download from<br><span class="twemoji autodesk"><svg role="img" viewbox=" 0 0 335 34.397" xmlns="http://www.w3.org/2000/svg"><title>Autodesk primary logo</title><path d="M 0.253,33.578 29.488,15.376 H 44.66 c 0.468,0 0.896,0.37 0.896,0.897 0,0.428 -0.195,0.604 -0.428,0.74 l -14.355,8.614 c -0.935,0.565 -1.266,1.676 -1.266,2.514 l -0.019,5.437 h 18.25 V 2.026 c 0,-0.604 -0.468,-1.13 -1.169,-1.13 H 29.157 L 0,19.02 v 14.558 z m 239.72,10e-4 h 26.294 V 26.504 H 248.309 V 20.58 h 14.452 V 13.486 H 248.309 V 7.971 h 17.958 V 0.896 H 239.973 Z M 74.752,0.896 62.228,33.579 h 8.609 l 2.181,-6.12 h 13.985 l 2.142,6.12 h 8.901 L 85.367,0.896 Z m 0.74,19.606 4.577,-12.804 4.499,12.804 z M 133.766,7.971 h 10.537 v 25.608 h 8.317 V 7.971 h 10.498 V 0.896 h -29.352 z m -12.114,13.018 c 0,4.249 -2.61,5.964 -7.07,5.964 -4.324,0 -7.148,-1.793 -7.148,-5.964 V 0.779 h -8.336 v 21.165 c 0,9.432 8.414,12.375 15.464,12.375 7.012,0 15.387,-2.943 15.387,-12.375 V 0.779 h -8.336 v 20.21 z M 335,0.896 h -9.914 l -11.88,13.272 V 0.896 h -8.337 l 0.039,32.683 h 8.298 V 21.165 l 11.257,12.414 H 335 L 319.808,17.442 Z m -114.621,0 h -15.27 v 32.683 h 15.27 c 11.706,0 14.939,-4.366 14.939,-16.585 0,-11.479 -3.097,-16.098 -14.939,-16.098 z m -0.331,25.608 h -6.622 V 7.971 h 6.622 c 5.22,0 6.778,1.422 6.778,9.023 0,6.938 -1.753,9.51 -6.778,9.51 z m 71.402,-12.16 -7.596,-0.858 c -4.441,-0.487 -5.551,-1.598 -5.551,-3.099 0,-1.676 2.279,-3.176 6.739,-3.176 4.285,0 6.525,1.598 6.934,3.995 h 8.161 C 299.727,4.287 293.943,0 285.49,0 c -10.05,0 -15.094,3.995 -15.094,11.07 0,5.749 3.35,8.458 10.283,9.198 l 7.713,0.819 c 2.941,0.331 4.285,1.461 4.285,2.942 0,1.676 -1.967,3.177 -6.7,3.177 -5.473,0 -7.674,-1.384 -8.044,-4.171 h -8.005 c 0.37,7.523 5.259,11.362 15.757,11.362 9.582,0 14.938,-4.209 14.938,-10.543 0,-5.515 -3.174,-8.828 -9.173,-9.51 z M 182.497,0 c -11.881,0 -18.035,7.308 -18.035,17.15 0,9.881 6.154,17.228 18.035,17.228 11.92,0 18.075,-7.347 18.075,-17.228 C 200.591,7.308 194.417,0 182.497,0 Z m 0,27.031 c -6.155,0 -9.543,-3.762 -9.543,-9.881 0,-6.003 3.388,-9.803 9.543,-9.803 6.213,0 9.544,3.8 9.544,9.803 0.019,6.139 -3.331,9.881 -9.544,9.881 z"/></svg></span></a>
</center></p>
</details>
<details class="info">
<summary><img alt="üìè" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f4cf.svg" title=":straight_ruler:"> Dimensions Tool</summary>
<p>This video from Autodesk demonstrates how to utilize the dimensions tool in Eagle, to include additional measurements:</p>
<p><center></p>
<p><div class="video">
<iframe src="https://www.youtube.com/embed/dZLNd1FtNB8" title="EAGLE Dimension Tool" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
<p><img alt="QR code to instructional video" class="qr" src="../assets/img/qr_code/dimension_tool.png" width="100" />
</div></p>
<p></center></p>
</details>
</details>
<h2 id="usb-connector"><abbr title="Universal Serial Bus">USB</abbr> Connector<a class="headerlink" href="#usb-connector" title="Permanent link"></a></h2>
<p>The <abbr title="Universal Serial Bus">USB</abbr>-C connector is used to provide power and program the board. For most users, it will also be the primary programming interface for the RA6M5 Thing Plus.</p>
<figure>
<p><a href="../assets/img/hookup_guide/USB.png" title="Click to enlarge"><img alt="USB-C Connectors" src="../assets/img/hookup_guide/USB.png" width="750" /></a></p>
<figcaption>
<p><abbr title="Universal Serial Bus">USB</abbr>-C connector on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
<h2 id="power">Power<a class="headerlink" href="#power" title="Permanent link"></a></h2>
<p>The RA6M5 Thing Plus only requires <strong>3.3V</strong> to power the board. However, the simplest method to power the board is through the <abbr title="Universal Serial Bus">USB</abbr>-C connector. Alternatively, the <code>3V3</code>, <code>VBAT</code>, and <code>VUSB</code> pins can also be used to supply power to the board.</p>
<div class="grid cards desc">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/Power.png" title="Click to enlarge"><img alt="Power connections" src="../assets/img/hookup_guide/Power.png" width="200" /></a></p>
<figcaption>
<p>Power connections on the RA6M5 Thing Plus <abbr title="Printed Circuit Board">PCB</abbr>.</p>
</figcaption>
</figure>
</div>
<div>
<p><center></p>
<pre class="mermaid"><code>
flowchart LR
    A[USB-C] === B(("`**VUSB**`")) ===&gt; |VUSB &gt; VBAT| Switch;

    subgraph Battery Charger
        direction LR
        C[MCP73831] -.-&gt; D[LiPo Battery];
    end

    subgraph Switch
        F[LM66200];
    end

    B ==&gt; C;
    D === E(("`**VBAT**`")) == VBAT &gt; VUSB ==&gt; Switch;

    F ===   H[RT9080] ==&gt; I(("`**3V3**`"));
    F === G[RT9080] ==&gt; J(("`**VREF**`"));

    click B "#vusb"
    click C "#charging-circuit"
    click E "#vbat"
    click F "#power-control"
    click J "#vref"
    click I "#3v3"</code></pre>
<p></center></p>
<p>Below, is a summary of the power circuitry for this board:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:6"><input checked="checked" id="3v3" name="__tabbed_2" type="radio" /><input id="vusb" name="__tabbed_2" type="radio" /><input id="vbat" name="__tabbed_2" type="radio" /><input id="vref" name="__tabbed_2" type="radio" /><input id="gnd" name="__tabbed_2" type="radio" /><input id="qwiic-connector_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="3v3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m16.56 5.44-1.45 1.45A5.969 5.969 0 0 1 18 12a6 6 0 0 1-6 6 6 6 0 0 1-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 5.44A7.961 7.961 0 0 0 4 12a8 8 0 0 0 8 8 8 8 0 0 0 8-8c0-2.72-1.36-5.12-3.44-6.56M13 3h-2v10h2"/></svg></span> <code>3V3</code></label><label for="vusb"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 2c-1.1 0-2 .9-2 2v8H5v4l4 4v2h6v-2l4-4v-4h-1V4a2 2 0 0 0-2-2M8 4h8v8H8m1-5v2h2V7m2 0v2h2V7Z"/></svg></span> <code>VUSB</code></label><label for="vbat"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.67 4H15V2H9v2H7.33A1.33 1.33 0 0 0 6 5.33v15.33C6 21.4 6.6 22 7.33 22h9.33c.74 0 1.34-.6 1.34-1.33V5.33C18 4.6 17.4 4 16.67 4M11 20v-5.5H9L13 7v5.5h2"/></svg></span> <code>VBAT</code></label><label for="vref"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.5 21c-3 0-4.19-4.24-5.45-8.72C10.14 9.04 9 5 7.5 5 4.11 5 4 11.93 4 12H2c0-.37.06-9 5.5-9 3 0 4.21 4.25 5.47 8.74C13.83 14.8 15 19 16.5 19c3.44 0 3.53-6.93 3.53-7h2c0 .37-.06 9-5.53 9Z"/></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 2a8 8 0 0 1 8 8c0 2.4-1 4.5-2.7 6-1.4-1.3-3.3-2-5.3-2s-3.8.7-5.3 2C5 16.5 4 14.4 4 12a8 8 0 0 1 8-8m2 1.89c-.38.01-.74.26-.9.65l-1.29 3.23-.1.23c-.71.13-1.3.6-1.57 1.26-.41 1.03.09 2.19 1.12 2.6 1.03.41 2.19-.09 2.6-1.12.26-.66.14-1.42-.29-1.98l.1-.26 1.29-3.21.01-.03c.2-.51-.05-1.09-.56-1.3-.13-.05-.26-.07-.41-.07M10 6a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1M7 9a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1m10 0a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1Z"/></svg></span> <code>VREF</code></label><label for="gnd"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 16h5v-2H3v2m6.5 0h5v-2h-5v2m6.5 0h5v-2h-5v2M3 20h2v-2H3v2m4 0h2v-2H7v2m4 0h2v-2h-2v2m4 0h2v-2h-2v2m4 0h2v-2h-2v2M3 12h8v-2H3v2m10 0h8v-2h-8v2M3 4v4h18V4H3Z"/></svg></span> <code>GND</code></label><label for="qwiic-connector_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.4 7.5c.8.8.8 2.1 0 2.8l-2.8 2.8-7.8-7.8 2.8-2.8c.8-.8 2.1-.8 2.8 0l1.8 1.8 3-3 1.4 1.4-3 3 1.8 1.8m-5.8 5.8-1.4-1.4-2.8 2.8-2.1-2.1 2.8-2.8-1.4-1.4-2.8 2.8-1.5-1.4-2.8 2.8c-.8.8-.8 2.1 0 2.8l1.8 1.8-4 4 1.4 1.4 4-4 1.8 1.8c.8.8 2.1.8 2.8 0l2.8-2.8-1.4-1.4 2.8-2.9Z"/></svg></span> Qwiic Connector</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Primary power for the RA6M5 Thing Plus<ul>
<li>Powers the RA6M5 module, DA14531MOD, <abbr title="Quad-SPI">QSPI</abbr> flash, &micro;<abbr title="Secure Digital">SD</abbr> card slot, Qwiic connector, WS2812 <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr>, and power <abbr title="Light Emitting Diode">LED</abbr></li>
</ul>
</li>
<li>A regulated <strong>3.3V</strong> is provided by an <a href="../assets/component_documentation/RT9080.pdf">RT9080</a> <abbr title="Low Dropout (Regulator)">LDO</abbr> from <code>VUSB</code> or <code>VBAT</code><ul>
<li>The output voltage from the RT9080 is controlled by the <code>EN</code> pin on the board</li>
<li>The RT9080 can source up to <strong>600mA</strong> of current, which is only limited by the power source from the LM66200 switch<ul>
<li>The power source from the LM66200 is automatically switched between <code>VUSB</code> or <code>VBAT</code>, based on which has the greater voltage</li>
</ul>
</li>
</ul>
</li>
<li>As an input, it requires a <strong>regulated 3.3V</strong> to avoid contention with the <abbr title="Low Dropout (Regulator)">LDO</abbr> regulator</li>
</ul>
<div class="admonition info">
<p class="admonition-title"><span style="font-weight: 400;">The input voltage range for the RT9080 is 1.2-5.5V</span></p>
</div>
</div>
<div class="tabbed-block">
<ul>
<li>Usually powered through the <abbr title="Universal Serial Bus">USB</abbr>-C connector <em>(<strong>5V</strong>)</em></li>
<li>Input voltage range: <strong>3.75 - 5V</strong><ul>
<li>The maximum voltage is limited by the ideal diode switch at <strong>5.5V</strong> <em>(1.6-5.5V)</em></li>
<li>The minimum voltage is limited by the charge controller at <strong>3.75V</strong> <em>(3.75-6V)</em></li>
</ul>
</li>
<li>Primary power source for the <a href="../assets/component_documentation/RT9080.pdf">RT9080 LDOs</a> when <code>VUSB</code> &gt; <code>VBAT</code>; via the LM66200 ideal diode switch</li>
<li>Powers the <a href="../assets/component_documentation/MCP73831.pdf">MCP73831</a> linear charge management controller<ul>
<li>Provides a <strong>213mA</strong> <em>(max)</em> rate of charge to a connected battery</li>
</ul>
</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>The voltage from the <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> battery connector; is meant for single-cell <abbr title="Lithium-Ion Polymer">LiPo</abbr> batteries<ul>
<li>A connected battery will be charged by the <a href="../assets/component_documentation/MCP73831.pdf">MCP73831 charge controller</a>, when sufficient power is provided from <code>VUSB</code></li>
</ul>
</li>
<li>Primary power source for the  <a href="../assets/component_documentation/RT9080.pdf">RT9080 LDOs</a> when <code>VBAT</code> &gt; <code>VUSB</code>; via the LM66200 ideal diode switch</li>
<li>A battery's charge can be monitored through the <a href="../assets/component_documentation/MAX17048.pdf">MAX17048</a> fuel gauge</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>The analog reference voltage for the RA6M5 module's <abbr title="Analog-to-Digital Converter">ADC</abbr> and <abbr title="Digital-to-Analog Converter">DAC</abbr> channels<ul>
<li>Provided by a <a href="../assets/component_documentation/RT9080.pdf">RT9080</a> <abbr title="Low Dropout (Regulator)">LDO</abbr> regulator, separate from one providing the <code>3V3</code> power supply</li>
</ul>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title"><span style="font-weight: 400;">The input voltage range for the RT9080 is 1.2-5.5V</span></p>
</div>
</div>
<div class="tabbed-block">
<ul>
<li>The common ground or the 0V reference for the voltage supplies</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>The 4-pin <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connector provides a regulated 3.3V voltage to peripheral Qwiic devices from <code>3V3</code></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<details class="info">
<summary>Detailed Diagram</summary>
<p><center></p>
<pre class="mermaid"><code>
flowchart LR
    D === E(("`**VBAT**`")) == VBAT &gt; VUSB ==&gt; Switch;
    A[USB-C] === B(("`**VUSB**`")) == VUSB &gt; VBAT ==&gt; Switch;
    C --- T[CHG LED];

subgraph Battery Charger
        C[MCP73831] -.-&gt; D[LiPo&lt;br&gt;3.5-4.2V]
    end

    subgraph Switch
        S[LM66200];
        S === I[RT9080] &amp; H[RT9080];
    end

    subgraph Powered_Components
        L[PWR LED];
        M[RA6M5] --- N[DA14531MOD];
        M --- O[QSPI Flash];
        M --- P[SD Card];
        M --- Q[WS2812 LED];
        M --- I2C;
        subgraph I2C
            R[Qwiic Connector];
            F[MAX17048];
        end
    end

    B ==&gt; C;
    B ====&gt; T;
    I --- U(("`**EN**`"));
    I ==&gt; K(("`**3V3**`")) === Powered_Components;
    H ==&gt; J(("`**VREF**`")) --&gt; M;
    H --- W(("`**D37**`")) --- M;
    D ------ F;
    Switch --- V(("`**D38**`")) --- M;</code></pre>
<p></center></p>
</details>
<p><em>For more details, users can reference the <a href="../assets/board_files/schematic.pdf">schematic</a> and the datasheets of the individual components in the power circuitry.</em></p>
<h3 id="power-status-led">Power Status&nbsp; <abbr title="Light Emitting Diode">LED</abbr><a class="headerlink" href="#power-status-led" title="Permanent link"></a></h3>
<p>The red, <code>PWR</code> <abbr title="Light Emitting Diode">LED</abbr> will light up once <strong>3.3V</strong> is supplied to the board; however, for most users, it will light up when <strong>5V</strong> is supplied through the <abbr title="Universal Serial Bus">USB</abbr> connection or when a <abbr title="Lithium-Ion Polymer">LiPo</abbr> battery is connected to the <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connector.</p>
<figure>
<p><a href="../assets/img/hookup_guide/LED-pwr.png" title="Click to enlarge"><img alt="Power LED" src="../assets/img/hookup_guide/LED-pwr.png" width="750" /></a></p>
<figcaption>
<p>The <code>PWR</code> status <abbr title="Light Emitting Diode">LED</abbr> indicator on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
<h3 id="charging-circuit">Charging Circuit<a class="headerlink" href="#charging-circuit" title="Permanent link"></a></h3>
<p>The charging circuit utilizes the <a href="../assets/component_documentation/MCP73831.pdf">MCP73831 linear charge management controller</a> from <a href="https://www.microchip.com/" target="_blank" rel="noopener">Microchip Technologies</a>, which is powered by the <abbr title="Universal Serial Bus">USB</abbr>-C connector or <code>VUSB</code>. The controller provides a <strong>213mA</strong> charge rate for a <abbr title="Lithium-Ion Polymer">LiPo</abbr> battery connected to the <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connector. Active charging is indicated by the yellow, <code>CHG</code> <abbr title="Light Emitting Diode">LED</abbr>. If the charge controller is shut down or charging is complete, the <code>CHG</code> <abbr title="Light Emitting Diode">LED</abbr> will turn off. The board also includes a <a href="../assets/component_documentation/MAX17048.pdf">MAX17048 fuel gauge</a> from <a href="https://www.analog.com/" target="_blank" rel="noopener">Analog Devices</a> to monitor the charge left on the battery.</p>
<p><center></p>
<pre class="mermaid"><code>
flowchart LR
    A[USB-C] === B(("`**VUSB**`")) ==&gt; C &amp; G;
    D ===&gt; E(("`**VBAT**`"));
    D --- F[MAX17048] === H(("`**3V3**`"));
    G[CHG LED] --- C[MCP73831];

    subgraph Battery Charger
        C -.-&gt; |213mA| D[LiPo&lt;br&gt;3.5-4.2V];
    end</code></pre>
<p></center></p>
<figure>
<p><a href="../assets/img/hookup_guide/power-charging.png" title="Click to enlarge"><img alt="Battery connection and charge indicator" src="../assets/img/hookup_guide/power-charging.png" width="750" /></a></p>
<figcaption>
<p>The <code>CHG</code> status <abbr title="Light Emitting Diode">LED</abbr> and <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connector for the battery on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
<p><em>For more details, please refer to the <a href="../assets/component_documentation/MCP73831.pdf">MCP73831</a> and <a href="../assets/component_documentation/MAX17048.pdf">MAX17048</a> datasheets, <a href="../assets/board_files/schematic.pdf">schematic</a>, and the <a href="#status-leds"><strong>Status LEDs</strong></a> and <a href="#battery-fuel-gauge"><strong>Battery Fuel Gauge</strong></a> sections below.</em></p>
<h3 id="power-control">Power Control<a class="headerlink" href="#power-control" title="Permanent link"></a></h3>
<p>The primary power source for the <a href="../assets/component_documentation/RT9080.pdf">RT9080 <abbr title="Low Dropout (Regulator)">LDO</abbr> regulators</a> is automatically switched between <code>VUSB</code> and <code>VBAT</code> by the <a href="../assets/component_documentation/LM66200.pdf">LM66200 ideal diode switch</a>; based on their voltage levels. This will be indicated by the <code>ST</code> pin of the LM66200, which is connected to the <code>P001</code> <abbr title="General Purpose Input and Output">GPIO</abbr> <em>(<code>D38</code>)</em> of the RA6M5. A <strong><code>LOW</code></strong> state will indicate that power is being supplied from <code>VUSB</code> <em>(or the <abbr title="Universal Serial Bus">USB</abbr>-C connector)</em>; while a <strong><code>HIGH</code></strong> state will indicate power is being drawn from <code>VBAT</code> <em>(or the battery <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connector)</em>.</p>
<p><center></p>
<pre class="mermaid"><code>
flowchart LR
    A[USB-C] === B(("`**VUSB**`")) == VUSB &gt; VBAT ==&gt; Switch;
    U(("`**D38**`")) --- Switch;
    D[LiPo] === E(("`**VBAT**`")) == VBAT &gt; VUSB ==&gt; Switch;

    subgraph Switch
        S[LM66200];
    end

    S === H[RT9080] ===&gt; J(("`**3V3**`"));
    H --- T(("`**EN**`"));
    I --- V(("`**D37**`"));
    S === I[RT9080] ===&gt; K(("`**VREF**`"));</code></pre>
<p></center></p>
<p>The <strong>3.3V</strong> regulated output from the primary RT9080 is enabled by default and controlled by the <code>EN</code> pin on the board. Meanwhile, the voltage output from the RT9080 for the analog reference voltage <em>(<code>VREF</code>)</em> of the RA6M5 is controlled by its <code>P500</code> <abbr title="General Purpose Input and Output">GPIO</abbr> <em>(<code>D37</code>)</em>. Users can disable the 3.3V power output of either of the RT9080 <abbr title="Low Dropout (Regulator)">LDO</abbr> regulators, by setting the associated control pin <strong>LOW</strong>.</p>
<figure>
<p><a href="../assets/img/hookup_guide/power_control.png" title="Click to enlarge"><img alt="Power control" src="../assets/img/hookup_guide/power_control.png" width="750" /></a></p>
<figcaption>
<p>The power inputs/outputs and <code>EN</code> pin on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
<p><em>For more details, please refer to the <a href="../assets/component_documentation/LM66200.pdf">LM66200 datasheet</a>, <a href="../assets/component_documentation/RT9080.pdf">RT9080 datasheet</a>, and <a href="../assets/board_files/schematic.pdf">schematic</a>.</em></p>
<!-- Incomplete data
### Current Consumption
According to the specifications, the RA6M5 draws about **### mA** on average. With the BLE example in this tutorial, have measured it to average around **### mA** and peak at *### mA* while active. The table below summarizes the approximate current draw of the [RA6M5 Thing Plus](https://www.sparkfun.com/products/24243) for various cases and conditions. *(All current measurements were profiled with the [Nordic Power Profiler Kit II](https://www.nordicsemi.com/Products/Development-hardware/Power-Profiler-Kit-2).)*

<center>
<table>
<tbody>
    <tr>
        <th rowspan="2" style="vertical-align:middle; text-align:center">Operation</th>
        <th colspan="4" style="text-align:center">Avg. Current Draw</th>
    </tr>
    <tr>
        <td style="text-align:center">
            LiPo: <b>3.5V</b><br>
            <i>(Low < 5%)</i>
        </td>
        <td style="text-align:center">
            LiPo: <b>3.7V</b><br>
            <i>(~15%)</i>
        </td>
        <td style="text-align:center">
            LiPo: <b>4.2V</b><br>
            <i>(~100%)</i>
        </td>
        <td style="text-align:center; vertical-align:middle">
            USB-C: <b>5V</b><br>
            <i>(No Battery)</i>
        </td>
    </tr>
    <tr>
        <th style="vertical-align:middle">Idle (Blank Code)</th>
        <td style="vertical-align:middle; text-align:center;">
            63 mA<br>
            <i>86 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            63.5 mA<br>
            <i>89 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            64 mA<br>
            <i>88.6 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            67 mA<br>
            <i>89.9 mA (peak)</i>
        </td>
    </tr>
    <tr>
        <th style="vertical-align:middle">Idle: USB + Battery Power</th>
        <td style="vertical-align:middle; text-align:center;">
            --
        </td>
        <td style="vertical-align:middle; text-align:center;">
            --
        </td>
        <td style="vertical-align:middle; text-align:center;">
            90.5 &micro;A<br>
            <i>721 &micro;A (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            N/A
        </td>
    </tr>
    <tr>
        <th style="vertical-align:middle">
            Idle: Battery Charging<br>
            <i>(Current from USB-C)</i>
        </th>
        <td style="vertical-align:middle; text-align:center;">
            395 mA<br>
            <i>420 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            590 mA<br>
            <i>600 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            &gt; 110 mA<br>
            <i>(before shutdown)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            N/A
        </td>
    </tr>
    <tr>
        <th style="vertical-align:middle">RGB <i>(White @ 100%)</i></th>
        <td style="vertical-align:middle; text-align:center;">
            78.4 mA<br>
            <i>105.9 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            79 mA<br>
            <i>106.8 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            79.9 mA<br>
            <i>105.3 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            82.5 mA<br>
            <i>108.2 mA (peak)</i>
        </td>
    </tr>
    <tr>
        <th style="vertical-align:middle">
            WiFi Example<br>
            <i>(Transceiving)</i>
        </th>
        <td style="vertical-align:middle; text-align:center;">
            135 mA<br>
            <i>295 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            137 mA<br>
            <i>310 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            137 mA<br>
            <i>307 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            140 mA<br>
            <i>300 mA (peak)</i>
        </td>
    </tr>
    <tr>
        <th style="vertical-align:middle">
            <a href="https://github.com/espressif/arduino-esp32/blob/master/libraries/ESP32/examples/DeepSleep/TouchWakeUp/TouchWakeUp.ino" target="_blank" rel="noopener">Deep Sleep Example</a><br>
            <i>(MCU Inactive)</i>
        </th>
        <td style="vertical-align:middle; text-align:center;">
            2.5 mA<br>
            <i>2.95 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            2.5 mA<br>
            <i>3 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            2.55 mA<br>
            <i>3 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            2.85 mA<br>
            <i>3.3 mA (peak)</i>
        </td>
    </tr>
    <tr>
        <th style="vertical-align:middle">
            <a href="https://github.com/espressif/arduino-esp32/blob/master/libraries/ESP32/examples/DeepSleep/TouchWakeUp/TouchWakeUp.ino" target="_blank" rel="noopener">Deep Sleep Example</a><br>
            <i>(MCU Inactive + Jumpers Cut)</i>
        </th>
        <td style="vertical-align:middle; text-align:center;">
            842 &micro;A<br>
            <i>1.24 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            848 &micro;A<br>
            <i>1.23 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            866 &micro;A<br>
            <i>1.24 mA (peak)</i>
        </td>
        <td style="vertical-align:middle; text-align:center;">
            1.19 mA<br>
            <i>1.58 mA (peak)</i>
        </td>
    </tr>
</tbody>
</table>
</center>

It is possible for users to reach sub-mA power consumption levels with the deep sleep power modes. Using the [`TimerWakeUp` Deep Sleep example code](https://github.com/espressif/arduino-esp32/blob/master/libraries/ESP32/examples/DeepSleep/TimerWakeUp/TimerWakeUp.ino), the LED jumpers cut, and powering the board through the LiPo battery connection we measured a power consumption of **845 &micro;A** *(990 &micro;A peak)* @ **3.7V** while the MCU was inactive.

<figure markdown>
[![Deep Sleep Power Consumption Profile](./assets/img/hookup_guide/measurement-ulp-from_batt.png){ width="400" }](./assets/img/hookup_guide/measurement-ulp-from_batt.png "Click to enlarge")
<figcaption markdown>The current measurement from `VBAT` at **3.7V** during deep sleep.</figcaption>
</figure>


 -->

<h2 id="ra6m5-microcontroller"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40v-56h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40v-56h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40h-56V24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40h-56V24zm-16 104h192c17.7 0 32 14.3 32 32v192c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32zm192 32H160v192h192V160z"/></svg></span>&nbsp;RA6M5 Microcontroller<a class="headerlink" href="#ra6m5-microcontroller" title="Permanent link"></a></h2>
<p>The brains of the board is the <a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">RA6M5 microcontroller</a> from <a href="https://www.renesas.com/" target="_blank" rel="noopener">Renesas</a>, a low-power Arm<sup>¬Æ</sup> Cortex<sup>¬Æ</sup>-M33 processor with a clock speed up to 200Mhz, 512kB of <abbr title="Static Random-Access Memory">SRAM</abbr>, and 2MB of flash memory. This high-performance microcontroller features an extensive list of peripheral capabilities and is perfect for real-time applications.</p>
<div class="grid cards col-3">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/RA6M5.png" title="Click to enlarge"><img alt="RA6M5 Microcontroller" src="../assets/img/hookup_guide/RA6M5.png" width="270" /></a></p>
<figcaption>
<p>The RA6M5 microcontroller on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
</div>
<div>
<ul>
<li>Arm<sup>¬Æ</sup> Cortex<sup>¬Æ</sup>-M33 Core<ul>
<li>Clock Frequency: 200MHz</li>
<li>Flash Memory: 2MB <em>(code)</em>; 8kB <em>(data)</em></li>
<li><abbr title="Static Random-Access Memory">SRAM</abbr>: 512kB w/ <abbr title="Error Correction Code">ECC</abbr> Support</li>
<li>Arm Memory Protection Unit (Arm <abbr title="Memory Protection Unit">MPU</abbr>)</li>
<li>Secure Crypto Engine</li>
<li>Two Watchdog Timers (<abbr title="Watchdog Timer">WDT</abbr>)</li>
</ul>
</li>
<li>Operating Voltage: 3.0V to 3.6V<ul>
<li>Current Consumption:<ul>
<li>Maximum: 143mA</li>
<li>Normal: 32mA</li>
<li>Sleep: 11mA</li>
<li>Deep Sleep: 0.9-131&micro;A</li>
</ul>
</li>
</ul>
</li>
<li>Operating modes:<ul>
<li>Single-chip or SCI/<abbr title="Universal Serial Bus">USB</abbr> boot</li>
</ul>
</li>
<li>Operating Temperature: -40 to 85 &deg;C</li>
<li>75 <abbr title="General Purpose Input and Output">GPIO</abbr> Pins</li>
<li><abbr title="Realtime Clock">RTC</abbr> with Calendar</li>
<li><abbr title="Cyclic Redundancy Check">CRC</abbr> Calculator</li>
<li>Internal Temperature Sensor</li>
</ul>
</div>
<div>
<p><strong>Peripherals</strong></p>
<ul>
<li>12-bit <abbr title="Analog-to-Digital Converter">ADC</abbr> (x6)</li>
<li>12-bit <abbr title="Digital-to-Analog Converter">DAC</abbr> (x2)</li>
<li>32-bit <abbr title="Pulse Width Modulation">PWM</abbr> Channels (x4)</li>
<li>16-bit <abbr title="Pulse Width Modulation">PWM</abbr> Channels (x6)</li>
<li><abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> (x10)</li>
<li>I<sup>2</sup>C Bus (x3)</li>
<li><abbr title="Serial Peripheral Interface">SPI</abbr> Bus (x2)</li>
<li><abbr title="Quad-SPI">QSPI</abbr> (x1)</li>
<li><abbr title="Secure Digital">SD</abbr>/MMC Host Interface</li>
</ul>
<del class="critic block">
<ul>
<li>OSPI (x1)</li>
<li><abbr title="Controller Area Network">CAN</abbr> Interface</li>
<li><abbr title="Universal Serial Bus">USB</abbr> 2.0 (Full/High Speed)</li>
<li>Ethernet MAC/DMA Controller</li>
<li>Serial Sound Interface Enhanced</li>
<li>Consumer Electronics Control</li>
<li>Capacitive Touch Sensing</li>
</ul>
</del>
<div class="admonition warning">
<p class="admonition-title">Note</p>
<p>Users should be aware that not all of the features, listed above, will be available in the Arduino IDE.</p>
</div>
</div>
</div>
<details class="success">
<summary><abbr title="Device Firmware Update">DFU</abbr> Mode</summary>
<p>If users are having issues uploading code to the board, the RA6M5 can be manually forced into <abbr title="Device Firmware Update">DFU</abbr> mode. This issue, often occurs when the <abbr title="Universal Serial Bus">USB</abbr> connection is busy and a reset can't be triggered on the RA6M5, to initialize the upload process. To force the RA6M5 Thing Plus into <abbr title="Device Firmware Update">DFU</abbr> mode:</p>
<ol>
<li>Double-tap the <span class="keys"><kbd>RST</kbd></span> button<ul>
<li>The <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr> should be fading in/out very slowly</li>
</ul>
</li>
<li>Users should now, be able to upload a new program<ul>
<li>It shouldn't be necessary to select a COM port in the Arduino IDE; only the board needs to be selected</li>
</ul>
</li>
<li>Once programming is complete, the <abbr title="Microcontroller Unit">MCU</abbr> should reboot on its own. Otherwise:<ul>
<li>Press the <span class="keys"><kbd>RST</kbd></span> button</li>
<li>Power cycle the board</li>
</ul>
</li>
</ol>
</details>
<p><em>For more technical specifications for the RA6M5 microcontroller, please refer to the <a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">RA6M5 datasheet</a> and <a href="https://www.renesas.com/us/en/document/man/ra6m5-group-users-manual-hardware?r=1493931" target="_blank" rel="noopener">RA6M5 user manual</a>.</em></p>
<h3 id="debugging-pins">Debugging Pins<a class="headerlink" href="#debugging-pins" title="Permanent link"></a></h3>
<p>Debug pins are available for the RA6M5, as 0.1" test points on the board. However, the debugging feature is only available through the <a href="https://www.renesas.com/us/en/software-tool/flexible-software-package-fsp" target="_blank" rel="noopener">Renesas <abbr title="Flexible Software Package">FSP</abbr></a> <em>(not covered in this tutorial)</em>.</p>
<div class="grid">
<div>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="swd" name="__tabbed_3" type="radio" /><input id="jtag" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="swd"><abbr title="Serial Wire Debug">SWD</abbr></label><label for="jtag"><abbr title="Joint Test Action Group">JTAG</abbr></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<!-- <center>
        <table border="1" markdown>
            <tr markdown>
                <td style="text-align:center" markdown>---</td>
            </tr>
            <tr markdown>
                <td style="text-align:center" markdown>**3.3V**</td>
                <td style="text-align:center" markdown>**SWDIO**</td>
            </tr>
            <tr markdown>
                <td style="text-align:center" markdown>**SWCLK**</td>
                <td style="text-align:center" markdown>**SWO**</td>
            </tr>
            <tr markdown>
                <td style="text-align:center" markdown>**GND**</td>
                <td style="text-align:center" markdown>**RST**</td>
            </tr>
        </table>
    </center> -->
<p><center>
    <table border="1" markdown>
        <tr markdown>
            <td style="text-align:center" markdown><strong><abbr title="Ground">GND</abbr></strong></td>
            <td style="text-align:center" markdown><strong><abbr title="Serial Wire Clock">SWCLK</abbr></strong></td>
            <td style="text-align:center" markdown><strong>3.3V</strong></td>
            <td style="text-align:center" markdown><strong>|</strong></td>
        </tr>
        <tr markdown>
            <td style="text-align:center" markdown><strong><abbr title="Reset">RST</abbr></strong></td>
            <td style="text-align:center" markdown><strong><abbr title="Serial Wire Output">SWO</abbr></strong></td>
            <td style="text-align:center" markdown><strong><abbr title="Serial Wire Data Input/Output">SWDIO</abbr></strong></td>
        </tr>
    </table>
</center></p>
</div>
<div class="tabbed-block">
<!-- <center>
        <table border="1" markdown>
            <tr markdown>
                <td style="text-align:center" markdown>---</td>
            </tr>
            <tr markdown>
                <td style="text-align:center" markdown>**3.3V**</td>
                <td style="text-align:center" markdown>**TMS**</td>
            </tr>
            <tr markdown>
                <td style="text-align:center" markdown>**TCK**</td>
                <td style="text-align:center" markdown>**TDO**</td>
            </tr>
            <tr markdown>
                <td style="text-align:center" markdown>**GND**</td>
                <td style="text-align:center" markdown>**RST**</td>
            </tr>
        </table>
    </center> -->
<p><center>
    <table border="1" markdown>
        <tr markdown>
            <td style="text-align:center" markdown><strong><abbr title="Ground">GND</abbr></strong></td>
            <td style="text-align:center" markdown><strong><abbr title="Test Clock">TCK</abbr></strong></td>
            <td style="text-align:center" markdown><strong>3.3V</strong></td>
            <td style="text-align:center" markdown><strong>|</strong></td>
        </tr>
        <tr markdown>
            <td style="text-align:center" markdown><strong><abbr title="Reset">RST</abbr></strong></td>
            <td style="text-align:center" markdown><strong><abbr title="Test Data Out">TDO</abbr></strong></td>
            <td style="text-align:center" markdown><strong><abbr title="Test Mode Select">TMS</abbr></strong></td>
        </tr>
    </table>
</center></p>
</div>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Pin Connections</p>
<p>In case users are interested, these are the pin connections of the debugging test points for the RA6M5. For more details, please reference the <a href="../assets/board_files/schematic.pdf">schematic</a> and <a href="../assets/board_files/eagle_files.zip"><strong>Eagle files</strong></a>.</p>
<ul>
<li><code>TMS</code>/<code>SWDIO</code>: <code>P108</code></li>
<li><code>TCK</code>/<code>SWCLK</code>: <code>P300</code></li>
<li><code>TDO</code>/<code>SWO</code>: <code>P109</code></li>
<li><del class="critic"><code>TDI</code>: <code>P110</code> (<abbr title="Peripheral Out; Controller In">POCI</abbr>/<code>D17</code>)</del> <strong><em>(Not a <abbr title="Joint Test Action Group">JTAG</abbr> test point)</em></strong></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to debug the RA6M5, users will need a debug probe. We recommend the <a href="https://www.segger.com/products/debug-probes/j-link/" target="_blank" rel="noopener">J-Link debug probes from Segger</a>. However, users should verify the supported devices before purchasing these products; for example, we had a few issues with the <a href="https://www.sparkfun.com/products/24078" target="_blank" rel="noopener">J-Link EDU Mini</a>.</p>
</div>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/debug-RA6M5.png" title="Click to enlarge"><img alt="RA6M5 Debug Pins" src="../assets/img/hookup_guide/debug-RA6M5.png" width="200" /></a></p>
<figcaption>
<p>The debug pins for the RA6M5 microcontroller.</p>
</figcaption>
</figure>
</div>
</div>
<p><em>For more details, please refer to the <a href="../assets/board_files/schematic.pdf">schematic</a> and <a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">RA6M5 datasheet</a>.</em></p>
<h3 id="pin-functions">Pin Functions<a class="headerlink" href="#pin-functions" title="Permanent link"></a></h3>
<p>While there are <strong>75 <abbr title="General Purpose Input and Output">GPIO</abbr> pins</strong> that are available on the RA6M5, only <strong>44 <abbr title="General Purpose Input and Output">GPIO</abbr> pins are utilized</strong> with the RA6M5 Thing Plus. Additionally, of those 44 <abbr title="General Purpose Input and Output">GPIO</abbr>, only <strong>21 <abbr title="General Purpose Input and Output">GPIO</abbr> pins</strong> are broken out into the PTH breakout pins. The breakout pins are in a Feather form-factor layout with a 0.1" pitch spacing to make them compatible with <a href="https://www.sparkfun.com/categories/381" target="_blank" rel="noopener">standard headers</a> and <a href="https://www.sparkfun.com/categories/tags/feather" target="_blank" rel="noopener">Feather shields/<em>wings</em></a>.</p>
<p>Some of the RA6M5's peripheral capabilities may be inaccessible to users with the <strong>available 44 <abbr title="General Purpose Input and Output">GPIO</abbr></strong>. However, any of the available <abbr title="General Purpose Input and Output">GPIO</abbr> pins can operate as <strong>digital I/O</strong>; with several of these pins featuring additional peripheral support. The pins utilized by the RA6M5 Thing Plus, along with their capabilities, are summarized in our <a href="../assets/board_files/graphical_datasheet.pdf">graphical datasheet</a> and detailed in the sections below.</p>
<p><center>
<a class="md-button md-button--primary" href="../assets/board_files/graphical_datasheet.pdf" title="Click to download the graphical datasheet"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7 7-7Z"/></svg></span>&nbsp;&nbsp;Download the Graphical Datasheet<br><img alt="QR code to product page" class="tinyqr" src="../assets/img/qr_code/product-low.png" /></a>
</center></p>
<div class="grid">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/graphical_datasheet-front.png" title="Click to enlarge"><img alt="Graphical datasheet" src="../assets/img/hookup_guide/graphical_datasheet-front.png" width="500" /></a></p>
</figure>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/graphical_datasheet-back.png" title="Click to enlarge"><img alt="Graphical datasheet" src="../assets/img/hookup_guide/graphical_datasheet-back.png" width="500" /></a></p>
</figure>
</div>
</div>
<div class="admonition arduino">
<p class="admonition-title">Board Limitations</p>
<p>Users should be aware that some of the features of the RA6M5 may not be available in the Arduino IDE. This is due to either the lack of support in the <a href="https://github.com/arduino/ArduinoCore-renesas" target="_blank" rel="noopener">Renesas-Arduino core</a> and/or pins that are unavailable on the RA6M5 Thing Plus. <em>For the full capabilities of the RA6M5, the <a href="https://www.renesas.com/us/en/software-tool/flexible-software-package-fsp" target="_blank" rel="noopener">Renesas <abbr title="Flexible Software Package">FSP</abbr></a> should be utilized.</em></p>
<div class="grid" markdown>
<div markdown>
<ul>
<li>Only one I<sup>2</sup>C bus is defined.</li>
<li>Only three <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> interfaces are defined.<ul>
<li><code>Serial</code> - <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> (<abbr title="Universal Serial Bus">USB</abbr>)</li>
<li><code>Serial1</code> - <code>RX</code>/<code>TX</code> <abbr title="General Purpose Input and Output">GPIO</abbr> Pins</li>
<li><code>Serial2</code> - DA14531MOD <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr></li>
</ul>
</li>
<li>Only one <abbr title="Serial Peripheral Interface">SPI</abbr> bus is defined.</li>
</ul>
</div>
<div markdown>
<div class="admonition warning">
<p class="admonition-title">Note</p>
<ul>
<li>All the <abbr title="General Purpose Input and Output">GPIO</abbr> on the RA6M5 Thing Plus are <img alt="‚ö°" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a1.svg" title=":high_voltage:"> <strong>3.3V</strong> pins</li>
<li>While the datasheet specifies there are fourteen 5V-tolerant I/O pins; most of the exposed pins are <strong>not 5V-tolerant</strong>! To interface with higher voltage components, a <a href="https://learn.sparkfun.com/tutorials/147" target="_blank" rel="noopener"><strong>logic-level adapter</strong></a> should be utilized.</li>
</ul>
</div>
</div>
</div>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="4:8"><input checked="checked" id="digital-io_1" name="__tabbed_4" type="radio" /><input id="pwm-outputs" name="__tabbed_4" type="radio" /><input id="analog-inputs" name="__tabbed_4" type="radio" /><input id="analog-outputs" name="__tabbed_4" type="radio" /><input id="serial-pins" name="__tabbed_4" type="radio" /><input id="spi-pins" name="__tabbed_4" type="radio" /><input id="i2c-pins" name="__tabbed_4" type="radio" /><input id="interrupts_1" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="digital-io_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 2v10h2V4h7v18h11V12h-2v8h-7V2H2Z"/></svg></span> Digital I/O</label><label for="pwm-outputs"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 2v10h2V4h7v18h11V12h-2v8h-7V2H2Z"/></svg></span> <abbr title="Pulse Width Modulation">PWM</abbr> Outputs</label><label for="analog-inputs"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.5 21c-3 0-4.19-4.24-5.45-8.72C10.14 9.04 9 5 7.5 5 4.11 5 4 11.93 4 12H2c0-.37.06-9 5.5-9 3 0 4.21 4.25 5.47 8.74C13.83 14.8 15 19 16.5 19c3.44 0 3.53-6.93 3.53-7h2c0 .37-.06 9-5.53 9Z"/></svg></span> Analog Inputs</label><label for="analog-outputs"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.5 21c-3 0-4.19-4.24-5.45-8.72C10.14 9.04 9 5 7.5 5 4.11 5 4 11.93 4 12H2c0-.37.06-9 5.5-9 3 0 4.21 4.25 5.47 8.74C13.83 14.8 15 19 16.5 19c3.44 0 3.53-6.93 3.53-7h2c0 .37-.06 9-5.53 9Z"/></svg></span> Analog Outputs</label><label for="serial-pins">Serial Pins</label><label for="spi-pins"><abbr title="Serial Peripheral Interface">SPI</abbr> Pins</label><label for="i2c-pins"><abbr title="Inter-Integrated Circuit">I<sup>2</sup>C</abbr> Pins</label><label for="interrupts_1">Interrupts</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Any <abbr title="General Purpose Input and Output">GPIO</abbr> pin on the RA6M5 Thing Plus can operate as a digital I/O <em>(input or output)</em>. To access this functionality in the Arduino IDE, users must first declare the pin operation in their <code class="highlight"><span class="n">setup</span><span class="p">()</span></code> loop, using the <a href="https://www.arduino.cc/reference/en/language/functions/digital-io/pinmode/" target="_blank" rel="noopener"><code class="highlight"><span class="n">pinMode</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span></code> function</a>.</p>
<dl>
<dt><strong>Input</strong></dt>
<dd>
<p>If a pin is configured as an <code>INPUT</code>, the microcontroller can monitor if the pin's state is <strong>HIGH</strong> or <strong>LOW</strong>. As <strong>Input</strong> pins are <strong>High Impedance</strong>, it takes very little current to move the input pin from one state to another.</p>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>In the Arduino IDE, this is accessed through the <a href="https://www.arduino.cc/reference/en/language/functions/digital-io/digitalread/" target="_blank" rel="noopener"><code class="highlight"><span class="n">digitalRead</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span></code> function</a>, which returns a <code>HIGH</code> or <code>LOW</code> value.</p>
</div>
</dd>
<dt><strong>Output</strong></dt>
<dd>
<p>If a pin is configured as an <code>OUTPUT</code>, the microcontroller can provide a <strong>HIGH</strong> or <strong>LOW</strong> voltage output from the pin. As <strong>Output</strong> pins are <strong>Low Impedance</strong>, they can provide a certain amount of current for other circuits.</p>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>In the Arduino IDE, this is accessed through the <a href="https://www.arduino.cc/reference/en/language/functions/digital-io/digitalwrite/" target="_blank" rel="noopener"><code class="highlight"><span class="n">digitalWrite</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span></code> function</a> and providing a <code>HIGH</code> or <code>LOW</code> value.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There are electrical limitations to the amount of current that I/O pins can sink or source. For more details, check out the <a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">RA6M5 datasheet</a>.</p>
</div>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip - Creating a <abbr title="Pulse Width Modulation">PWM</abbr> Output</p>
<p>A digital output pin can only either be fully on <strong>HIGH</strong> or fully off <strong>LOW</strong>. By turning a digital pin's output, on and off very quickly with precise timings, the average voltage can be controlled and emulate an analog output. This method is called <a href="https://docs.arduino.cc/learn/microcontrollers/analog-output/" target="_blank" rel="noopener"><abbr title="Pulse Width Modulation">PWM</abbr></a>.</p>
<p><em>Please refer to the <a href="#pwm-outputs"><abbr title="Pulse Width Modulation">PWM</abbr> Outputs</a> tab for more instructions or check out this great <a href="https://learn.sparkfun.com/tutorials/pulse-width-modulation" target="_blank" rel="noopener">tutorial</a> to learn more about pulse width modulation.</em></p>
</div>
</div>
<div class="tabbed-block">
<p>The RA6M5 supports up to <strong>four 32-bit</strong> and <strong>six 16-bit <abbr title="Pulse Width Modulation">PWM</abbr></strong> (Pulse Width Modulation) channels on most of its <abbr title="General Purpose Input and Output">GPIO</abbr> pins. A <abbr title="Pulse Width Modulation">PWM</abbr> output will produce a square waveform with a variable duty cycle, a ratio of time a signal is <strong>HIGH</strong> for a given wave period. In the Arduino IDE, this feature is accessed using the <a href="https://www.arduino.cc/reference/en/language/functions/analog-io/analogwrite/" target="_blank" rel="noopener"><code class="highlight"><span class="n">analogWrite</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span></code> function</a>, where the desired duty cycle is specified as an 8-bit <code>value</code>.</p>
<div class="arithmatex">\[
\operatorname{Duty-Cycle}=\frac{value_{\operatorname{(8-bit)}}}{255_{(\operatorname{8-bit})}} = \frac{time_{HIGH}}{time_{Total}}=\frac{t_{HIGH}}{t_{LOW} + t_{HIGH}}
\]</div>
<div class="grid" markdown>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/pins-pwm.png" title="Click to enlarge"><img alt="Annotated image of PWM pins" src="../assets/img/hookup_guide/pins-pwm.png" width="200" /></a>
<figcaption markdown>The <abbr title="General Purpose Input and Output">GPIO</abbr> pins that support <abbr title="Pulse Width Modulation">PWM</abbr> outputs on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</div>
<div markdown>
<details class="warning">
<summary>Mean Value &ne; Analog</summary>
<p><abbr title="Pulse Width Modulation">PWM</abbr> signals are often mistaken for analog signals; however, a <abbr title="Pulse Width Modulation">PWM</abbr> output is not a <strong>true</strong> analog signal. These signals can <em>emulate an analog output</em>, based on the average voltage output of their square waveform for a specific duration of time.</p>
</details>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>By default, in the Arduino IDE, <code>analogWrite()</code> accepts an 8-bit value. To change the resolution of the <abbr title="Pulse Width Modulation">PWM</abbr> signal for the <code class="highlight"><span class="n">analogWrite</span><span class="p">()</span></code> function, use the <a href="https://www.arduino.cc/reference/en/language/functions/zero-due-mkr-family/analogwriteresolution/" target="_blank" rel="noopener"><code class="highlight"><span class="n">analogWriteResolution</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span></code> function</a>.</p>
<p><em>A <abbr title="Pulse Width Modulation">PWM</abbr> output is not a true analog signal. For a true analog output, please refer to the <a href="#analog-outputs"><strong>Analog Outputs</strong> tab</a>.</em></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about pulse width modulation (<abbr title="Pulse Width Modulation">PWM</abbr>), check out this great <a href="https://learn.sparkfun.com/tutorials/51" target="_blank" rel="noopener">tutorial</a>.</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/51" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/f/9/c/8/a/512e869bce395fbc64000002.JPG">
    </figure></p>
<hr />
<p><strong>Pulse Width Modulation</strong></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>The RA6M5 has six <strong>12-bit <abbr title="Analog-to-Digital Converter">ADC</abbr></strong> channels on its <abbr title="General Purpose Input and Output">GPIO</abbr> pins to read analog signals. This functionality is accessed in the Arduino IDE using the <a href="https://www.arduino.cc/reference/en/language/functions/analog-io/analogread/" target="_blank" rel="noopener"><code class="highlight"><span class="n">analogRead</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span></code> function</a>. <em>The available <abbr title="Analog-to-Digital Converter">ADC</abbr> pins are highlighted in the image below.</em></p>
<div class="grid" markdown>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/pins-adc.png" title="Click to enlarge"><img alt="Annotated image of ADC pins" src="../assets/img/hookup_guide/pins-adc.png" width="200" /></a>
<figcaption markdown>Analog input pins on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</div>
<div markdown>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>In the Arduino IDE, <code class="highlight"><span class="n">analogRead</span><span class="p">()</span></code> returns a 10-bit value by default. To change the resolution of the value returned by the <code class="highlight"><span class="n">analogRead</span><span class="p">()</span></code> function, use the <a href="https://www.arduino.cc/reference/en/language/functions/zero-due-mkr-family/analogreadresolution/" target="_blank" rel="noopener"><code class="highlight"><span class="n">analogReadResolution</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span></code> function</a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about analog vs. digital signals, check out this great <a href="https://learn.sparkfun.com/tutorials/35" target="_blank" rel="noopener">tutorial</a>.</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/35" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/d/d/5/c/4/5114013ece395f527e000000.jpg">
    </figure></p>
<hr />
<p><strong>Analog to Digital Conversion</strong></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>The RA6M5 has two <strong>12-bit <abbr title="Digital-to-Analog Converter">DAC</abbr></strong> channels on its <abbr title="General Purpose Input and Output">GPIO</abbr> pins to output analog signals. This feature is accessed in the Arduino IDE using the <a href="https://github.com/arduino/ArduinoCore-renesas/tree/main/libraries/AnalogWave" target="_blank" rel="noopener"><code class="highlight"><span class="n">AnalogWave</span></code> library from the Renesas Arduino core</a>. <em>The available <abbr title="Digital-to-Analog Converter">DAC</abbr> pins are highlighted in the image below.</em></p>
<div class="grid" markdown>
<div markdown>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;"><abbr title="General Purpose Input and Output">GPIO</abbr> Pin</th>
<th style="text-align: left;"><abbr title="Digital-to-Analog Converter">DAC</abbr> Channel</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>A0</code></td>
<td style="text-align: left;"><code>DAC</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>A1</code></td>
<td style="text-align: left;"><code>DAC1</code></td>
</tr>
</tbody>
</table>
<p></center></p>
<p><figure markdown>
<a href="../assets/img/hookup_guide/pins-dac.png" title="Click to enlarge"><img alt="Annotated image of DAC pins" src="../assets/img/hookup_guide/pins-dac.png" width="200" /></a>
<figcaption markdown>Analog (<abbr title="Digital-to-Analog Converter">DAC</abbr>) output pins on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</div>
<div markdown>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>When implementing the <code>AnalogWave</code> library, users will need to link the library and create an instance of the <code>analogWave</code> class with a <abbr title="Digital-to-Analog Converter">DAC</abbr> <code>pin</code> declared for the output.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;analogWave.h&quot;</span><span class="c1"> // Include the library for analog waveform generation</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">analogWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="n">pin</span><span class="p">);</span><span class="w">   </span><span class="c1">// Create an instance of the analogWave class, using a DAC pin</span>
</code></pre></div>
<p><em>For more information, please refer to the <a href="../example-analog/#analogwave-library">Analog I/O example</a> in this guide.</em></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about analog vs. digital signals, check out this great <a href="https://learn.sparkfun.com/tutorials/89" target="_blank" rel="noopener">tutorial</a>.</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/89" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/3/7/6/6/0/51c48875ce395f745a000000.png">
    </figure></p>
<hr />
<p><strong>Analog vs. Digital</strong></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>The RA6M5 supports up to ten <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> ports. However, only the three <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> ports are predefined in the Renesas Arduino core. In the Arduino IDE, the <a href="https://www.arduino.cc/reference/en/language/functions/communication/serial/" target="_blank" rel="noopener">serial communication class</a> is used for the <abbr title="Universal Serial Bus">USB</abbr> connection (<code class="highlight"><span class="n">Serial</span></code>), the labeled <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> I/O pins on the board (<code class="highlight"><span class="n">Serial1</span></code>), and <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> connection to the DA14531MOD (<code class="highlight"><span class="n">Serial2</span></code>).</p>
<div class="grid" markdown>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/pins-serial.png" title="Click to enlarge"><img alt="Annotated image of UART connections" src="../assets/img/hookup_guide/pins-serial.png" width="200" /></a>
<figcaption markdown><abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> connections on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</div>
<div markdown>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>By default, in the Arduino IDE, the RA6M5 Thing Plus board definition supports:</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Arduino Object</th>
<th style="text-align: left;"><abbr title="General Purpose Input and Output">GPIO</abbr> Pins</th>
<th style="text-align: center;">Connection</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>Serial</code></td>
<td style="text-align: left;"></td>
<td style="text-align: center;"><strong><abbr title="Universal Serial Bus">USB</abbr></strong></td>
</tr>
<tr>
<td style="text-align: left;"><code>Serial1</code></td>
<td style="text-align: left;"><strong><abbr title="Receive">RX</abbr></strong> - <code>P408</code> <em>(<code>D21</code>)</em><br><strong><abbr title="Transmit">TX</abbr></strong> - <code>P409</code> <em>(<code>D20</code>)</em></td>
<td style="text-align: center;">PTH Pins</td>
</tr>
<tr>
<td style="text-align: left;"><code>Serial2</code></td>
<td style="text-align: left;"><strong><abbr title="Receive">RX</abbr></strong> - <code>P601</code> <em>(<code>D32</code>)</em><br><strong><abbr title="Transmit">TX</abbr></strong> - <code>P602</code> <em>(<code>D31</code>)</em><br><strong><abbr title="Ready-to-Send">RTS</abbr></strong> - <code>P301</code> <em>(<code>D33</code>)</em><br><strong><abbr title="Clear-to-Send">CTS</abbr></strong> - <code>P303</code> <em>(<code>D34</code>)</em></td>
<td style="text-align: center;"><strong>DA14531MOD</strong><br><em>Bluetooth Module</em></td>
</tr>
</tbody>
</table>
<p></center></p>
<p>To utilize serial communication on other pins, users will need to create a custom serial port object and declare which pins to access.</p>
<details class="warning">
<summary>Shared <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> Port</summary>
<p>Users should be aware that the <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> port for pins <code>D17</code>/<code>D18</code>, <strong>UART9</strong>, is also utilized for communication with the DA14531MOD Bluetooth module. Therefore, if <strong>UART9</strong> is already being utilized for the DA14531MOD; the <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> port will be unavailable on pins <code>D17</code>/<code>D18</code>.</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;"><abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> Port</th>
<th style="text-align: left;">Arduino Object</th>
<th style="text-align: left;"><abbr title="General Purpose Input and Output">GPIO</abbr> Pins</th>
<th style="text-align: center;">Connection</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong><abbr title="Universal Serial Bus">USB</abbr></strong></td>
<td style="text-align: left;"><code>Serial</code></td>
<td style="text-align: left;"></td>
<td style="text-align: center;"><strong><abbr title="Universal Serial Bus">USB</abbr></strong></td>
</tr>
<tr>
<td style="text-align: center;"><strong>UART3</strong></td>
<td style="text-align: left;"><code>Serial1</code></td>
<td style="text-align: left;"><strong><abbr title="Receive">RX</abbr></strong> - <code>P408</code> <em>(<code>D21</code>)</em><br><strong><abbr title="Transmit">TX</abbr></strong> - <code>P409</code> <em>(<code>D20</code>)</em></td>
<td style="text-align: center;">PTH Pins</td>
</tr>
<tr>
<td style="text-align: center;"><strong>UART9</strong></td>
<td style="text-align: left;"><code>Serial2</code></td>
<td style="text-align: left;"><strong><abbr title="Receive">RX</abbr></strong> - <code>P601</code> <em>(<code>D32</code>)</em><br><strong><abbr title="Transmit">TX</abbr></strong> - <code>P602</code> <em>(<code>D31</code>)</em><br><strong><abbr title="Ready-to-Send">RTS</abbr></strong> - <code>P301</code> <em>(<code>D33</code>)</em><br><strong><abbr title="Clear-to-Send">CTS</abbr></strong> - <code>P303</code> <em>(<code>D34</code>)</em></td>
<td style="text-align: center;"><strong>DA14531MOD</strong><br><em>Bluetooth Module</em></td>
</tr>
<tr>
<td style="text-align: center;"><strong>UART9</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong><abbr title="Receive">RX</abbr></strong> - <code>P110</code> <em>(<code>D17</code>)</em><br><strong><abbr title="Transmit">TX</abbr></strong> - <code>P109</code> <em>(<code>D18</code>)</em></td>
<td style="text-align: center;">PTH Pins</td>
</tr>
<tr>
<td style="text-align: center;"><strong>UART7</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><strong><abbr title="Receive">RX</abbr></strong> - <code>P402</code> <em>(<code>D05</code>)</em><br><strong><abbr title="Transmit">TX</abbr></strong> - <code>P401</code> <em>(<code>D15</code>)</em><br><strong><abbr title="Ready-to-Send">RTS</abbr></strong> - <code>P403</code> <em>(<code>D04</code>)</em><br><strong><abbr title="Clear-to-Send">CTS</abbr></strong> - <code>P404</code> <em>(<code>D03</code>)</em></td>
<td style="text-align: center;">PTH Pins</td>
</tr>
</tbody>
</table>
<p></center></p>
</details>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about serial communication, check out this great <a href="https://learn.sparkfun.com/tutorials/8" target="_blank" rel="noopener">tutorial</a>.</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/8" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/7/d/f/9/9/50d24be7ce395f1f6c000000.jpg">
    </figure></p>
<hr />
<p><strong>Serial Communication</strong></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>The RA6M5 supports up to two <abbr title="Serial Peripheral Interface">SPI</abbr> buses. However, only a single <abbr title="Serial Peripheral Interface">SPI</abbr> port is defined in the Renesas Arduino core. In the Arduino IDE, the <a href="https://www.arduino.cc/en/reference/SPI" target="_blank" rel="noopener"><abbr title="Serial Peripheral Interface">SPI</abbr> communication class</a> is configured to utilize pins <abbr title="Serial Clock">SCK</abbr> - <code>P111</code>/<code>D19</code>, <abbr title="Peripheral Out; Controller In">POCI</abbr> - <code>P110</code>/<code>D17</code>, <abbr title="Peripheral In; Ccontroller Out">PICO</abbr> - <code>P109</code>/<code>D18</code>, and <code>P112</code>/<code>D0</code> for its chip select.</p>
<details class="note">
<summary>New Nomenclature</summary>
<p>To comply with the latest <a href="https://www.oshwa.org/" target="_blank" rel="noopener">OSHW</a> design practices, we have <a href="https://www.sparkfun.com/spi_signal_names" target="_blank" rel="noopener">adopted the new <abbr title="Serial Peripheral Interface">SPI</abbr> signal nomenclature</a> (<code>SDO</code>/<code>SDI</code> and <code>PICO</code>/<code>POCI</code>). The terms <strong>Master</strong> and <strong>Slave</strong> are now referred to as <strong>Controller</strong> and <strong>Peripheral</strong>. The <code>MOSI</code> signal on a controller has been replaced with <code>SDO</code> or <code>PICO</code>. Please refer to this <a href="https://www.oshwa.org/a-resolution-to-redefine-spi-signal-names" target="_blank" rel="noopener">announcement on the decision to deprecate the <code>MOSI</code>/<code>MISO</code> terminology and transition to the <code>SDO</code>/<code>SDI</code> naming convention</a>.</p>
</details>
<div class="grid" markdown>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/pins-spi.png" title="Click to enlarge"><img alt="Annotated image of SPI pins" src="../assets/img/hookup_guide/pins-spi.png" width="200" /></a>
<figcaption markdown><abbr title="Serial Peripheral Interface">SPI</abbr> pins on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</div>
<div markdown>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>By default, in the Arduino IDE, the RA6M5 Thing Plus board definition supports:</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;"><abbr title="Serial Peripheral Interface">SPI</abbr> Pin</th>
<th style="text-align: left;"><abbr title="General Purpose Input and Output">GPIO</abbr></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><abbr title="Peripheral Out; Controller In">POCI</abbr></td>
<td style="text-align: left;"><code>P110</code> <em>(<code>D17</code>)</em></td>
</tr>
<tr>
<td style="text-align: center;"><abbr title="Peripheral In; Ccontroller Out">PICO</abbr></td>
<td style="text-align: left;"><code>P109</code> <em>(<code>D18</code>)</em></td>
</tr>
<tr>
<td style="text-align: center;"><abbr title="Serial Clock">SCK</abbr></td>
<td style="text-align: left;"><code>P111</code> <em>(<code>D19</code>)</em></td>
</tr>
<tr>
<td style="text-align: center;"><abbr title="Chip Select">CS</abbr></td>
<td style="text-align: left;"><code>P112</code> <em>(<code>D0</code>)</em></td>
</tr>
</tbody>
</table>
<p></center></p>
<p>To utilize <abbr title="Serial Peripheral Interface">SPI</abbr> communication on other pins, users will need to create a custom <abbr title="Serial Peripheral Interface">SPI</abbr> object and declare which pins to access.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about the serial peripheral interface (<abbr title="Serial Peripheral Interface">SPI</abbr>) protocol, check out this great <a href="https://learn.sparkfun.com/tutorials/16" target="_blank" rel="noopener">tutorial</a>.</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/16" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/6/spiThumb_Updated.jpg">
    </figure></p>
<hr />
<p><strong>Serial Peripheral Interface (<abbr title="Serial Peripheral Interface">SPI</abbr>)</strong></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>The RA6M5 supports up to three I<sup>2</sup>C buses. However, only a single I<sup>2</sup>C bus is defined in the Renesas Arduino core. In the Arduino IDE, the <a href="https://www.arduino.cc/en/reference/wire" target="_blank" rel="noopener">Wire class</a> is configured to utilize the <abbr title="Serial Data">SDA</abbr> - <code>P401</code>/<code>D15</code> and <abbr title="Serial Clock">SCL</abbr> -<code>P400</code>/<code>D16</code> pins. These pins also share the same I<sup>2</sup>C bus as the <a href="#qwiic-connector">Qwiic connector</a> and <a href="#battery-fuel-gauge">MAX17048 fuel gauge</a>.</p>
<div class="grid" markdown>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/pins-i2c.png" title="Click to enlarge"><img alt="Annotated image of I2C connections" src="../assets/img/hookup_guide/pins-i2c.png" width="200" /></a>
<figcaption markdown>I<sup>2</sup>C connections on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</div>
<div markdown>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>By default, in the Arduino IDE, the RA6M5 Thing Plus board definition supports:</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;">I<sup>2</sup>C Pin</th>
<th style="text-align: left;"><abbr title="General Purpose Input and Output">GPIO</abbr></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><abbr title="Serial Clock">SCL</abbr></td>
<td style="text-align: left;"><code>P400</code> <em>(<code>D16</code>)</em></td>
</tr>
<tr>
<td style="text-align: center;"><abbr title="Serial Data">SDA</abbr></td>
<td style="text-align: left;"><code>P401</code> <em>(<code>D15</code>)</em></td>
</tr>
</tbody>
</table>
<p></center></p>
<p>To utilize the I<sup>2</sup>C ports on other pins, users will need to create a custom Wire object and declare which pins to access.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about the inter-integrated circuit (I<sup>2</sup>C) protocol, check out this great <a href="https://learn.sparkfun.com/tutorials/82" target="_blank" rel="noopener">tutorial</a>.</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/82" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/8/2/I2C-Block-Diagram.jpg">
    </figure></p>
<hr />
<p><strong><abbr title="Inter-Integrated Circuit">I2C</abbr></strong></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<details class="tip">
<summary>What is Qwiic?</summary>
<div class="grid" markdown>
<div markdown>
<p><!-- Qwiic Banner -->
<center>
<a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener"><img alt="Qwiic Logo - light theme" src="../assets/img/qwiic_logo-light.png#only-light" width="400" /></a>
<a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener"><img alt="Qwiic Logo - dark theme" src="../assets/img/qwiic_logo-dark.png#only-dark" width="400" /></a>
</center></p>
<hr />
<p>The <a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">Qwiic connect system</a> is a solderless, polarized connection system that allows users to seamlessly daisy chain     I<sup>2</sup>C boards together. Play the video, to learn more about the Qwiic connect system or click on the banner above to learn more about <a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">Qwiic     products</a>.</p>
</div>
<div style="max-height=400px;" markdown>
<p><center>
<div class="video-container">
<iframe src="https://www.youtube.com/embed/x0RDEHqFIF8" title="SparkFun's Qwiic Connect System" frameborder="0" allow="accelerometer;   encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
<p><img alt="QR code to instructional video" class="qr" src="../assets/img/qr_code/qwiic_video.png" width="100" />
</div>
</center></p>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Features of the Qwiic System</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="no-soldering_1" name="__tabbed_5" type="radio" /><input id="polarized-connector_1" name="__tabbed_5" type="radio" /><input id="daisy-chain-able_1" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="no-soldering_1">No Soldering</label><label for="polarized-connector_1">Polarized Connector</label><label for="daisy-chain-able_1">Daisy Chain-able</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img align="left" alt="no soldering - light theme" src="../assets/img/no_soldering-light.png#only-light" width="90" />
<img align="left" alt="no soldering - dark theme" src="../assets/img/no_soldering-dark.png#only-dark" width="90" /></p>
<p>Qwiic cables (4-pin <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr>) plug easily from development boards to sensors, shields, accessory boards and more, making easy work of setting up a new prototype.</p>
</div>
<div class="tabbed-block">
<p><img align="left" alt="polarized connector - light theme" src="../assets/img/polarized_connector-light.png#only-light" width="90" />
<img align="left" alt="polarized connector - dark theme" src="../assets/img/polarized_connector-dark.png#only-dark" width="90" /></p>
<p>There's no need to worry about accidentally swapping the <code>SDA</code> and <code>SCL</code> wires on your breadboard. The Qwiic connector is polarized so you know you‚Äôll have it wired correctly every time.</p>
<p>The part numbers for the <abbr title="Printed Circuit Board">PCB</abbr> connector is <code>SM04B-SRSS</code> (<a href="https://cdn.sparkfun.com/assets/parts/1/2/2/8/9/Qwiic_Connector_Datasheet.pdf" target="_blank" rel="noopener">Datasheet</a>) and the mating connector on the cables is <code>SHR04V-S-B</code>; or an equivalent <em>1mm pitch, 4-pin <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connection</em>.</p>
</div>
<div class="tabbed-block">
<p><img align="left" alt="daisy chainable - light theme" src="../assets/img/daisy_chainable-light.png#only-light" width="90" />
<img align="left" alt="daisy chainable - dark theme" src="../assets/img/daisy_chainable-dark.png#only-dark" width="90" /></p>
<p>It‚Äôs time to leverage the power of the I<sup>2</sup>C bus! Most Qwiic boards will have two or more connectors on them, allowing multiple devices to be connected.</p>
</div>
</div>
</div>
</div>
</details>
</div>
<div class="tabbed-block">
<p>The RA6M5 provides IRQ support on several of its pins. In the Arduino IDE, interrupt requests are configured using the <a href="https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/" target="_blank" rel="noopener"><code class="highlight"><span class="n">attachInterrupt</span><span class="p">(</span><span class="n">digitalPinToInterrupt</span><span class="p">(</span><span class="n">pin</span><span class="p">),</span><span class="w"> </span><span class="n">ISR</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span></code> function</a>. <em>The available IRQ pins are highlighted in the image below.</em></p>
<div class="grid" markdown>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/pins-int.png" title="Click to enlarge"><img alt="Annotated image of IRQ pins" src="../assets/img/hookup_guide/pins-int.png" width="200" /></a>
<figcaption markdown>Interrupt request pins on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</div>
<div markdown>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>In the Arduino IDE, interrupt requests are configured using the <a href="https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/" target="_blank" rel="noopener"><code class="highlight"><span class="n">attachInterrupt</span><span class="p">(</span><span class="n">digitalPinToInterrupt</span><span class="p">(</span><span class="n">pin</span><span class="p">),</span><span class="w"> </span><span class="n">ISR</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span></code> function</a>, where:</p>
<ul>
<li><code>pin</code> - The <abbr title="General Purpose Input and Output">GPIO</abbr> pin</li>
<li><code>ISR</code> -   The interrupt service routine to call/execute when the interrupt occurs</li>
<li><code>mode</code> - Defines how the interrupt should be triggered:<ul>
<li><code>LOW</code> - When the pin is <strong>LOW</strong></li>
<li><code>CHANGE</code> - Whenever the pin changes value</li>
<li><code>RISING</code> - When the pin changes from <strong>LOW</strong> to <strong>HIGH</strong></li>
<li><code>FALLING</code>- When the pin changes from <strong>HIGH</strong> to <strong>LOW</strong></li>
</ul>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about interrupts, check out this great <a href="https://learn.sparkfun.com/tutorials/316" target="_blank" rel="noopener">tutorial</a>.</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/316" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/3/1/6/LED_Demo_1.gif">
    </figure></p>
<hr />
<p><strong>Processor Interrupts with Arduino</strong></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- SSI???
=== ":material-music: I2S or SSI?"
    The RA6M5 provides peripheral support for a serial sound interface. However, this is not natively supported with in the Renesas-Arcuino core. Users will need to utilize Renesas's [FSP](https://renesas.github.io/rza-fsp/group___s_s_i.html) to enable this peripheral.


    <div class="grid" markdown>

    <div markdown>

    <figure markdown>
    [![SSI Protocol](https://renesas.github.io/rza-fsp/r_ssi_frame_diagram.PNG){ width=500 }](https://renesas.github.io/rza-fsp/r_ssi_frame_diagram.PNG "Click to enlarge")
    <figcaption markdown>Communication protocol for the serial sound interface.</figcaption>
    </figure>

    </div>


    <div markdown>

    - AUD_CLK: `P400` *(`D16`)*
    - AUD_CLK: `P402` *(`D5`)*
    - BCK0: `P403` *(`D4`)*
    - LRCK0: `P404` *(`D3`)*
    - TXD0: `P405` *(`D2`)*
    - RXD0: `P406` *(`D1`)*

    </div>

    </div>
-->

<!-- CAN Bus - not supported???
??? info "CAN Bus Support"
    Diving into the [RA6M5 datasheet](https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931), users may notice that there are CAN buses supported on a few of the available hardware pins. However, please refer to the [RA6M5 user manual](https://www.renesas.com/us/en/document/man/ra6m5-group-users-manual-hardware?r=1493931) for the protocol implementation. *(i.e. There could be a bus contention issues with the `CAN1` pins, which share `UART9` with the Bluetooth module.)*

    <center>

    | CAN Bus  | GPIO Pins                                              |
    | :------: | :----------------------------------------------------- |
    | **CAN0** | **RX** - `P402` *(`D05`)*<br>**TX** - `P401` *(`D15`)* |
    | **CAN1** | **RX** - `P110` *(`D17`)*<br>**TX** - `P109` *(`D18`)* |

    </center>
-->

<hr />
<p><em>For more technical specifications on the <strong>I/O</strong> pins, please refer to the <a href="../assets/board_files/schematic.pdf">schematic</a>, <a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">RA6M5 datasheet</a>, and <a href="https://www.renesas.com/us/en/document/man/ra6m5-group-users-manual-hardware?r=1493931" target="_blank" rel="noopener">RA6M5 user manual</a>.</em></p>
<h2 id="da14531mod-ble-module"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.88 16.29 13 18.17v-3.76m0-8.58 1.88 1.88L13 9.58m4.71-1.87L12 2h-1v7.58L6.41 5 5 6.41 10.59 12 5 17.58 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29Z"/></svg></span>&nbsp;DA14531MOD <abbr title="Bluetooth Low-Energy">BLE</abbr> Module<a class="headerlink" href="#da14531mod-ble-module" title="Permanent link"></a></h2>
<p>The <a href="https://www.renesas.com/us/en/document/dst/da14531-module-datasheet" target="_blank" rel="noopener">DA14531MOD</a>, from <a href="https://www.renesas.com/" target="_blank" rel="noopener">Renesas</a>, provides the RA6M5 Thing Plus with Bluetooth connectivity. When actively transmitting, the DA14531MOD sips a mere 4mA; low enough to operate on a small coin-cell battery. The module is programmed with a precompiled binary of the CodeLess SDK, featuring Renesas' <a href="https://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/index.html" target="_blank" rel="noopener">SmartBond‚Ñ¢ - CodeLess‚Ñ¢ AT command</a> set. With the implementation of an AT command platform to configure the DA1431MOD's Bluetooth connectivity, source code is no longer required to be written for the module, to operate as a peripheral device.</p>
<div class="grid">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/DA14531MOD.png" title="Click to enlarge"><img alt="DA14531MOD BLE Module" src="../assets/img/hookup_guide/DA14531MOD.png" width="200" /></a></p>
<figcaption>
<p>The DA14531MOD <abbr title="Bluetooth Low-Energy">BLE</abbr> module on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
</div>
<div>
<ul>
<li>Bluetooth 5.1 system-on-chip (SoC)<ul>
<li>Supports up to three connections</li>
<li>32-bit Arm¬Æ Cortex¬Æ M0+<ul>
<li>Clock frequency: 16 MHz</li>
<li>Memory:<ul>
<li>Flash: 128 Kb</li>
<li><abbr title="Random-Access Memory">RAM</abbr>: 48 Kb</li>
<li>ROM: 144 Kb</li>
<li>OTP: 32 Kb</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Operating range (1.8 V - 3.6 V)<ul>
<li>Receive: 2mA</li>
<li>Transmit: 4mA</li>
<li>Sleep: 1.8 &micro;A</li>
</ul>
</li>
<li>Radio<ul>
<li>Transmit Power: -19 to +2.2 dBm</li>
<li>Receiver Sensitivity: -93 dBm</li>
</ul>
</li>
</ul>
</div>
</div>
<details class="info">
<summary>Debug Pins</summary>
<p>The <abbr title="Serial Wire Debug">SWD</abbr> pins for the DA14531MOD are available as 0.1" test points on the board. However, users are unlikely to utilize these pins unless they wish to modify the pre-existing firmware on the DA14531MOD.</p>
<div class="grid" markdown>
<div markdown>
<p><center>
    <table border="1" markdown>
        <tr markdown>
            <td style="text-align:center" markdown><strong><abbr title="Ground">GND</abbr></strong></td>
            <td style="text-align:center" markdown><strong><abbr title="Serial Wire Clock">SWCLK</abbr></strong></td>
            <td style="text-align:center" markdown><strong>3.3V</strong></td>
            <td style="text-align:center" markdown><strong>|</strong></td>
        </tr>
        <tr markdown>
            <td style="text-align:center" markdown><strong><abbr title="Reset">RST</abbr></strong></td>
            <td></td>
            <td style="text-align:center" markdown><strong><abbr title="Serial Wire Data Input/Output">SWDIO</abbr></strong></td>
            <td></td>
        </tr>
    </table>
</center></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>In case users are interested, these are the pin connections of the <abbr title="Serial Wire Debug">SWD</abbr> test points to the DA14531MOD. For more details, please reference the <a href="../assets/board_files/schematic.pdf">schematic</a>.</p>
<ul>
<li><code>SWDIO</code>: <code>P0_10</code></li>
<li><code>SWCLK</code>: <code>P0_2</code></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to debug the DA14531MOD, users will need a debug probe. We recommend the <a href="https://www.segger.com/products/debug-probes/j-link/" target="_blank" rel="noopener">J-Link debug probes from Segger</a>. However, users should verify the supported devices before purchasing these products; for example, we had a few issues with the <a href="https://www.sparkfun.com/products/24078" target="_blank" rel="noopener">J-Link EDU Mini</a>.</p>
</div>
</div>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/debug-DA14531.png" title="Click to enlarge"><img alt="DA14531MOD SWD Pins" src="../assets/img/hookup_guide/debug-DA14531.png" width="200" /></a>
<figcaption markdown>The <abbr title="Serial Wire Debug">SWD</abbr> pins for the DA14531MOD on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</div>
</div>
</details>
<details class="code">
<summary>CodeLess Firmware</summary>
<p>The <a href="https://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/index.html" target="_blank" rel="noopener">CodeLess‚Ñ¢ AT command</a> allows users to easily configure the RA6M5 Thing Plus as a central or peripheral Bluetooth device. In addition, users can also potentially implement OTA updates with the CodeLess‚Ñ¢ AT commands.</p>
<p>The precompiled binary from the CodeLess SDK utilized as the firmware image, on the DA14531MOD of the RA6M5 Thing Plus, is the <code>codeless_531_datapump.hex</code> <em>(CodeLess for DA1453x datapump)</em>.</p>
<div class="admonition info">
<p class="admonition-title">Serial Port Setting</p>
<p>The default settings of the serial port on the DA14531MOD, for AT commands:</p>
<ul>
<li>BaudRate : 57600</li>
<li>DataBits : 8</li>
<li>StopBits : 1</li>
<li>Parity : None</li>
<li>Flow Control : None</li>
<li>Transmit Text: Append CR</li>
</ul>
</div>
</details>
<p><em>For more details, please refer to the <a href="https://www.renesas.com/us/en/document/dst/da14531-module-datasheet" target="_blank" rel="noopener">DA14531 datasheet</a>, and <a href="ttps://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/index.html">CodeLess user manual</a>.</em></p>
<h2 id="external-memory">External Memory<a class="headerlink" href="#external-memory" title="Permanent link"></a></h2>
<h3 id="qspi-flash"><abbr title="Quad-SPI">QSPI</abbr> Flash<a class="headerlink" href="#qspi-flash" title="Permanent link"></a></h3>
<p>The RA6M5 Thing Plus features 16MB of <abbr title="Quad-SPI">QSPI</abbr> Flash memory, with the MX25L12833F from <a href="https://www.macronix.com/en-us/Pages/default.aspx" target="_blank" rel="noopener">Macronix</a>. The <a href="../assets/component_documentation/MX25L12833F.pdf">MX25L12833F <abbr title="Quad-SPI">QSPI</abbr> Flash memory</a> provides users with high-speed non-volatile memory to develop and execute data-driven applications. This feature is perfect for data logging, data processing, or executing memory-intensive algorithms. The <abbr title="Quad-SPI">QSPI</abbr> Flash memory can also be used to store a firmware backup or enable software updates.</p>
<div class="grid">
<div>
<p>The Flash memory is connected to the following <abbr title="General Purpose Input and Output">GPIO</abbr>:</p>
<ul>
<li><strong>CLK:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P100</code> <em>(<code>D40</code>)</em></li>
<li><strong>D0:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P102</code> <em>(<code>D42</code>)</em></li>
<li><strong>D1:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P101</code> <em>(<code>D43</code>)</em></li>
<li><strong>D2:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P104</code> <em>(<code>D44</code>)</em></li>
<li><strong>D3:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P103</code> <em>(<code>D45</code>)</em></li>
<li><strong><abbr title="Slave Select">SS</abbr>:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P501</code> <em>(<code>D41</code>)</em></li>
</ul>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/flash.png" title="Click to enlarge"><img alt="QSPI Flash" src="../assets/img/hookup_guide/flash.png" width="500" /></a></p>
<figcaption>
<p>The MX25L12833F <abbr title="Quad-SPI">QSPI</abbr> Flash memory IC on the back of the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
</div>
</div>
<p><em>For more details, please refer to the <a href="../assets/component_documentation/MX25L12833F.pdf">MX25L12833F datasheet</a>, the <a href="../assets/board_files/schematic.pdf">schematic</a>, <a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">RA6M5 datasheet</a>, and <a href="https://www.renesas.com/us/en/document/man/ra6m5-group-users-manual-hardware?r=1493931" target="_blank" rel="noopener">RA6M5 user manual</a>.</em></p>
<h3 id="sd-card-socket">&micro;<abbr title="Secure Digital">SD</abbr> Card Socket<a class="headerlink" href="#sd-card-socket" title="Permanent link"></a></h3>
<p>The &micro;<abbr title="Secure Digital">SD</abbr> card socket is connected to the <abbr title="Secure Digital">SD</abbr> host interface for fast data logging. This feature is useful for data collection over extended periods and for simplifying data retrieval.</p>
<div class="grid">
<div>
<p>The &micro;<abbr title="Secure Digital">SD</abbr> card slot is connected to the following <abbr title="General Purpose Input and Output">GPIO</abbr>:</p>
<ul>
<li><strong>CLK:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P214</code> <em>(<code>D22</code>)</em></li>
<li><strong>D0:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P208</code> <em>(<code>D24</code>)</em></li>
<li><strong>D1:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P410</code> <em>(<code>D25</code>)</em></li>
<li><strong>D2:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P206</code> <em>(<code>D26</code>)</em></li>
<li><strong>D3:</strong> <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P205</code> <em>(<code>D27</code>)</em></li>
</ul>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/sd_card.png" title="Click to enlarge"><img alt="micro SD socket" src="../assets/img/hookup_guide/sd_card.png" width="400" /></a></p>
<figcaption>
<p>&micro;<abbr title="Secure Digital">SD</abbr> card slot on the back of the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Data Corruption</p>
<p>To avoid corrupting an <abbr title="Secure Digital">SD</abbr> card, users should disable all activity with the <abbr title="Secure Digital">SD</abbr> card before removing it from the RA6M5 Thing Plus.</p>
<p>The <a href="https://github.com/arduino/ArduinoCore-renesas/tree/main/libraries/FATFilesystem" target="_blank" rel="noopener">FATFileSystem library</a> built into the Renesas-Arduino core, supports &micro;<abbr title="Secure Digital">SD</abbr> cards with a <strong>FAT32</strong> file system <em>(i.e. <abbr title="Secure Digital">SD</abbr> cards <strong>up to 32GB</strong> in size)</em>.</p>
<ul>
<li>While users may be able to use cards with a higher storage capacity, we highly advise against it. As users may experience data loss due to a corrupt file system <em>(i.e. <abbr title="Secure Digital">SD</abbr> cards with a storage capacity greater than 32GB are not meant to be formatted with a FAT32 file system)</em>.</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The RA6M5 Thing Plus, offers users additional control of the <abbr title="Secure Digital">SD</abbr> card slot with the following pin connections:</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Pin Name</th>
<th style="text-align: center;">Connection to RA6M5</th>
<th style="text-align: center;">Operation</th>
<th style="text-align: left;">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>SDEN</strong></td>
<td style="text-align: center;"><abbr title="General Purpose Input and Output">GPIO</abbr> <code>P708</code> <em>(<code>D35</code>)</em></td>
<td style="text-align: center;">Active <strong>LOW</strong></td>
<td style="text-align: left;">Controls power to the <abbr title="Secure Digital">SD</abbr> card slot.<br>- A <strong>LOW</strong> signal will disable power to the <abbr title="Secure Digital">SD</abbr> card slot</td>
</tr>
<tr>
<td style="text-align: center;"><strong>CD</strong></td>
<td style="text-align: center;"><abbr title="General Purpose Input and Output">GPIO</abbr> <code>P210</code> <em>(<code>D28</code>)</em></td>
<td style="text-align: center;">Active <strong>LOW</strong></td>
<td style="text-align: left;">Read the pin latch, to determine if an <abbr title="Secure Digital">SD</abbr> card is inserted<br>- A <strong>LOW</strong> signal will indicate an <abbr title="Secure Digital">SD</abbr> card is present</td>
</tr>
<tr>
<td style="text-align: center;"><strong>WP</strong></td>
<td style="text-align: center;"><abbr title="General Purpose Input and Output">GPIO</abbr> <code>P414</code> <em>(<code>D29</code>)</em></td>
<td style="text-align: center;">Active <strong>LOW</strong></td>
<td style="text-align: left;">Read if the write protection is engaged on the <abbr title="Secure Digital">SD</abbr> card<br>- A <strong>LOW</strong> signal will indicate write protection is enabled on the <abbr title="Secure Digital">SD</abbr> card</td>
</tr>
</tbody>
</table>
<p></center></p>
</div>
<p><em>For more details, please refer to the <a href="../assets/board_files/schematic.pdf">schematic</a>, <a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">RA6M5 datasheet</a>, and <a href="https://www.renesas.com/us/en/document/man/ra6m5-group-users-manual-hardware?r=1493931" target="_blank" rel="noopener">RA6M5 user manual</a>.</em></p>
<h2 id="i2c-bus">I<sup>2</sup>C Bus<a class="headerlink" href="#i2c-bus" title="Permanent link"></a></h2>
<h3 id="qwiic-connector">Qwiic Connector<a class="headerlink" href="#qwiic-connector" title="Permanent link"></a></h3>
<p>A Qwiic connector is provided for users to seamlessly integrate with <a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">SparkFun's Qwiic Ecosystem</a>. Otherwise, users can also access the <a href="#i2c-pins">I<sup>2</sup>C bus</a> through the PTH pins broken out on the board.</p>
<figure>
<p><a href="../assets/img/hookup_guide/I2C.png" title="Click to enlarge"><img alt="Qwiic connector and I2C pins" src="../assets/img/hookup_guide/I2C.png" width="750" /></a></p>
<figcaption>
<p>Qwiic connector and I<sup>2</sup>C pins on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
<details class="tip">
<summary>What is Qwiic?</summary>
<div class="grid" markdown>
<div markdown>
<p><!-- Qwiic Banner -->
<center>
<a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener"><img alt="Qwiic Logo - light theme" src="../assets/img/qwiic_logo-light.png#only-light" width="400" /></a>
<a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener"><img alt="Qwiic Logo - dark theme" src="../assets/img/qwiic_logo-dark.png#only-dark" width="400" /></a>
</center></p>
<hr />
<p>The <a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">Qwiic connect system</a> is a solderless, polarized connection system that allows users to seamlessly daisy chain I<sup>2</sup>C boards together. Play the video, to learn more about the Qwiic connect system or click on the banner above to learn more about <a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">Qwiic products</a>.</p>
</div>
<div style="max-height=400px;" markdown>
<p><center>
<div class="video-container">
<iframe src="https://www.youtube.com/embed/x0RDEHqFIF8" title="SparkFun's Qwiic Connect System" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
<p><img alt="QR code to instructional video" class="qr" src="../assets/img/qr_code/qwiic_video.png" width="100" />
</div>
</center></p>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Features of the Qwiic System</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="no-soldering_2" name="__tabbed_6" type="radio" /><input id="polarized-connector_2" name="__tabbed_6" type="radio" /><input id="daisy-chain-able_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="no-soldering_2">No Soldering</label><label for="polarized-connector_2">Polarized Connector</label><label for="daisy-chain-able_2">Daisy Chain-able</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img align="left" alt="no soldering - light theme" src="../assets/img/no_soldering-light.png#only-light" width="90" />
<img align="left" alt="no soldering - dark theme" src="../assets/img/no_soldering-dark.png#only-dark" width="90" /></p>
<p>Qwiic cables (4-pin <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr>) plug easily from development boards to sensors, shields, accessory boards and more, making easy work of setting up a new prototype.</p>
</div>
<div class="tabbed-block">
<p><img align="left" alt="polarized connector - light theme" src="../assets/img/polarized_connector-light.png#only-light" width="90" />
<img align="left" alt="polarized connector - dark theme" src="../assets/img/polarized_connector-dark.png#only-dark" width="90" /></p>
<p>There's no need to worry about accidentally swapping the <code>SDA</code> and <code>SCL</code> wires on your breadboard. The Qwiic connector is polarized so you know you‚Äôll have it wired correctly every time.</p>
<p>The part numbers for the <abbr title="Printed Circuit Board">PCB</abbr> connector is <code>SM04B-SRSS</code> (<a href="https://cdn.sparkfun.com/assets/parts/1/2/2/8/9/Qwiic_Connector_Datasheet.pdf" target="_blank" rel="noopener">Datasheet</a>) and the mating connector on the cables is <code>SHR04V-S-B</code>; or an equivalent <em>1mm pitch, 4-pin <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connection</em>.</p>
</div>
<div class="tabbed-block">
<p><img align="left" alt="daisy chainable - light theme" src="../assets/img/daisy_chainable-light.png#only-light" width="90" />
<img align="left" alt="daisy chainable - dark theme" src="../assets/img/daisy_chainable-dark.png#only-dark" width="90" /></p>
<p>It‚Äôs time to leverage the power of the I<sup>2</sup>C bus! Most Qwiic boards will have two or more connectors on them, allowing multiple devices to be connected.</p>
</div>
</div>
</div>
</div>
</details>
<h3 id="battery-fuel-gauge">Battery Fuel Gauge<a class="headerlink" href="#battery-fuel-gauge" title="Permanent link"></a></h3>
<p>The <a href="../assets/component_documentation/MAX17048.pdf">MAX17048 fuel gauge</a>, from <a href="https://www.analog.com/" target="_blank" rel="noopener">Analog Devices</a>, measures the approximate charge/discharge rate, state of charge (SOC) (based on <em>ModelGauge</em> algorithm), and voltage of a connected battery. The sensor is also powered directly from a connected <abbr title="Lithium-Ion Polymer">LiPo</abbr> battery <em>(<code>VBAT</code>)</em>.</p>
<div class="grid">
<div>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: left;">I<sup>2</sup>C Address</th>
<th style="text-align: left;"><strong>0x36</strong> (7-bit)<br><strong>0x6C</strong> (write)/<strong>0x6D</strong> (read)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Voltage Measurement</td>
<td style="text-align: left;">Range: 2.5 - 5 V<br>Precision: &PlusMinus;7.5 mV/Cell<br>Resolution 1.25 mV/Cell</td>
</tr>
<tr>
<td style="text-align: left;">Current Consumption</td>
<td style="text-align: left;">Sleep: .5 - 2 ¬µA<br>Hibernate: 3 - 5 ¬µA<br>Active: 23 - 40 ¬µA</td>
</tr>
</tbody>
</table>
<p></center></p>
<div class="admonition info">
<p class="admonition-title">Alert Pin</p>
<p>The fuel gauge features an <code>Alert</code> pin, which can be configured to trigger an interrupt <em>(active <strong>LOW</strong>)</em> on <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P000</code> <em>(<code>D39</code>)</em> of the RA6M5 for:</p>
<ul>
<li>Low Charge</li>
<li>1% Charge <em>(Remaining)</em></li>
<li>IC Reset</li>
<li>Overvoltage</li>
<li>Undervoltage</li>
</ul>
</div>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/MAX17048.png" title="Click to enlarge"><img alt="MAX17048 Fuel Gauge" src="../assets/img/hookup_guide/MAX17048.png" width="200" /></a></p>
<figcaption>
<p>The MAX17048 fuel gauge on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
</div>
</div>
<p><em>For more information, please refer to the <a href="../assets/component_documentation/MAX17048.pdf">MAX17048 datasheet</a> and the <a href="../assets/board_files/schematic.pdf">schematic</a>.</em></p>
<h2 id="status-leds">Status LEDs<a class="headerlink" href="#status-leds" title="Permanent link"></a></h2>
<p>There are four status LEDs on the RA6M5 Thing Plus:</p>
<div class="grid">
<div>
<ul>
<li><code>PWR</code> - Power <em>(Red)</em><ul>
<li>Illuminates once power is applied to <code>3V3</code></li>
</ul>
</li>
<li><code>RGB</code> - WS2812 <em>(<abbr title="Red, Green, Blue">RGB</abbr>)</em><ul>
<li>An addressable <a href="../assets/component_documentation/WS2812C-2020.pdf">WS2812 <abbr title="Light Emitting Diode">LED</abbr></a></li>
<li>Connected to <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P105</code> <em>(<code>D13</code> or <code>RGB_LED</code>)</em> of the RA6M5</li>
</ul>
</li>
<li><code>STAT</code> - Status <em>(Blue)</em><ul>
<li>Connected to the RA6M5 <code>P106</code> <em>(<code>D14</code>/<code>LED_BUILTIN</code>)</em> <abbr title="General Purpose Input and Output">GPIO</abbr></li>
</ul>
</li>
<li><code>CHG</code> - Battery Charge <em>(Yellow)</em><ul>
<li><strong>ON</strong> - Actively charging a battery</li>
<li><strong>OFF</strong> - The charge controller is shut down or battery charging is complete</li>
</ul>
</li>
</ul>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/LEDs.png" title="Click to enlarge"><img alt="LEDs" src="../assets/img/hookup_guide/LEDs.png" width="200" /></a></p>
<figcaption>
<p>The status indicator LEDs on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
</div>
</div>
<h2 id="buttons">Buttons<a class="headerlink" href="#buttons" title="Permanent link"></a></h2>
<p>There are two buttons on the RA6M5 Thing Plus: <span class="keys"><kbd>RST</kbd></span> and <span class="keys"><kbd>USRBTN</kbd></span></p>
<figure>
<p><a href="../assets/img/hookup_guide/Buttons.png" title="Click to enlarge"><img alt="Buttons" src="../assets/img/hookup_guide/Buttons.png" width="700" /></a></p>
<figcaption>
<p>Buttons on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
<ul>
<li><span class="keys"><kbd>USRBTN</kbd></span> - The <strong>user</strong> button is provided as an available input for the RA6M5; it is connected to <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P415</code> <em>(<code>D31</code>)</em></li>
<li><span class="keys"><kbd>RST</kbd></span> - The <strong>reset</strong> button allows users to reset the firmware running on the RA6M5 without interrupting the power
    <!-- - DFU Mode - The RA6M5 can be manually forced into DFU mode to upload code
        1. Double-tap the <span class="keys"><kbd>RST</kbd></span> button
            - The <code>STAT</code> LED should be fading in/out very slowly
        1. Users should now, be able to upload a new program
            - It shouldn't be necessary to select a COM port in the Arduino IDE; only the board needs to be selected
        1. Once programming is complete, the MCU should reboot on its own. Otherwise:
            - Press the <span class="keys"><kbd>RST</kbd></span> button
            - Power cycle the board --></li>
</ul>
<details class="success">
<summary><abbr title="Device Firmware Update">DFU</abbr> Mode</summary>
<p>If users are having issues uploading code to the board, the RA6M5 can be manually forced into <abbr title="Device Firmware Update">DFU</abbr> mode. This issue, often occurs when the <abbr title="Universal Serial Bus">USB</abbr> connection is busy and a reset can't be triggered on the RA6M5, to initialize the upload process. To force the RA6M5 Thing Plus into <abbr title="Device Firmware Update">DFU</abbr> mode:</p>
<ol>
<li>Double-tap the <span class="keys"><kbd>RST</kbd></span> button<ul>
<li>The <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr> should be fading in/out very slowly</li>
</ul>
</li>
<li>Users should now, be able to upload a new program<ul>
<li>It shouldn't be necessary to select a COM port in the Arduino IDE; only the board needs to be selected</li>
</ul>
</li>
<li>Once programming is complete, the <abbr title="Microcontroller Unit">MCU</abbr> should reboot on its own. Otherwise:<ul>
<li>Press the <span class="keys"><kbd>RST</kbd></span> button</li>
<li>Power cycle the board</li>
</ul>
</li>
</ol>
</details>
<p><em>For more details, please refer to the <a href="../assets/board_files/schematic.pdf">schematic</a>.</em></p>
<h2 id="jumpers">Jumpers<a class="headerlink" href="#jumpers" title="Permanent link"></a></h2>
<details class="note">
<summary>Never modified a jumper before?</summary>
<p>Check out our <a href="https://learn.sparkfun.com/tutorials/664" target="_blank" rel="noopener">Jumper Pads and <abbr title="Printed Circuit Board">PCB</abbr> Traces tutorial</a> for a quick introduction!</p>
<div class="grid cards col-4" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/664" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/6/4/PCB_TraceCutLumenati.jpg">
    </figure></p>
<hr />
<p><strong>How to Work with Jumper Pads and <abbr title="Printed Circuit Board">PCB</abbr> Traces</strong></a></p>
</li>
</ul>
</div>
</details>
<p>The five jumpers on the back of the board can be used to easily modify the hardware connections on the board.</p>
<div class="grid">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/jumpers.png" title="Click to enlarge"><img alt="Jumpers" src="../assets/img/hookup_guide/jumpers.png" width="200" /></a></p>
<figcaption>
<p>The jumpers on the back of the RA6M5 Thing Plus <abbr title="Printed Circuit Board">PCB</abbr>.</p>
</figcaption>
</figure>
</div>
<div>
<ul>
<li><strong><code>PWR</code></strong> - Cut this jumper to disable the red, <code>PWR</code> <abbr title="Light Emitting Diode">LED</abbr></li>
<li><strong><code>RST</code></strong> - Cut this jumper to disconnect the reset pin of the DA14531MOD from the RA6M5 <code>P115</code>/<code>D37</code> <abbr title="General Purpose Input and Output">GPIO</abbr></li>
<li><strong><code>SHLD</code></strong> - Cut this jumper to isolate the <abbr title="Universal Serial Bus">USB</abbr>-C connector shield from <abbr title="Ground">GND</abbr></li>
<li><strong><code>I2C</code></strong> - Open this dual-jumper to disconnect the pull-up resistors from the <code>SDA</code> and <code>SCL</code></li>
<li><strong><code>CHG</code></strong> - Cut this jumper to disable the yellow, <code>CHG</code> <abbr title="Light Emitting Diode">LED</abbr></li>
</ul>
</div>
</div>
<p><em>For more details, please refer to the <a href="../assets/board_files/schematic.pdf">schematic</a>.</em></p>
<h1 id="hardware-assembly">Hardware Assembly<a class="headerlink" href="#hardware-assembly" title="Permanent link"></a></h1>
<h2 id="usb-connector_1"><abbr title="Universal Serial Bus">USB</abbr> Connector<a class="headerlink" href="#usb-connector_1" title="Permanent link"></a></h2>
<p>The <abbr title="Universal Serial Bus">USB</abbr> connection is utilized for programming and serial communication. Users only need to plug their RA6M5 Thing Plus into a computer using a <abbr title="Universal Serial Bus">USB</abbr>-C cable.</p>
<figure>
<p><a href="../assets/img/hookup_guide/assembly-usb.jpg" title="Click to enlarge"><img alt="USB connection" src="../assets/img/hookup_guide/assembly-usb.jpg" width="400" /></a></p>
<figcaption>
<p>The RA6M5 Thing Plus with <abbr title="Universal Serial Bus">USB</abbr>-C cable attached.</p>
</figcaption>
</figure>
<h2 id="lipo-battery"><abbr title="Lithium-Ion Polymer">LiPo</abbr> Battery<a class="headerlink" href="#lipo-battery" title="Permanent link"></a></h2>
<p>For remote <abbr title="Internet of Things">IoT</abbr> applications, a <abbr title="Lithium-Ion Polymer">LiPo</abbr> battery can be connected. Additionally, users may be interested in utilizing a <a href="https://www.sparkfun.com/products/16835" target="_blank" rel="noopener">solar panel</a> and <a href="https://www.sparkfun.com/products/14743" target="_blank" rel="noopener"><abbr title="Universal Serial Bus">USB</abbr>-C cable</a> to recharge their battery.</p>
<div class="grid cards">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/assembly-battery.jpg" title="Click to enlarge"><img alt="Battery connected to the RA6M5 Thing Plus" src="../assets/img/hookup_guide/assembly-battery.jpg" width="400" /></a></p>
<figcaption>
<p>The RA6M5 Thing Plus with a battery connected.</p>
</figcaption>
</figure>
</div>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/16835" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/5/7/5/6/16835-Solar_Panel_Charger_-_10W-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Solar Panel Charger - 10W</strong><br>
TOL-16835</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/14743" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/2/9/7/2/14743-USB_3.1_Cable_A_to_C_-_3_Foot-01.jpg">
    </figure>       </p>
<hr />
<p><strong><abbr title="Universal Serial Bus">USB</abbr> 3.1 Cable A to C - 3 Foot</strong><br>
TOL-14743</a></p>
</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Users should avoid pulling on the wires of a battery to disconnect it from the board. Instead, it is recommended that a pair of dikes (i.e. diagonal wire cutters), pliers, or tweezers be used to pull on the <abbr title="Japan Solderless Terminal (Manufacturing)">JST</abbr> connector housing, to avoid damaging the battery wiring.</p>
<p><figure markdown>
<a href="../assets/img/hookup_guide/assembly-battery_removal.jpg" title="Click to enlarge"><img alt="Disconnect battery w/ dikes" src="../assets/img/hookup_guide/assembly-battery_removal.jpg" width="400" /></a>
<figcaption markdown>Using a pair of dikes to disconnect a battery.</figcaption>
</figure></p>
</div>
<h2 id="breakout-pins">Breakout Pins<a class="headerlink" href="#breakout-pins" title="Permanent link"></a></h2>
<p>The <a href="https://en.wikipedia.org/wiki/Through-hole_technology" title="Plated Through Holes" target="_blank" rel="noopener">PTH</a> pins on the RA6M5 Thing Plus are broken out into 0.1"-spaced pins on the edges of the board.</p>
<details class="tip">
<summary>New to soldering?</summary>
<p>If you have never soldered before or need a quick refresher, check out our <a href="https://learn.sparkfun.com/tutorials/how-to-solder-through-hole-soldering" target="_blank" rel="noopener">How to Solder: Through-Hole Soldering</a> guide.</p>
<div class="grid cards col-4" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/5" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/e/3/9/9/4/51d9fbe1ce395f7a2a000000.jpg">
    </figure></p>
<hr />
<p><strong>How to Solder: Through-Hole Soldering</strong></a></p>
</li>
</ul>
</div>
</details>
<div class="grid">
<div>
<h3 id="headers">Headers<a class="headerlink" href="#headers" title="Permanent link"></a></h3>
<p>Headers are versatile in their compatibility with shields, breadboards, or jumper wires.</p>
<figure>
<p><a href="../assets/img/hookup_guide/assembly-headers.jpg" title="Click to enlarge"><img alt="Soldering headers" src="../assets/img/hookup_guide/assembly-headers.jpg" width="400" /></a></p>
<figcaption>
<p>Soldering headers to the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
<details class="tip">
<summary>Stackable Headers</summary>
<p>Our <a href="https://www.sparkfun.com/products/15187" target="_blank" rel="noopener">Feather Stackable Header Kit</a> is a great option for stacking on shields <em>(w/ Feather footprint)</em> or on a breadboard; while leaving its pins still accessible.</p>
<p><figure markdown>
<a href="../assets/img/hookup_guide/assembly-stackable_headers.jpg" title="Click to enlarge"><img alt="Stackable Headers" src="../assets/img/hookup_guide/assembly-stackable_headers.jpg" width="400" /></a>
<figcaption markdown>Stackable headers on the RA6M5 Thing Plus.</figcaption>
</figure></p>
</details>
</div>
<div>
<h3 id="hookup-wires">Hookup Wires<a class="headerlink" href="#hookup-wires" title="Permanent link"></a></h3>
<p>For a more permanent connection, users can solder wires directly to the board.</p>
<figure>
<p><a href="../assets/img/hookup_guide/assembly-wires.jpg" title="Click to enlarge"><img alt="Soldering wires" src="../assets/img/hookup_guide/assembly-wires.jpg" width="400" /></a></p>
<figcaption>
<p>Soldering wires to the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
</div>
</div>
<h2 id="sd-card-slot"><abbr title="Secure Digital">SD</abbr> Card Slot<a class="headerlink" href="#sd-card-slot" title="Permanent link"></a></h2>
<p>The RA6M5 Thing Plus includes a &micro;<abbr title="Secure Digital">SD</abbr> card slot on the back of the board. The cardholder functions through a push/pull operation. <em>(The card slot doesn't include a spring retention mechanism; cards are held in place through friction.)</em></p>
<figure>
<p><a href="../assets/img/hookup_guide/assembly-sd_card.jpg" title="Click to enlarge"><img alt="Inseting an SD card" src="../assets/img/hookup_guide/assembly-sd_card.jpg" width="400" /></a></p>
<figcaption>
<p>Users can slide-in or pull-out a &micro;<abbr title="Secure Digital">SD</abbr> card from the cardholder.</p>
</figcaption>
</figure>
<div class="admonition info">
<p class="admonition-title"><abbr title="Secure Digital">SD</abbr> Card Compatibility</p>
<p>The R6M5 Thing Plus supports &micro;<abbr title="Secure Digital">SD</abbr> cards with a <strong>FAT32</strong> file system <em>(i.e. only cards <strong>up to 32GB</strong> in size)</em>.</p>
</div>
<h2 id="qwiic-devices">Qwiic Devices<a class="headerlink" href="#qwiic-devices" title="Permanent link"></a></h2>
<p>The Qwiic system allows users to effortlessly prototype with a Qwiic compatible I<sup>2</sup>C device without soldering. Users can attach any Qwiic compatible <a href="https://www.sparkfun.com/qwiic#sensors" target="_blank" rel="noopener">sensor or board</a>, with just a <a href="https://www.sparkfun.com/products/15081" target="_blank" rel="noopener">Qwiic cable</a>. (<em>*The example below, is for demonstration purposes and is not pertinent to the board functionality or this tutorial.</em>)</p>
<figure>
<p><a href="../assets/img/hookup_guide/assembly-qwiic.jpg" title="Click to enlarge"><img alt="Qwiic devices connected to RA6M5 Thing Plus" src="../assets/img/hookup_guide/assembly-qwiic.jpg" width="400" /></a></p>
<figcaption>
<p>The <a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">BME688 environmental</a> and <a href="https://www.sparkfun.com/products/14722" target="_blank" rel="noopener">VL53L1X distance</a> Qwiic sensor boards connected to the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
<h1 id="software-overview-arduino-ide">Software Overview - Arduino IDE<a class="headerlink" href="#software-overview-arduino-ide" title="Permanent link"></a></h1>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For first-time users, who have never programmed before and are looking to use the Arduino IDE, we recommend beginning with the <a href="https://www.sparkfun.com/products/15631" target="_blank" rel="noopener">SparkFun Inventor's Kit (SIK)</a>, which is designed to help users get started programming with the Arduino IDE.</p>
</div>
<p>Most users should already be familiar with the Arduino IDE and its use. However, for those of you who have never heard the name <em>Arduino</em> before, feel free to check out the <a href="https://www.arduino.cc/en/Guide/HomePage" target="_blank" rel="noopener">Arduino website</a>. To get started with using the Arduino IDE, check out our tutorials below:</p>
<div align="center" class="grid cards">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/50" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="What is an Arduino?" src="https://cdn.sparkfun.com/c/264-148/assets/3/b/6/e/b/512e66bece395f492b000000.jpg">
    </figure></p>
<hr />
<p><strong>What is an Arduino?</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/61" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing the Arduino IDE" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/1/arduinoThumb.jpg">
    </figure></p>
<hr />
<p><strong>Installing the Arduino IDE</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/1265" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing Board Definitions in the Arduino IDE" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/2/6/5/sparkfun_boards.PNG">
    </figure></p>
<hr />
<p><strong>Installing Board Definitions in the Arduino IDE</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/15" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing an Arduino Library" src="https://cdn.sparkfun.com/c/264-148/assets/b/e/4/b/2/50f04b99ce395fd95e000001.jpg">
    </figure></p>
<hr />
<p><strong>Installing an Arduino Library</strong></a></p>
</li>
</ul>
</div>
<h2 id="arduino-core">Arduino Core<a class="headerlink" href="#arduino-core" title="Permanent link"></a></h2>
<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link"></a></h3>
<div class="admonition success">
<p class="admonition-title">Installing the <em>Ported</em> Renesas-Arduino Core</p>
<p>In order to program the RA6M5 Thing Plus in the Arduino IDE, users will need to install the <strong>Arduino Renesas Portenta board</strong> definitions from the Renesas-Arduino core. However, until the <a href="https://github.com/arduino/ArduinoCore-renesas/pull/290" target="_blank" rel="noopener">RA6M5 Thing Plus is officially adopted into the Renesas-Arduino core</a>, users need to utilize <a href="../assets/SFE-Renesas-Arduino_core.zip">our port of the <strong>Renesas-Arduino core</strong></a>.</p>
<ol>
<li>Before users can install our ported version of the Renesas-Arduino core, they should first install the <strong>Arduino Renesas Portenta board</strong> definitions of the <a href="https://github.com/arduino/ArduinoCore-renesas" target="_blank" rel="noopener"><em>official</em> Renesas-Arduino core</a> in the Arduino IDE.<ul>
<li>This will ensure that any required compilation and upload tools are installed for the Arduino core.</li>
<li>In the Board Manager of the Arduino IDE, select and install the <strong>Arduino Renesas Portenta board</strong> definitions from the <a href="https://github.com/arduino/ArduinoCore-renesas" target="_blank" rel="noopener">Renesas-Arduino core</a>.
    <figure markdown>
    <a href="../assets/img/hookup_guide/arduino-renesas_core.png" title="Click to enlarge"><img alt="Install the Renesas-Arduino Core" src="../assets/img/hookup_guide/arduino-renesas_core.png" width="400" /></a>
    <figcaption markdown>Installing the <a href="https://github.com/arduino/ArduinoCore-renesas" target="_blank" rel="noopener">Renesas-Arduino core</a> in the Arduino IDE.</figcaption>
    </figure></li>
</ul>
</li>
<li>
<p>Once installed, users will need to locate the <code>packages</code> directory for the Arduino cores in the Arduino IDE:</p>
<div class="grid cards" markdown>
<ul>
<li>
<p><strong>Windows</strong></p>
<hr />
<p>On Windows, the directory location may vary based on whether the Arduino IDE was installed for an individual user or all users:</p>
<ul>
<li>
<p>The user's <code>AppData</code> directory <em>(hidden folder - primary)</em>:</p>
<div class="highlight"><pre><span></span><code>C:\Users\<mark class="critic">&lt;insert username&gt;</mark>\AppData\Local\Arduino15\packages
</code></pre></div>
</li>
<li>
<p>The user's <code>ArduinoData</code> directory (<em>local</em>):</p>
<div class="highlight"><pre><span></span><code>C:\Users\<mark class="critic">&lt;insert username&gt;</mark>\Documents\Arduino\hardware
</code></pre></div>
</li>
<li>
<p>The <code>Program Files</code> or <code>Program Files(x86)</code> directories:</p>
<div class="highlight"><pre><span></span><code>C:\Program Files<ins class="critic">(x86)</ins>\Arduino IDE
</code></pre></div>
</li>
</ul>
</li>
<li>
<p><strong>MacOS</strong></p>
<hr />
<p>With Mac OS, users should check the <code>Applications</code> and <code>Library</code> directories:</p>
<ul>
<li>
<p><code>Library</code> directory (primary):</p>
<div class="highlight"><pre><span></span><code>~/Library/Arduino15/packages/
</code></pre></div>
</li>
<li>
<p><code>Applications</code> directory (<em>local</em>):</p>
<div class="highlight"><pre><span></span><code>/Applications/Arduino.app/hardware
</code></pre></div>
</li>
</ul>
</li>
<li>
<p><strong>Linux</strong></p>
<hr />
<p>For Linux, this may be located in the following directories:</p>
<ul>
<li>
<p>Primary:</p>
<div class="highlight"><pre><span></span><code>/home/$USER/.arduino15/packages
</code></pre></div>
</li>
<li>
<p>Local:</p>
<div class="highlight"><pre><span></span><code>/home/$USER/Arduino/hardware
</code></pre></div>
</li>
</ul>
<details class="tip">
<summary>Tip</summary>
<p>As mentioned in <a href="https://docs.arduino.cc/software/ide-v2/tutorials/getting-started/ide-v2-downloading-and-installing/#linux" target="_blank" rel="noopener">Arduino's guide for installing the Arduino IDE on Linux</a>, users may need to run the following commands in the terminal:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sudo<span class="w"> </span>add-apt-repository<span class="w"> </span>universe
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libfuse2
</code></pre></div>
<p>In order to utilize the serial terminal or recognize the board in <abbr title="Device Firmware Update">DFU</abbr> mode, users may also need to run the following commands in the terminal:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>dialout<span class="w"> </span><span class="nv">$USERNAME</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>plugdev<span class="w"> </span><span class="nv">$USERNAME</span>
</code></pre></div>
<ul>
<li><code>$USERNAME</code> is the login username</li>
<li>After, a restart or logout is required</li>
</ul>
</details>
</li>
</ul>
</div>
</li>
<li>
<p>After the <code>packages</code> directory has been located, users will need to navigate to the Renesas Arduino core. It is usually located in the <code>./arduino/hardware/<mark class="critic">renesas_portenta</mark>/<ins class="critic">&lt;version number&gt;</ins>/</code> directory of the <code>packages</code> folder.</p>
</li>
<li>The Arduino core is followed by a directory, named after the Arduino core's release <code><ins class="critic">&lt;version number&gt;</ins></code>. From there, users will need to create a new directory/folder in the <code>renesas_portenta</code> directory with the <code>version number</code> bumped up.<ul>
<li><em>For example, if the current version is <code>1.1.0</code>, users can name the new directory <code>1.2.0</code>.</em></li>
</ul>
</li>
<li>Next, users will need to download and extract the files from <a href="../assets/SFE-Renesas-Arduino_core.zip">our ported version of the Renesas-Arduino core</a>:
    <center>
    <a class="md-button md-button--primary" href="../assets/SFE-Renesas-Arduino_core.zip" title="Click to download the ported Arduino core"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7 7-7Z"/></svg></span>&nbsp;&nbsp;Download our Renesas-Arduino Core <em>(Ported)</em></a>
    </center></li>
<li>Once extracted, users will need to copy over the files from <a href="../assets/SFE-Renesas-Arduino_core.zip">our ported version of the Renesas-Arduino core</a>into the new directory that was created earlier:
    <figure markdown>
    <a href="../assets/img/hookup_guide/arduino-extracted_files.png" title="Click to enlarge"><img alt="Extracted files" src="../assets/img/hookup_guide/arduino-extracted_files.png" width="500" /></a>
    <figcaption markdown>The files extracted from <a href="../assets/SFE-Renesas-Arduino_core.zip">our ported version of the Renesas-Arduino core</a>.</figcaption>
    </figure></li>
<li>Once the extracted files have been copied into the new directory, users will need to install the <abbr title="Universal Serial Bus">USB</abbr> drivers for the board by executing the <code>post-install.*</code> script:<ul>
<li>Windows: <code>post-install.bat</code></li>
<li>Mac/Linux: <code>post-install.sh</code></li>
</ul>
</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This information is accurate as of April 2024; however, it may become irrelevant in the future <em>(once the <a href="https://github.com/arduino/ArduinoCore-renesas/pull/290" target="_blank" rel="noopener">RA6M5 Thing Plus is included in the Renesas-Arduino core</a>)</em>. At which point, users may disregard this note and/or request for this information to be updated by <a href="../github/file_issue">filing an issue</a>.</p>
</div>
</div>
<details class="failure">
<summary>Do Not Use - <em>Hardware Not Officially Supported (yet)</em></summary>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The instructions below are invalid; theRA6M5 Thing Plus has not been <a href="https://github.com/arduino/ArduinoCore-renesas/pull/290" target="_blank" rel="noopener">officially added into the Renesas-Arduino core</a>. In the meantime, users will need to utilize <a href="../assets/SFE-Renesas-Arduino_core.zip">our port of the <strong>Renesas-Arduino core</strong></a> <em>(see instructions above)</em>.</p>
</div>
<del class="critic block">
<p>In order to program the RA6M5 Thing Plus in the Arduino IDE, users will need to install the <a href="https://github.com/arduino/ArduinoCore-renesas" target="_blank" rel="noopener">Renesas-Arduino core</a>. The Arduino core can be found by searching for <code>Arduino Renesas Portenta Boards</code> in the <strong>Board Manager</strong> of the Arduino IDE. Once installed, the RA6M5 Thing Plus will become available in the <strong>Board Manager</strong>.</p>
<div class="highlight"><pre><span></span><code>Arduino Renesas Portenta Boards
</code></pre></div>
<div class="grid" markdown>
<div markdown>
<p>For users who are unfamiliar with this process, please check out our tutorial on <a href="https://learn.sparkfun.com/tutorials/installing-board-definitions-in-the-arduino-ide/installing-an-arduino-board-definition" target="_blank" rel="noopener">installing an Arduino core</a>.</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/1265" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing Board Definitions in the Arduino IDE" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/2/6/5/sparkfun_boards.PNG">
    </figure></p>
<hr />
<p><strong>Installing Board Definitions in the Arduino IDE</strong></a></p>
</li>
</ul>
</div>
</div>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/arduino-renesas_core.png" title="Click to enlarge"><img alt="Install the Renesas-Arduino Core" src="../assets/img/hookup_guide/arduino-renesas_core.png" width="400" /></a>
<figcaption markdown>Installing the <a href="https://github.com/arduino/ArduinoCore-renesas" target="_blank" rel="noopener">Renesas-Arduino core</a> in the Arduino IDE.</figcaption>
</figure></p>
</div>
</div>
</del>
</details>
<h3 id="programming-a-board">Programming a Board<a class="headerlink" href="#programming-a-board" title="Permanent link"></a></h3>
<p>In order to upload a sketch from the Arduino IDE onto the RA6M5 Thing Plus, users will need to select the <code>SparkFun Thing Plus RA6M5</code> from the <strong>Tools</strong> &gt; <strong>Board</strong> &gt; <strong>Arduino Renesas Portenta Boards</strong> &gt; <strong>SparkFun Thing Plus RA6M5</strong> drop-down menu. Users will also need to select the serial port from the <strong>Tools</strong> &gt; <strong>Port</strong> drop-down menu; the port should be automatically labeled, based upon the PID/VID of board in the <abbr title="Universal Serial Bus">USB</abbr> driver.</p>
<div class="grid">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/arduino-select_board.png" title="Click to enlarge"><img alt="Select the RA6M5 Thing Plus" src="../assets/img/hookup_guide/arduino-select_board.png" width="400" /></a></p>
<figcaption>
<p>Selecting the <code>SparkFun Thing Plus RA6M5</code> from the <strong>Tools</strong> drop-down menu in the Arduino IDE.</p>
</figcaption>
</figure>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/arduino-select_board_alt.png" title="Click to enlarge"><img alt="Select the RA6M5 Thing Plus" src="../assets/img/hookup_guide/arduino-select_board_alt.png" width="400" /></a></p>
<figcaption>
<p>Searching for the <code>SparkFun Thing Plus RA6M5</code> in the <strong>Select Other Board and Port</strong> menu in the Arduino IDE.</p>
</figcaption>
</figure>
</div>
</div>
<p>Alternatively, in the Arduino IDE <em>(v2.<code>x</code>.<code>x</code>)</em>, users can also search for the board and serial port in the <strong>Select Other Board and Port</strong> menu. Once the appropriate board and serial port have been selected in the Arduino IDE, users can click the <span class="keys"><kbd>‚Üí</kbd></span> <em>(upload)</em> button to begin the compilation and upload process.</p>
<details class="success">
<summary><abbr title="Device Firmware Update">DFU</abbr> Mode</summary>
<p>If users are having issues uploading code to the board, the RA6M5 can be manually forced into <abbr title="Device Firmware Update">DFU</abbr> mode. This issue, often occurs when the <abbr title="Universal Serial Bus">USB</abbr> connection is busy and a reset can't be triggered on the RA6M5, to initialize the upload process. To force the RA6M5 Thing Plus into <abbr title="Device Firmware Update">DFU</abbr> mode:</p>
<ol>
<li>Double-tap the <span class="keys"><kbd>RST</kbd></span> button<ul>
<li>The <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr> should be fading in/out very slowly</li>
</ul>
</li>
<li>Users should now, be able to upload a new program<ul>
<li>It shouldn't be necessary to select a COM port in the Arduino IDE; only the board needs to be selected</li>
</ul>
</li>
<li>Once programming is complete, the <abbr title="Microcontroller Unit">MCU</abbr> should reboot on its own. Otherwise:<ul>
<li>Press the <span class="keys"><kbd>RST</kbd></span> button</li>
<li>Power cycle the board</li>
</ul>
</li>
</ol>
</details>
<h2 id="arduino-libraries">Arduino Libraries<a class="headerlink" href="#arduino-libraries" title="Permanent link"></a></h2>
<p>In order to utilize some of the peripherals of the RA6M5 Thing Plus with the Arduino IDE, users will need to <a href="https://learn.sparkfun.com/tutorials/15" target="_blank" rel="noopener">install Arduino libraries</a> for the peripheral devices/interfaces. For users who are unfamiliar with this process, please check out our tutorial below:</p>
<div align="center" class="grid cards">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/15" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing an Arduino Library" src="https://cdn.sparkfun.com/c/264-148/assets/b/e/4/b/2/50f04b99ce395fd95e000001.jpg">
    </figure></p>
<hr />
<p><strong>Installing an Arduino Library</strong></a></p>
</li>
</ul>
</div>
<h3 id="max17048-fuel-gauge">MAX17048 Fuel Gauge<a class="headerlink" href="#max17048-fuel-gauge" title="Permanent link"></a></h3>
<p>While users are free to choose any Arduino library that provides support for MAX17048 fuel gauge, we recommend the <a href="https://github.com/sparkfun/SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library" target="_blank" rel="noopener">SparkFun MAX1704x Arduino library</a>; as it has been tested and verified to work with the MAX17048 on the RA6M5 Thing Plus. The <a href="https://github.com/sparkfun/SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library" target="_blank" rel="noopener">SparkFun MAX1704x Fuel Gauge Arduino library</a> can be installed from the <strong>Library Manager</strong> in the Arduino IDE by searching for:</p>
<div class="highlight"><pre><span></span><code>SparkFun MAX1704x Fuel Gauge Arduino Library
</code></pre></div>
<div class="grid">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/arduino-MAX1704x_library.png"><img alt="Install the SparkFun MAX1704x Arduino library" src="../assets/img/hookup_guide/arduino-MAX1704x_library.png" title="Click to enlarge" width="400" /></a><figcaption markdown>SparkFun MAX1704x Fuel Gauge Arduino library in the library manager of the Arduino IDE.</figcaption></p>
</figure>
</div>
<div>
<div class="admonition tip">
<p class="admonition-title">Manually Download the Arduino Library</p>
<p>For users who would like to manually download and install the library, the <code>*.zip</code> file can be accessed from the <a href="https://github.com/sparkfun/MAX1704x_Fuel_Gauge_Arduino_Library" target="_blank" rel="noopener">GitHub repository</a> or downloaded by clicking the button below.</p>
<p><center>
<a class="md-button md-button--primary" href="https://github.com/sparkfun/SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library/archive/refs/heads/main.zip" target="_blank" rel="noopener"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"/></svg></span> Download the Arduino Library</a>
</center></p>
</div>
</div>
</div>
<h3 id="ws2812-rgb-led">WS2812 <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr><a class="headerlink" href="#ws2812-rgb-led" title="Permanent link"></a></h3>
<p>While users are free to choose any Arduino library that provides support for WS2812 LEDs, we recommend the <a href="https://github.com/FastLED/FastLED/" target="_blank" rel="noopener">FastLED Arduino library</a>. It has been tested and verified to work with the <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr> on the RA6M5 Thing Plus. The <a href="https://github.com/FastLED/FastLED/" target="_blank" rel="noopener">FastLED Arduino library</a> can be installed from the <strong>Library Manager</strong> in the Arduino IDE by searching for:</p>
<div class="highlight"><pre><span></span><code>FastLED Arduino Library
</code></pre></div>
<div class="grid">
<div>
<figure>
<p><a href="../assets/img/hookup_guide/arduino-FastLED_library.png"><img alt="Install the FastLED Arduino library" src="../assets/img/hookup_guide/arduino-FastLED_library.png" title="Click to enlarge" width="400" /></a></p>
<figcaption>
<p>FastLED Arduino library in the library manager of the Arduino IDE.</p>
</figcaption>
</figure>
</div>
<div>
<div class="admonition tip">
<p class="admonition-title">Manually Download the Arduino Library</p>
<p>For users who would like to manually download and install the library, the <code>*.zip</code> file can be accessed from the <a href="https://github.com/FastLED/FastLED/" target="_blank" rel="noopener">GitHub repository</a> or downloaded by clicking the button below.</p>
<p><center>
<a class="md-button md-button--primary" href="https://github.com/FastLED/FastLED/archive/refs/heads/master.zip" target="_blank" rel="noopener"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"/></svg></span> Download the Arduino Library</a>
</center></p>
</div>
</div>
</div>
<details class="tip">
<summary>How to Define Parameters</summary>
<p>While using the FastLED Arduino library, users need to define the following parameters to the <strong>WS2812 <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr></strong> included on the board. However, if additional LEDs are connected externally to the board, then the appropriate values should be provided for the Arduino library.</p>
<dl>
<dt><strong><code>#define NUM_LEDS 1</code></strong></dt>
<dd>There is only one WS2812 <abbr title="Light Emitting Diode">LED</abbr> on the board</dd>
<dt><strong><code>#define DATA_PIN LED_RGB</code></strong></dt>
<dd>Declare which pin is connected to the WS2812 <abbr title="Light Emitting Diode">LED</abbr>. On the RA6M5 Thing Plus, it is defined as <code>D13</code> or <code>RGB_LED</code> in the Arduino core for <abbr title="General Purpose Input and Output">GPIO</abbr> <code>P105</code>.</dd>
<dt><strong><code>#define LED_TYPE WS2812</code></strong></dt>
<dd>Declare the <abbr title="Light Emitting Diode">LED</abbr> type for the library; the RA6M5 Thing Plus only includes <code>WS2812</code> <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr> on the board.</dd>
</dl>
</details>
<h3 id="da14531mod-ble-module_1">DA14531MOD <abbr title="Bluetooth Low-Energy">BLE</abbr> Module<a class="headerlink" href="#da14531mod-ble-module_1" title="Permanent link"></a></h3>
<p>While an Arduino library isn't necessary to utilize the <a href="https://www.renesas.com/us/en/software-tool/smartbond-codeless-commands" target="_blank" rel="noopener">CodeLess‚Ñ¢ AT commands</a> for the DA14531MOD Bluetooth module, we have created an <em>unofficial</em> Arduino library to help users get started. As an official library, users will need to manually download and install the library into the Arduino IDE; it will not be available through the <strong>Library Manager</strong>.</p>
<div class="grid">
<div>
<div class="admonition tip">
<p class="admonition-title">Manually Download the Arduino Library</p>
<p>To manually download and install the library, the files can be accessed from our <a href="https://github.com/sparkfun/SparkFun_Thing_Plus_RA6M5/tree/main/Firmware/CodelessBLE" target="_blank" rel="noopener">GitHub repository</a> or the <code>*.zip</code> can be downloaded by clicking the button below.</p>
<p><center>
<a class="md-button md-button--primary" href="../assets/CodelessBLE.zip"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"/></svg></span> Download the Arduino Library</a>
</center></p>
</div>
</div>
<div align="center" class="grid cards">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/15" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing an Arduino Library" src="https://cdn.sparkfun.com/c/264-148/assets/b/e/4/b/2/50f04b99ce395fd95e000001.jpg">
    </figure></p>
<hr />
<p><strong>Installing an Arduino Library</strong></a></p>
</li>
</ul>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In this Arduino library, there are several examples for configuring the Bluetooth connectivity of the DA14531MOD.</p>
<p>However, we also include a <code>SerialPassThrough</code> example. Once programmed on the RA6M5 Thing Plus, it allows users to directly interface with the DA14531MOD's <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> port through the board's <abbr title="Universal Serial Bus">USB</abbr> connection using a <a href="https://learn.sparkfun.com/tutorials/112" target="_blank" rel="noopener">serial terminal</a>. Therefore, enabling users to experiment with the CodeLess AT commands and develop their own <abbr title="Bluetooth Low-Energy">BLE</abbr> connectivity solution.</p>
</div>
<h1 id="software-overview-codeless-at-commands">Software Overview - CodeLess AT Commands<a class="headerlink" href="#software-overview-codeless-at-commands" title="Permanent link"></a></h1>
<p>The firmware provided with the DA14531MOD Bluetooth module on the RA66M5 Thing Plus, utilizes Renesas' <a href="https://www.renesas.com/us/en/software-tool/smartbond-codeless-commands" target="_blank" rel="noopener">SmartBond‚Ñ¢ - CodeLess‚Ñ¢ AT commands</a> platform. This platform allows users to quickly get started on developing wireless <abbr title="Internet of Things">IoT</abbr> applications through a set of <a href="https://en.wikipedia.org/wiki/Hayes_AT_command_set" target="_blank" rel="noopener">AT Commands <em>(ASCII instructions)</em></a> without having to write a single line of source code. The basic set of AT commands provides control over the Bluetooth¬Æ LE connectivity: <abbr title="Bluetooth Low-Energy">BLE</abbr> connect/disconnect, advertise, stop advertising, change roles (central/peripheral), scan for nearby devices, report <abbr title="Bluetooth Low-Energy">BLE</abbr> address, etc.</p>
<div class="grid">
<div>
<h2 id="user-manual">User Manual<a class="headerlink" href="#user-manual" title="Permanent link"></a></h2>
<p>Renesas provides documentation for the CodeLess platform:</p>
<ul>
<li><a href="https://lpccs-docs.renesas.com/UM-B-139-Getting-Started-with-DA14531-TINY-Module/index.html" target="_blank" rel="noopener">DA14531 TINY‚Ñ¢ Module Getting Started</a></li>
<li><a href="https://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/index.html" target="_blank" rel="noopener">DA145<code>XX</code> CodeLess User Manual</a></li>
</ul>
</div>
<div>
<div class="admonition tip">
<p class="admonition-title">Default Configuration</p>
<p>The default serial port configuration of the DA14531MOD for AT commands:</p>
<ul>
<li>BaudRate : 57600</li>
<li>DataBits : 8</li>
<li>StopBits : 1</li>
<li>Parity : None</li>
<li>Flow Control : None</li>
<li>Transmit Text: Append CR</li>
</ul>
</div>
<details class="info">
<summary>Firmware</summary>
<p>The precompiled binary from the CodeLess SDK utilized as the firmware image, on the DA14531MOD of the RA6M5 Thing Plus, is the <code>codeless_531_datapump.hex</code> <em>(CodeLess for DA1453x datapump)</em>.</p>
</details>
</div>
</div>
<h2 id="arduino-library">Arduino Library<a class="headerlink" href="#arduino-library" title="Permanent link"></a></h2>
<p>While an Arduino library isn't necessary to utilize the <a href="https://www.renesas.com/us/en/software-tool/smartbond-codeless-commands" target="_blank" rel="noopener">CodeLess‚Ñ¢ AT commands</a> for the DA14531MOD Bluetooth module, we have created an <em>unofficial</em> Arduino library to help users get started. As an official library, users will need to manually download and install the library into the Arduino IDE; it will not be available through the <strong>Library Manager</strong>.</p>
<div class="grid">
<div>
<div class="admonition tip">
<p class="admonition-title">Manually Download the Arduino Library</p>
<p>To manually download and install the library, the files can be accessed from our <a href="https://github.com/sparkfun/SparkFun_Thing_Plus_RA6M5/tree/main/Firmware/CodelessBLE" target="_blank" rel="noopener">GitHub repository</a> or the <code>*.zip</code> can be downloaded by clicking the button below.</p>
<p><center>
<a class="md-button md-button--primary" href="../assets/CodelessBLE.zip"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"/></svg></span> Download the Arduino Library</a>
</center></p>
</div>
</div>
<div align="center" class="grid cards">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/15" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Installing an Arduino Library" src="https://cdn.sparkfun.com/c/264-148/assets/b/e/4/b/2/50f04b99ce395fd95e000001.jpg">
    </figure></p>
<hr />
<p><strong>Installing an Arduino Library</strong></a></p>
</li>
</ul>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In this Arduino library, there are several examples for configuring the Bluetooth connectivity of the DA14531MOD.</p>
<p>However, we also include a <code>SerialPassThrough</code> example. Once programmed on the RA6M5 Thing Plus, it allows users to directly interface with the DA14531MOD's <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> port through the board's <abbr title="Universal Serial Bus">USB</abbr> connection using a <a href="https://learn.sparkfun.com/tutorials/112" target="_blank" rel="noopener">serial terminal</a>. Therefore, enabling users to experiment with the CodeLess AT commands and develop their own <abbr title="Bluetooth Low-Energy">BLE</abbr> connectivity solution.</p>
</div>
<h3 id="example-serialpassthrough">Example - SerialPassThrough<a class="headerlink" href="#example-serialpassthrough" title="Permanent link"></a></h3>
<p>In our <em>unofficial</em> Arduino library, there are several examples for configuring the Bluetooth connectivity of the DA14531MOD. Also included, is a <code>SerialPassThrough</code> example. Once programmed on the RA6M5 Thing Plus, it allows users to directly interface with the DA14531MOD's <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> port through the board's <abbr title="Universal Serial Bus">USB</abbr> connection using a <a href="https://learn.sparkfun.com/tutorials/112" target="_blank" rel="noopener">serial terminal</a>. The example, utilizes the default configuration settings for the serial port on the DA14531MOD, as <a href="#user-manual">listed above</a>.</p>
<div class="admonition terminal">
<p class="admonition-title">Serial Terminal Emulator</p>
<p>In order to configure the DA14531MOD on the RA6M5 Thing Plus, users will need access to a <a href="https://learn.sparkfun.com/tutorials/112" target="_blank" rel="noopener">serial terminal emulator</a> on their computer. The <a href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-serial-monitor/" target="_blank" rel="noopener"><strong>Serial Monitor</strong> in the Arduino IDE</a> is more than suitable for this application; however, users are also free to utilize their terminal emulator of choice. Below are a few options, outside of the Arduino IDE:</p>
<details class="tip">
<summary>Serial Communication and Serial Terminal</summary>
<p>Check out our hookup guides on <a href="https://learn.sparkfun.com/tutorials/8" target="_blank" rel="noopener">serial communication</a> and <a href="https://learn.sparkfun.com/tutorials/112" target="_blank" rel="noopener">installing a terminal emulator</a>:</p>
<div class="grid cards" markdown align="center">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/8" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/7/d/f/9/9/50d24be7ce395f1f6c000000.jpg">
    </figure></p>
<hr />
<p><strong>Serial Communication</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/112" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Tutorial Thumbnail" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/1/2/thumb.jpg">
    </figure></p>
<hr />
<p><strong>Serial Terminal Basics</strong></a></p>
</li>
</ul>
</div>
</details>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="windows" name="__tabbed_7" type="radio" /><input id="mac-os" name="__tabbed_7" type="radio" /><input id="linux" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="windows">Windows</label><label for="mac-os">Mac OS</label><label for="linux">Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>For Windows computers, we highly recommend <a href="https://teratermproject.github.io/index-en.html" target="_blank" rel="noopener">TeraTerm</a> <em>(open-source development project)</em>.</p>
</div>
<div class="tabbed-block">
<p>For Mac OS, users can check out <a href="https://freeware.the-meiers.org/" target="_blank" rel="noopener">CoolTerm</a> <em>(freeware)</em>.</p>
</div>
<div class="tabbed-block">
<p>Some Linux operating systems will already have the <code>screen</code> terminal emulator preinstalled.</p>
</div>
</div>
</div>
</div>
<h1 id="examples-digital-io">Examples - Digital I/O<a class="headerlink" href="#examples-digital-io" title="Permanent link"></a></h1>
<h2 id="digital-output">Digital Output<a class="headerlink" href="#digital-output" title="Permanent link"></a></h2>
<p>LEDs are a perfect visual indicator for the operation of a digital output.</p>
<h3 id="led-blink"><abbr title="Light Emitting Diode">LED</abbr> - Blink<a class="headerlink" href="#led-blink" title="Permanent link"></a></h3>
<p>Below, is one of the simplest built-in examples of the Arduino IDE. Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>01.Basics</strong> &gt; <strong>Blink</strong> drop-down menu. The example toggles the digital output of the <abbr title="General Purpose Input and Output">GPIO</abbr> pin connected to the blue, <code>STAT</code> <em>(status)</em> <abbr title="Light Emitting Diode">LED</abbr>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Users do not have to worry about modifying the sketch for the <abbr title="General Purpose Input and Output">GPIO</abbr> pin that is connected to the <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr>. The pin is already defined in the Arduino core with the <code>LED_BUILTIN</code> variable. Therefore, no adjustments are necessary to utilize this example code.</p>
</div>
<details class="code">
<summary><code>Blink.ino</code></summary>
<p><iframe class='arduino-sketch-iframe' src='https://create.arduino.cc/example/builtin/01.Basics%5CBlink/Blink/preview?embed&snippet' style='height:752px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
<h3 id="led-pwm"><abbr title="Light Emitting Diode">LED</abbr> - <abbr title="Pulse Width Modulation">PWM</abbr><a class="headerlink" href="#led-pwm" title="Permanent link"></a></h3>
<p>LEDs are also great visual indicators for <abbr title="Pulse Width Modulation">PWM</abbr> outputs.</p>
<p>On the RA6M5 Thing Plus, the <abbr title="General Purpose Input and Output">GPIO</abbr> pin connected to the <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr> is also capable of generating a <abbr title="Pulse Width Modulation">PWM</abbr> output. There are two built-in examples in the Arduino IDE for operating a <abbr title="Pulse Width Modulation">PWM</abbr> output on an <abbr title="Light Emitting Diode">LED</abbr>. The sketches operate by oscillating the duty cycle of the <abbr title="Pulse Width Modulation">PWM</abbr> signal from the <abbr title="General Purpose Input and Output">GPIO</abbr> pin so that the <abbr title="Light Emitting Diode">LED</abbr> appears to be dimming or <em>fading</em>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Users will need to modify the sketches below, for the <abbr title="General Purpose Input and Output">GPIO</abbr> pin that is connected to the <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr>. As mentioned in the example above, they can use the predefined <code>LED_BUILTIN</code> variable. Users will need to <del class="critic">replace the highlighted line</del> with the <ins class="critic">modification using the <code>LED_BUILTIN</code> variable</ins> to define the <abbr title="General Purpose Input and Output">GPIO</abbr> pin connected to the <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr>.</p>
<div class="grid" markdown>
<div markdown>
<div class="admonition code">
<p class="admonition-title"><code>Fade.ino</code></p>
<div class="highlight"><pre><span></span><code>    int led = <del class="critic">9;         // the PWM pin the LED is attached to</del>
    int led = <ins class="critic">LED_BUILTIN; // the PWM pin the LED is attached to</ins>
</code></pre></div>
</div>
</div>
<div markdown>
<div class="admonition code">
<p class="admonition-title"><code>Fading.ino</code></p>
<div class="highlight"><pre><span></span><code>    int ledPin = <del class="critic">9;  // LED connected to digital pin 9</del>
    int ledPin = <ins class="critic">LED_BUILTIN;  // LED connected to digital pin 14</ins>
</code></pre></div>
</div>
</div>
</div>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="fadeino" name="__tabbed_8" type="radio" /><input id="fadingino" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="fadeino"><code>Fade.ino</code></label><label for="fadingino"><code>Fading.ino</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>01.Basics</strong> &gt; <strong>Fade</strong> drop-down menu.</p>
<details class="code">
<summary><code>Fade.ino</code></summary>
<p><iframe src='https://create.arduino.cc/example/builtin/01.Basics%5CFade/Fade/preview?embed&snippet' style='height:510px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>03.Analog</strong> &gt; <strong>Fading</strong> drop-down menu.</p>
<div class="admonition warning">
<p class="admonition-title"><abbr title="Pulse Width Modulation">PWM</abbr> &ne; Analog</p>
<p>Although this example is listed under the <strong>03.Analog</strong> menu, users should keep in mind that a <abbr title="Pulse Width Modulation">PWM</abbr> output is not a <strong>true</strong> analog signal. <abbr title="Pulse Width Modulation">PWM</abbr> signals can only <em>emulate an analog output</em>, based on the average voltage output of their square waveform.</p>
</div>
<details class="code">
<summary><code>Fading.ino</code></summary>
<p><iframe class='arduino-sketch-iframe' src='https://create.arduino.cc/example/builtin/03.Analog%5CFading/Fading/preview?embed&snippet' style='height:752px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
</div>
</div>
<h3 id="led-ws2812"><abbr title="Light Emitting Diode">LED</abbr> - WS2812<a class="headerlink" href="#led-ws2812" title="Permanent link"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Support for the new Renesas Arduino boards has not been officially released for the FastLED Arduino library. Users should follow the <a href="../software_overview-arduino/#ws2812-rgb-led">installation steps</a> documented in the <strong>Software Overview</strong>.</p>
</div>
<p>The <strong>WS2812</strong> is an addressable <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr> that operates with a digital signal that stacks frames of 24-bit data, per <abbr title="Light Emitting Diode">LED</abbr> in a chain. We recommend that the <a href="https://github.com/FastLED/FastLED/" target="_blank" rel="noopener">FastLED Arduino library</a> be utilized in the Arduino IDE, to control the <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr> on the RA6M5 Thing Plus. Once the <a href="../software_overview-arduino/#ws2812-rgb-led">library is installed in the Arduino IDE</a>, users will find several example sketches listed in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>FastLED</strong> &gt; drop-down menu. We recommend the following examples for users to get started:</p>
<ul>
<li><code>Blink.ino</code></li>
<li><code>ColorTemperature.ino</code></li>
<li><code>ColorPalette.ino</code></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Below, are a few tips for users to start working with the FastLED Arduino library. However, for more details, users should refer to the <a href="https://fastled.io/docs/index.html" target="_blank" rel="noopener">documentation for the FastLED Arduino library</a>.</p>
<details class="code">
<summary>Define Parameters</summary>
<p>When utilizing the examples in the FastLED Arduino library, users may need to define and/or modify a few parameters:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// GPIO pins connected to the LED</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="cp">#define LED_PIN      LED_RGB </span><span class="c1">// (1)!</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1">// #define CLOCK_PIN      13 (2)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1">// Information about the LED (strip)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="cp">#define NUM_LEDS    1        </span><span class="c1">// (3)!</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="cp">#define CHIPSET     WS2812   </span><span class="c1">// (4)!</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="cp">#define COLOR_ORDER GRB      </span><span class="c1">// (5)!</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="c1">// Define the array of leds</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="n">CRGB</span><span class="w"> </span><span class="n">leds</span><span class="p">[</span><span class="n">NUM_LEDS</span><span class="p">];</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="c1">// </span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="cp">#define BRIGHTNESS  40       </span><span class="c1">// (6)!</span>
</code></pre></div>
<ol>
<li>For the RA6M5 Thing Plus, users can either refer to the predefined variable <code>LED_RGB</code> or define the pin as <code>13</code> <em>(<code>D13</code>)</em> for the <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr></li>
<li>A <strong>clock pin is not required</strong> for the WS2812 <abbr title="Light Emitting Diode">LED</abbr> on the RA6M5 Thing Plus; comment out any mentions of it</li>
<li>On the RA6M5 Thing Plus, there is only <strong>one</strong> <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr> included on the board</li>
<li>The <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr> on the RA6M5 Thing Plus is a <strong>WS2812</strong> <abbr title="Light Emitting Diode">LED</abbr></li>
<li>The format of the color order in the WS2812's data frames is Green, Red, Blue <em>(<strong>GRB</strong>)</em></li>
<li>
<p>Some of the examples may define an <abbr title="Light Emitting Diode">LED</abbr> brightness; this should be an 8-bit value <em>(<code>0</code>-<code>255</code>)</em>. Below, is a table of reference values for users to get started with:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Environment</th>
<th style="text-align: left;">Description</th>
<th style="text-align: center;">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Dark Room</td>
<td style="text-align: left;">Start to see primary colors</td>
<td style="text-align: center;"><code>5</code> - <code>12</code></td>
</tr>
<tr>
<td style="text-align: center;">Direct Sunlight</td>
<td style="text-align: left;">Start to see primary colors</td>
<td style="text-align: center;"><strong>&gt;</strong> <code>60</code></td>
</tr>
<tr>
<td style="text-align: center;">Direct Sunlight</td>
<td style="text-align: left;">Start to see color blending</td>
<td style="text-align: center;"><code>100</code> - <code>180</code></td>
</tr>
<tr>
<td style="text-align: center;">Direct Sunlight</td>
<td style="text-align: left;">Decent color blending</td>
<td style="text-align: center;"><strong>&gt;</strong> <code>230</code></td>
</tr>
</tbody>
</table>
</li>
</ol>
</details>
<details class="code">
<summary>Instantiate <abbr title="Light Emitting Diode">LED</abbr> Controller</summary>
<p>Most of the examples in the FastLED library predefine parameters for the <abbr title="Light Emitting Diode">LED</abbr> <em>(strip)</em>, as shown above. Later in the sketches, an instance of the <a href="https://fastled.io/docs/class_c_l_e_d_controller.html" target="_blank" rel="noopener"><abbr title="Light Emitting Diode">LED</abbr> controller</a> is created; therefore, if users have already modified all the parameters above, no other modifications should be necessary:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">FastLED</span><span class="p">.</span><span class="n">addLeds</span><span class="o">&lt;</span><span class="n">CHIPSET</span><span class="p">,</span><span class="w"> </span><span class="n">LED_PIN</span><span class="p">,</span><span class="w"> </span><span class="n">COLOR_ORDER</span><span class="o">&gt;</span><span class="p">(</span><span class="n">leds</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="p">);</span>
</code></pre></div>
<p>Otherwise, users will need to locate where the instance of the <a href="https://fastled.io/docs/class_c_l_e_d_controller.html" target="_blank" rel="noopener"><abbr title="Light Emitting Diode">LED</abbr> controller</a> is created and provide the required values. Users will also need to <a href="https://fastled.io/docs/class_c_fast_l_e_d.html#a730ba7d967e882b4b893689cf333b2eb" target="_blank" rel="noopener">configure the <abbr title="Light Emitting Diode">LED</abbr> brightness</a> later in the sketch, if that predefined variable isn't provided either:</p>
<div class="highlight"><pre><span></span><code>FastLED.addLeds&lt;<mark class="critic">WS2812</mark>, <mark class="critic">13</mark>, GRB&gt;(leds, <mark class="critic">1</mark>);
FastLED.setBrightness(<mark class="critic">&lt;value&gt;</mark>);
</code></pre></div>
<p>The example code should still <a href="https://fastled.io/docs/group___pixel_types.html#ga3c26d076773aa0f331d3066b46dbc6a4" target="_blank" rel="noopener">enumerate the order of the <abbr title="Red, Green, Blue">RGB</abbr> color channels</a>, required for the data frames of the <abbr title="Light Emitting Diode">LED</abbr> chipset. However, users may need to modify the enumerator to <code>GRB</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="cp">#define COLOR_ORDER GRB</span>
</code></pre></div>
</details>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="9:4"><input checked="checked" id="blinkino" name="__tabbed_9" type="radio" /><input id="colortemperatureino" name="__tabbed_9" type="radio" /><input id="colorpaletteino" name="__tabbed_9" type="radio" /><input id="sunlight-test" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="blinkino"><code>Blink.ino</code></label><label for="colortemperatureino"><code>ColorTemperature.ino</code></label><label for="colorpaletteino"><code>ColorPalette.ino</code></label><label for="sunlight-test">Sunlight Test</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>FastLED</strong> &gt; <strong>Blink</strong> drop-down menu.</p>
<details class="code">
<summary><code>Blink.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">/// @file    Blink.ino</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1">/// @brief   Blink the first LED of an LED strip</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1">/// @example Blink.ino</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;FastLED.h&gt;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1">// How many leds in your strip?</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="cp">#define NUM_LEDS 1</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1">// For led chips like WS2812, which have a data line, ground, and power, you just</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="c1">// need to define DATA_PIN.  For led chipsets that are SPI based (four wires - data, clock,</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="c1">// ground, and power), like the LPD8806 define both DATA_PIN and CLOCK_PIN</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="c1">// Clock pin only needed for SPI based chipsets when not using hardware SPI</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="cp">#define DATA_PIN 3</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="cp">#define CLOCK_PIN 13</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="c1">// Define the array of leds</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="n">CRGB</span><span class="w"> </span><span class="n">leds</span><span class="p">[</span><span class="n">NUM_LEDS</span><span class="p">];</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">    </span><span class="c1">// Uncomment/edit one of the following lines for your leds arrangement.</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">    </span><span class="c1">// ## Clockless types ##</span>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="w">    </span><span class="n">FastLED</span><span class="p">.</span><span class="n">addLeds</span><span class="o">&lt;</span><span class="n">NEOPIXEL</span><span class="p">,</span><span class="w"> </span><span class="n">DATA_PIN</span><span class="o">&gt;</span><span class="p">(</span><span class="n">leds</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="p">);</span><span class="w">  </span><span class="c1">// GRB ordering is assumed</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;SM16703, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;TM1829, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;TM1812, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;TM1809, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;TM1804, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;TM1803, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;UCS1903, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;UCS1903B, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;UCS1904, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;UCS2903, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;WS2812, DATA_PIN, RGB&gt;(leds, NUM_LEDS);  // GRB ordering is typical</span>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;WS2852, DATA_PIN, RGB&gt;(leds, NUM_LEDS);  // GRB ordering is typical</span>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;WS2812B, DATA_PIN, RGB&gt;(leds, NUM_LEDS);  // GRB ordering is typical</span>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;GS1903, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;SK6812, DATA_PIN, RGB&gt;(leds, NUM_LEDS);  // GRB ordering is typical</span>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;SK6822, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;APA106, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;PL9823, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;SK6822, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;WS2811, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;WS2813, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;APA104, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;WS2811_400, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;GE8822, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;GW6205, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;GW6205_400, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;LPD1886, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;LPD1886_8BIT, DATA_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a><span class="w">    </span><span class="c1">// ## Clocked (SPI) types ##</span>
<a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;LPD6803, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);  // GRB ordering is typical</span>
<a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;LPD8806, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);  // GRB ordering is typical</span>
<a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;WS2801, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;WS2803, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;SM16716, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);</span>
<a id="__codelineno-6-58" name="__codelineno-6-58" href="#__codelineno-6-58"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;P9813, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);  // BGR ordering is typical</span>
<a id="__codelineno-6-59" name="__codelineno-6-59" href="#__codelineno-6-59"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;DOTSTAR, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);  // BGR ordering is typical</span>
<a id="__codelineno-6-60" name="__codelineno-6-60" href="#__codelineno-6-60"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;APA102, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);  // BGR ordering is typical</span>
<a id="__codelineno-6-61" name="__codelineno-6-61" href="#__codelineno-6-61"></a><span class="w">    </span><span class="c1">// FastLED.addLeds&lt;SK9822, DATA_PIN, CLOCK_PIN, RGB&gt;(leds, NUM_LEDS);  // BGR ordering is typical</span>
<a id="__codelineno-6-62" name="__codelineno-6-62" href="#__codelineno-6-62"></a><span class="p">}</span>
<a id="__codelineno-6-63" name="__codelineno-6-63" href="#__codelineno-6-63"></a>
<a id="__codelineno-6-64" name="__codelineno-6-64" href="#__codelineno-6-64"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-6-65" name="__codelineno-6-65" href="#__codelineno-6-65"></a><span class="w">  </span><span class="c1">// Turn the LED on, then pause</span>
<a id="__codelineno-6-66" name="__codelineno-6-66" href="#__codelineno-6-66"></a><span class="w">  </span><span class="n">leds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">;</span>
<a id="__codelineno-6-67" name="__codelineno-6-67" href="#__codelineno-6-67"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-6-68" name="__codelineno-6-68" href="#__codelineno-6-68"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-6-69" name="__codelineno-6-69" href="#__codelineno-6-69"></a><span class="w">  </span><span class="c1">// Now turn the LED off, then pause</span>
<a id="__codelineno-6-70" name="__codelineno-6-70" href="#__codelineno-6-70"></a><span class="w">  </span><span class="n">leds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">;</span>
<a id="__codelineno-6-71" name="__codelineno-6-71" href="#__codelineno-6-71"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-6-72" name="__codelineno-6-72" href="#__codelineno-6-72"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-6-73" name="__codelineno-6-73" href="#__codelineno-6-73"></a><span class="p">}</span>
</code></pre></div>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>FastLED</strong> &gt; <strong>ColorTemperature</strong> drop-down menu.</p>
<details class="code">
<summary><code>ColorTemperature.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">/// @file    ColorTemperature.ino</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1">/// @brief   Demonstrates how to use @ref ColorTemperature based color correction</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1">/// @example ColorTemperature.ino</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;FastLED.h&gt;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="cp">#define LED_PIN     3</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1">// Information about the LED strip itself</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="cp">#define NUM_LEDS    60</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="cp">#define CHIPSET     WS2811</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="cp">#define COLOR_ORDER GRB</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="n">CRGB</span><span class="w"> </span><span class="n">leds</span><span class="p">[</span><span class="n">NUM_LEDS</span><span class="p">];</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="cp">#define BRIGHTNESS  128</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="c1">// FastLED provides two color-management controls:</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="c1">//   (1) color correction settings for each LED strip, and</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="c1">//   (2) master control of the overall output &#39;color temperature&#39; </span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="c1">//</span>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="c1">// THIS EXAMPLE demonstrates the second, &quot;color temperature&quot; control.</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="c1">// It shows a simple rainbow animation first with one temperature profile,</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="c1">// and a few seconds later, with a different temperature profile.</span>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="c1">//</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="c1">// The first pixel of the strip will show the color temperature.</span>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="c1">//</span>
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="c1">// HELPFUL HINTS for &quot;seeing&quot; the effect in this demo:</span>
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="c1">// * Don&#39;t look directly at the LED pixels.  Shine the LEDs aganst</span>
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="c1">//   a white wall, table, or piece of paper, and look at the reflected light.</span>
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="c1">//</span>
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a><span class="c1">// * If you watch it for a bit, and then walk away, and then come back </span>
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="c1">//   to it, you&#39;ll probably be able to &quot;see&quot; whether it&#39;s currently using</span>
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="c1">//   the &#39;redder&#39; or the &#39;bluer&#39; temperature profile, even not counting</span>
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="c1">//   the lowest &#39;indicator&#39; pixel.</span>
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="c1">//</span>
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="c1">//</span>
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a><span class="c1">// FastLED provides these pre-conigured incandescent color profiles:</span>
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="c1">//     Candle, Tungsten40W, Tungsten100W, Halogen, CarbonArc,</span>
<a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="c1">//     HighNoonSun, DirectSunlight, OvercastSky, ClearBlueSky,</span>
<a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="c1">// FastLED provides these pre-configured gaseous-light color profiles:</span>
<a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a><span class="c1">//     WarmFluorescent, StandardFluorescent, CoolWhiteFluorescent,</span>
<a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="c1">//     FullSpectrumFluorescent, GrowLightFluorescent, BlackLightFluorescent,</span>
<a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a><span class="c1">//     MercuryVapor, SodiumVapor, MetalHalide, HighPressureSodium,</span>
<a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a><span class="c1">// FastLED also provides an &quot;Uncorrected temperature&quot; profile</span>
<a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a><span class="c1">//    UncorrectedTemperature;</span>
<a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a>
<a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a><span class="cp">#define TEMPERATURE_1 Tungsten100W</span>
<a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a><span class="cp">#define TEMPERATURE_2 OvercastSky</span>
<a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a>
<a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a><span class="c1">// How many seconds to show each temperature before switching</span>
<a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a><span class="cp">#define DISPLAYTIME 20</span>
<a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a><span class="c1">// How many seconds to show black between switches</span>
<a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a><span class="cp">#define BLACKTIME   3</span>
<a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a>
<a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a><span class="p">{</span>
<a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a><span class="w">  </span><span class="c1">// draw a generic, no-name rainbow</span>
<a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">starthue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a><span class="w">  </span><span class="n">fill_rainbow</span><span class="p">(</span><span class="w"> </span><span class="n">leds</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">starthue</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a>
<a id="__codelineno-7-62" name="__codelineno-7-62" href="#__codelineno-7-62"></a><span class="w">  </span><span class="c1">// Choose which &#39;color temperature&#39; profile to enable.</span>
<a id="__codelineno-7-63" name="__codelineno-7-63" href="#__codelineno-7-63"></a><span class="w">  </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">secs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">millis</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="n">DISPLAYTIME</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-7-64" name="__codelineno-7-64" href="#__codelineno-7-64"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secs</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">DISPLAYTIME</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-65" name="__codelineno-7-65" href="#__codelineno-7-65"></a><span class="w">    </span><span class="n">FastLED</span><span class="p">.</span><span class="n">setTemperature</span><span class="p">(</span><span class="w"> </span><span class="n">TEMPERATURE_1</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// first temperature</span>
<a id="__codelineno-7-66" name="__codelineno-7-66" href="#__codelineno-7-66"></a><span class="w">    </span><span class="n">leds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEMPERATURE_1</span><span class="p">;</span><span class="w"> </span><span class="c1">// show indicator pixel</span>
<a id="__codelineno-7-67" name="__codelineno-7-67" href="#__codelineno-7-67"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-68" name="__codelineno-7-68" href="#__codelineno-7-68"></a><span class="w">    </span><span class="n">FastLED</span><span class="p">.</span><span class="n">setTemperature</span><span class="p">(</span><span class="w"> </span><span class="n">TEMPERATURE_2</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// second temperature</span>
<a id="__codelineno-7-69" name="__codelineno-7-69" href="#__codelineno-7-69"></a><span class="w">    </span><span class="n">leds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEMPERATURE_2</span><span class="p">;</span><span class="w"> </span><span class="c1">// show indicator pixel</span>
<a id="__codelineno-7-70" name="__codelineno-7-70" href="#__codelineno-7-70"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-71" name="__codelineno-7-71" href="#__codelineno-7-71"></a>
<a id="__codelineno-7-72" name="__codelineno-7-72" href="#__codelineno-7-72"></a><span class="w">  </span><span class="c1">// Black out the LEDs for a few secnds between color changes</span>
<a id="__codelineno-7-73" name="__codelineno-7-73" href="#__codelineno-7-73"></a><span class="w">  </span><span class="c1">// to let the eyes and brains adjust</span>
<a id="__codelineno-7-74" name="__codelineno-7-74" href="#__codelineno-7-74"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">secs</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">DISPLAYTIME</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">BLACKTIME</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-75" name="__codelineno-7-75" href="#__codelineno-7-75"></a><span class="w">    </span><span class="n">memset8</span><span class="p">(</span><span class="w"> </span><span class="n">leds</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">CRGB</span><span class="p">));</span>
<a id="__codelineno-7-76" name="__codelineno-7-76" href="#__codelineno-7-76"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-77" name="__codelineno-7-77" href="#__codelineno-7-77"></a>
<a id="__codelineno-7-78" name="__codelineno-7-78" href="#__codelineno-7-78"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-7-79" name="__codelineno-7-79" href="#__codelineno-7-79"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">delay</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<a id="__codelineno-7-80" name="__codelineno-7-80" href="#__codelineno-7-80"></a><span class="p">}</span>
<a id="__codelineno-7-81" name="__codelineno-7-81" href="#__codelineno-7-81"></a>
<a id="__codelineno-7-82" name="__codelineno-7-82" href="#__codelineno-7-82"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-83" name="__codelineno-7-83" href="#__codelineno-7-83"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="w"> </span><span class="mi">3000</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// power-up safety delay</span>
<a id="__codelineno-7-84" name="__codelineno-7-84" href="#__codelineno-7-84"></a><span class="w">  </span><span class="c1">// It&#39;s important to set the color correction for your LED strip here,</span>
<a id="__codelineno-7-85" name="__codelineno-7-85" href="#__codelineno-7-85"></a><span class="w">  </span><span class="c1">// so that colors can be more accurately rendered through the &#39;temperature&#39; profiles</span>
<a id="__codelineno-7-86" name="__codelineno-7-86" href="#__codelineno-7-86"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">addLeds</span><span class="o">&lt;</span><span class="n">CHIPSET</span><span class="p">,</span><span class="w"> </span><span class="n">LED_PIN</span><span class="p">,</span><span class="w"> </span><span class="n">COLOR_ORDER</span><span class="o">&gt;</span><span class="p">(</span><span class="n">leds</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="p">).</span><span class="n">setCorrection</span><span class="p">(</span><span class="w"> </span><span class="n">TypicalSMD5050</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-7-87" name="__codelineno-7-87" href="#__codelineno-7-87"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">setBrightness</span><span class="p">(</span><span class="w"> </span><span class="n">BRIGHTNESS</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-7-88" name="__codelineno-7-88" href="#__codelineno-7-88"></a><span class="p">}</span>
</code></pre></div>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>FastLED</strong> &gt; <strong>ColorPalette</strong> drop-down menu.</p>
<details class="code">
<summary><code>ColorPalette.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">/// @file    ColorPalette.ino</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1">/// @brief   Demonstrates how to use @ref ColorPalettes</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="c1">/// @example ColorPalette.ino</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;FastLED.h&gt;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="cp">#define LED_PIN     5</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="cp">#define NUM_LEDS    50</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="cp">#define BRIGHTNESS  64</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="cp">#define LED_TYPE    WS2811</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="cp">#define COLOR_ORDER GRB</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="n">CRGB</span><span class="w"> </span><span class="n">leds</span><span class="p">[</span><span class="n">NUM_LEDS</span><span class="p">];</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="cp">#define UPDATES_PER_SECOND 100</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="c1">// This example shows several ways to set up and use &#39;palettes&#39; of colors</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="c1">// with FastLED.</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="c1">//</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="c1">// These compact palettes provide an easy way to re-colorize your</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="c1">// animation on the fly, quickly, easily, and with low overhead.</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="c1">//</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="c1">// USING palettes is MUCH simpler in practice than in theory, so first just</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="c1">// run this sketch, and watch the pretty lights as you then read through</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="c1">// the code.  Although this sketch has eight (or more) different color schemes,</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="c1">// the entire sketch compiles down to about 6.5K on AVR.</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="c1">//</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="c1">// FastLED provides a few pre-configured color palettes, and makes it</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="c1">// extremely easy to make up your own color schemes with palettes.</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="c1">//</span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="c1">// Some notes on the more abstract &#39;theory and practice&#39; of</span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="c1">// FastLED compact palettes are at the bottom of this file.</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="n">CRGBPalette16</span><span class="w"> </span><span class="n">currentPalette</span><span class="p">;</span>
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="n">TBlendType</span><span class="w">    </span><span class="n">currentBlending</span><span class="p">;</span>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a>
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="k">extern</span><span class="w"> </span><span class="n">CRGBPalette16</span><span class="w"> </span><span class="n">myRedWhiteBluePalette</span><span class="p">;</span>
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="k">extern</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TProgmemPalette16</span><span class="w"> </span><span class="n">myRedWhiteBluePalette_p</span><span class="w"> </span><span class="n">PROGMEM</span><span class="p">;</span>
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a><span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="w"> </span><span class="mi">3000</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// power-up safety delay</span>
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a><span class="w">    </span><span class="n">FastLED</span><span class="p">.</span><span class="n">addLeds</span><span class="o">&lt;</span><span class="n">LED_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">LED_PIN</span><span class="p">,</span><span class="w"> </span><span class="n">COLOR_ORDER</span><span class="o">&gt;</span><span class="p">(</span><span class="n">leds</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="p">).</span><span class="n">setCorrection</span><span class="p">(</span><span class="w"> </span><span class="n">TypicalLEDStrip</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a><span class="w">    </span><span class="n">FastLED</span><span class="p">.</span><span class="n">setBrightness</span><span class="p">(</span><span class="w">  </span><span class="n">BRIGHTNESS</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a>
<a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a><span class="w">    </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RainbowColors_p</span><span class="p">;</span>
<a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a><span class="w">    </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a><span class="p">}</span>
<a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a>
<a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a>
<a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a><span class="p">{</span>
<a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a><span class="w">    </span><span class="n">ChangePalettePeriodically</span><span class="p">();</span>
<a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a>
<a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a><span class="w">    </span><span class="n">startIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="cm">/* motion speed */</span>
<a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a>
<a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a><span class="w">    </span><span class="n">FillLEDsFromPaletteColors</span><span class="p">(</span><span class="w"> </span><span class="n">startIndex</span><span class="p">);</span>
<a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a>
<a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a><span class="w">    </span><span class="n">FastLED</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a><span class="w">    </span><span class="n">FastLED</span><span class="p">.</span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">UPDATES_PER_SECOND</span><span class="p">);</span>
<a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a><span class="p">}</span>
<a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a>
<a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a><span class="kt">void</span><span class="w"> </span><span class="nf">FillLEDsFromPaletteColors</span><span class="p">(</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">colorIndex</span><span class="p">)</span>
<a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a><span class="p">{</span>
<a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">255</span><span class="p">;</span>
<a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a>
<a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a><span class="w">        </span><span class="n">leds</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ColorFromPalette</span><span class="p">(</span><span class="w"> </span><span class="n">currentPalette</span><span class="p">,</span><span class="w"> </span><span class="n">colorIndex</span><span class="p">,</span><span class="w"> </span><span class="n">brightness</span><span class="p">,</span><span class="w"> </span><span class="n">currentBlending</span><span class="p">);</span>
<a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a><span class="w">        </span><span class="n">colorIndex</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a><span class="p">}</span>
<a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a>
<a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a>
<a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a><span class="c1">// There are several different palettes of colors demonstrated here.</span>
<a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a><span class="c1">//</span>
<a id="__codelineno-8-78" name="__codelineno-8-78" href="#__codelineno-8-78"></a><span class="c1">// FastLED provides several &#39;preset&#39; palettes: RainbowColors_p, RainbowStripeColors_p,</span>
<a id="__codelineno-8-79" name="__codelineno-8-79" href="#__codelineno-8-79"></a><span class="c1">// OceanColors_p, CloudColors_p, LavaColors_p, ForestColors_p, and PartyColors_p.</span>
<a id="__codelineno-8-80" name="__codelineno-8-80" href="#__codelineno-8-80"></a><span class="c1">//</span>
<a id="__codelineno-8-81" name="__codelineno-8-81" href="#__codelineno-8-81"></a><span class="c1">// Additionally, you can manually define your own color palettes, or you can write</span>
<a id="__codelineno-8-82" name="__codelineno-8-82" href="#__codelineno-8-82"></a><span class="c1">// code that creates color palettes on the fly.  All are shown here.</span>
<a id="__codelineno-8-83" name="__codelineno-8-83" href="#__codelineno-8-83"></a>
<a id="__codelineno-8-84" name="__codelineno-8-84" href="#__codelineno-8-84"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ChangePalettePeriodically</span><span class="p">()</span>
<a id="__codelineno-8-85" name="__codelineno-8-85" href="#__codelineno-8-85"></a><span class="p">{</span>
<a id="__codelineno-8-86" name="__codelineno-8-86" href="#__codelineno-8-86"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">millis</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span>
<a id="__codelineno-8-87" name="__codelineno-8-87" href="#__codelineno-8-87"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">lastSecond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">99</span><span class="p">;</span>
<a id="__codelineno-8-88" name="__codelineno-8-88" href="#__codelineno-8-88"></a>
<a id="__codelineno-8-89" name="__codelineno-8-89" href="#__codelineno-8-89"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">lastSecond</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">secondHand</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-90" name="__codelineno-8-90" href="#__codelineno-8-90"></a><span class="w">        </span><span class="n">lastSecond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">secondHand</span><span class="p">;</span>
<a id="__codelineno-8-91" name="__codelineno-8-91" href="#__codelineno-8-91"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">0</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RainbowColors_p</span><span class="p">;</span><span class="w">         </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-92" name="__codelineno-8-92" href="#__codelineno-8-92"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RainbowStripeColors_p</span><span class="p">;</span><span class="w">   </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NOBLEND</span><span class="p">;</span><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-93" name="__codelineno-8-93" href="#__codelineno-8-93"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RainbowStripeColors_p</span><span class="p">;</span><span class="w">   </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-94" name="__codelineno-8-94" href="#__codelineno-8-94"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">SetupPurpleAndGreenPalette</span><span class="p">();</span><span class="w">             </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-95" name="__codelineno-8-95" href="#__codelineno-8-95"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">SetupTotallyRandomPalette</span><span class="p">();</span><span class="w">              </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-96" name="__codelineno-8-96" href="#__codelineno-8-96"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">SetupBlackAndWhiteStripedPalette</span><span class="p">();</span><span class="w">       </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NOBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-97" name="__codelineno-8-97" href="#__codelineno-8-97"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">35</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">SetupBlackAndWhiteStripedPalette</span><span class="p">();</span><span class="w">       </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-98" name="__codelineno-8-98" href="#__codelineno-8-98"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">40</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CloudColors_p</span><span class="p">;</span><span class="w">           </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-99" name="__codelineno-8-99" href="#__codelineno-8-99"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">45</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PartyColors_p</span><span class="p">;</span><span class="w">           </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-100" name="__codelineno-8-100" href="#__codelineno-8-100"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myRedWhiteBluePalette_p</span><span class="p">;</span><span class="w"> </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NOBLEND</span><span class="p">;</span><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-101" name="__codelineno-8-101" href="#__codelineno-8-101"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">55</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myRedWhiteBluePalette_p</span><span class="p">;</span><span class="w"> </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-102" name="__codelineno-8-102" href="#__codelineno-8-102"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-103" name="__codelineno-8-103" href="#__codelineno-8-103"></a><span class="p">}</span>
<a id="__codelineno-8-104" name="__codelineno-8-104" href="#__codelineno-8-104"></a>
<a id="__codelineno-8-105" name="__codelineno-8-105" href="#__codelineno-8-105"></a><span class="c1">// This function fills the palette with totally random colors.</span>
<a id="__codelineno-8-106" name="__codelineno-8-106" href="#__codelineno-8-106"></a><span class="kt">void</span><span class="w"> </span><span class="nf">SetupTotallyRandomPalette</span><span class="p">()</span>
<a id="__codelineno-8-107" name="__codelineno-8-107" href="#__codelineno-8-107"></a><span class="p">{</span>
<a id="__codelineno-8-108" name="__codelineno-8-108" href="#__codelineno-8-108"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-109" name="__codelineno-8-109" href="#__codelineno-8-109"></a><span class="w">        </span><span class="n">currentPalette</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CHSV</span><span class="p">(</span><span class="w"> </span><span class="n">random8</span><span class="p">(),</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="n">random8</span><span class="p">());</span>
<a id="__codelineno-8-110" name="__codelineno-8-110" href="#__codelineno-8-110"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-111" name="__codelineno-8-111" href="#__codelineno-8-111"></a><span class="p">}</span>
<a id="__codelineno-8-112" name="__codelineno-8-112" href="#__codelineno-8-112"></a>
<a id="__codelineno-8-113" name="__codelineno-8-113" href="#__codelineno-8-113"></a><span class="c1">// This function sets up a palette of black and white stripes,</span>
<a id="__codelineno-8-114" name="__codelineno-8-114" href="#__codelineno-8-114"></a><span class="c1">// using code.  Since the palette is effectively an array of</span>
<a id="__codelineno-8-115" name="__codelineno-8-115" href="#__codelineno-8-115"></a><span class="c1">// sixteen CRGB colors, the various fill_* functions can be used</span>
<a id="__codelineno-8-116" name="__codelineno-8-116" href="#__codelineno-8-116"></a><span class="c1">// to set them up.</span>
<a id="__codelineno-8-117" name="__codelineno-8-117" href="#__codelineno-8-117"></a><span class="kt">void</span><span class="w"> </span><span class="nf">SetupBlackAndWhiteStripedPalette</span><span class="p">()</span>
<a id="__codelineno-8-118" name="__codelineno-8-118" href="#__codelineno-8-118"></a><span class="p">{</span>
<a id="__codelineno-8-119" name="__codelineno-8-119" href="#__codelineno-8-119"></a><span class="w">    </span><span class="c1">// &#39;black out&#39; all 16 palette entries...</span>
<a id="__codelineno-8-120" name="__codelineno-8-120" href="#__codelineno-8-120"></a><span class="w">    </span><span class="n">fill_solid</span><span class="p">(</span><span class="w"> </span><span class="n">currentPalette</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">);</span>
<a id="__codelineno-8-121" name="__codelineno-8-121" href="#__codelineno-8-121"></a><span class="w">    </span><span class="c1">// and set every fourth one to white.</span>
<a id="__codelineno-8-122" name="__codelineno-8-122" href="#__codelineno-8-122"></a><span class="w">    </span><span class="n">currentPalette</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-8-123" name="__codelineno-8-123" href="#__codelineno-8-123"></a><span class="w">    </span><span class="n">currentPalette</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-8-124" name="__codelineno-8-124" href="#__codelineno-8-124"></a><span class="w">    </span><span class="n">currentPalette</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-8-125" name="__codelineno-8-125" href="#__codelineno-8-125"></a><span class="w">    </span><span class="n">currentPalette</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-8-126" name="__codelineno-8-126" href="#__codelineno-8-126"></a>
<a id="__codelineno-8-127" name="__codelineno-8-127" href="#__codelineno-8-127"></a><span class="p">}</span>
<a id="__codelineno-8-128" name="__codelineno-8-128" href="#__codelineno-8-128"></a>
<a id="__codelineno-8-129" name="__codelineno-8-129" href="#__codelineno-8-129"></a><span class="c1">// This function sets up a palette of purple and green stripes.</span>
<a id="__codelineno-8-130" name="__codelineno-8-130" href="#__codelineno-8-130"></a><span class="kt">void</span><span class="w"> </span><span class="nf">SetupPurpleAndGreenPalette</span><span class="p">()</span>
<a id="__codelineno-8-131" name="__codelineno-8-131" href="#__codelineno-8-131"></a><span class="p">{</span>
<a id="__codelineno-8-132" name="__codelineno-8-132" href="#__codelineno-8-132"></a><span class="w">    </span><span class="n">CRGB</span><span class="w"> </span><span class="n">purple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CHSV</span><span class="p">(</span><span class="w"> </span><span class="n">HUE_PURPLE</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span>
<a id="__codelineno-8-133" name="__codelineno-8-133" href="#__codelineno-8-133"></a><span class="w">    </span><span class="n">CRGB</span><span class="w"> </span><span class="n">green</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">CHSV</span><span class="p">(</span><span class="w"> </span><span class="n">HUE_GREEN</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span>
<a id="__codelineno-8-134" name="__codelineno-8-134" href="#__codelineno-8-134"></a><span class="w">    </span><span class="n">CRGB</span><span class="w"> </span><span class="n">black</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">;</span>
<a id="__codelineno-8-135" name="__codelineno-8-135" href="#__codelineno-8-135"></a>
<a id="__codelineno-8-136" name="__codelineno-8-136" href="#__codelineno-8-136"></a><span class="w">    </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGBPalette16</span><span class="p">(</span>
<a id="__codelineno-8-137" name="__codelineno-8-137" href="#__codelineno-8-137"></a><span class="w">                                   </span><span class="n">green</span><span class="p">,</span><span class="w">  </span><span class="n">green</span><span class="p">,</span><span class="w">  </span><span class="n">black</span><span class="p">,</span><span class="w">  </span><span class="n">black</span><span class="p">,</span>
<a id="__codelineno-8-138" name="__codelineno-8-138" href="#__codelineno-8-138"></a><span class="w">                                   </span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span><span class="w">  </span><span class="n">black</span><span class="p">,</span>
<a id="__codelineno-8-139" name="__codelineno-8-139" href="#__codelineno-8-139"></a><span class="w">                                   </span><span class="n">green</span><span class="p">,</span><span class="w">  </span><span class="n">green</span><span class="p">,</span><span class="w">  </span><span class="n">black</span><span class="p">,</span><span class="w">  </span><span class="n">black</span><span class="p">,</span>
<a id="__codelineno-8-140" name="__codelineno-8-140" href="#__codelineno-8-140"></a><span class="w">                                   </span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span><span class="w">  </span><span class="n">black</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-8-141" name="__codelineno-8-141" href="#__codelineno-8-141"></a><span class="p">}</span>
<a id="__codelineno-8-142" name="__codelineno-8-142" href="#__codelineno-8-142"></a>
<a id="__codelineno-8-143" name="__codelineno-8-143" href="#__codelineno-8-143"></a>
<a id="__codelineno-8-144" name="__codelineno-8-144" href="#__codelineno-8-144"></a><span class="c1">// This example shows how to set up a static color palette</span>
<a id="__codelineno-8-145" name="__codelineno-8-145" href="#__codelineno-8-145"></a><span class="c1">// which is stored in PROGMEM (flash), which is almost always more</span>
<a id="__codelineno-8-146" name="__codelineno-8-146" href="#__codelineno-8-146"></a><span class="c1">// plentiful than RAM.  A static PROGMEM palette like this</span>
<a id="__codelineno-8-147" name="__codelineno-8-147" href="#__codelineno-8-147"></a><span class="c1">// takes up 64 bytes of flash.</span>
<a id="__codelineno-8-148" name="__codelineno-8-148" href="#__codelineno-8-148"></a><span class="k">const</span><span class="w"> </span><span class="n">TProgmemPalette16</span><span class="w"> </span><span class="n">myRedWhiteBluePalette_p</span><span class="w"> </span><span class="n">PROGMEM</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-8-149" name="__codelineno-8-149" href="#__codelineno-8-149"></a><span class="p">{</span>
<a id="__codelineno-8-150" name="__codelineno-8-150" href="#__codelineno-8-150"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">,</span>
<a id="__codelineno-8-151" name="__codelineno-8-151" href="#__codelineno-8-151"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Gray</span><span class="p">,</span><span class="w"> </span><span class="c1">// &#39;white&#39; is too bright compared to red and blue</span>
<a id="__codelineno-8-152" name="__codelineno-8-152" href="#__codelineno-8-152"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span>
<a id="__codelineno-8-153" name="__codelineno-8-153" href="#__codelineno-8-153"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">,</span>
<a id="__codelineno-8-154" name="__codelineno-8-154" href="#__codelineno-8-154"></a>
<a id="__codelineno-8-155" name="__codelineno-8-155" href="#__codelineno-8-155"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">,</span>
<a id="__codelineno-8-156" name="__codelineno-8-156" href="#__codelineno-8-156"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Gray</span><span class="p">,</span>
<a id="__codelineno-8-157" name="__codelineno-8-157" href="#__codelineno-8-157"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span>
<a id="__codelineno-8-158" name="__codelineno-8-158" href="#__codelineno-8-158"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">,</span>
<a id="__codelineno-8-159" name="__codelineno-8-159" href="#__codelineno-8-159"></a>
<a id="__codelineno-8-160" name="__codelineno-8-160" href="#__codelineno-8-160"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">,</span>
<a id="__codelineno-8-161" name="__codelineno-8-161" href="#__codelineno-8-161"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">,</span>
<a id="__codelineno-8-162" name="__codelineno-8-162" href="#__codelineno-8-162"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Gray</span><span class="p">,</span>
<a id="__codelineno-8-163" name="__codelineno-8-163" href="#__codelineno-8-163"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Gray</span><span class="p">,</span>
<a id="__codelineno-8-164" name="__codelineno-8-164" href="#__codelineno-8-164"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span>
<a id="__codelineno-8-165" name="__codelineno-8-165" href="#__codelineno-8-165"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span>
<a id="__codelineno-8-166" name="__codelineno-8-166" href="#__codelineno-8-166"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">,</span>
<a id="__codelineno-8-167" name="__codelineno-8-167" href="#__codelineno-8-167"></a><span class="w">    </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span>
<a id="__codelineno-8-168" name="__codelineno-8-168" href="#__codelineno-8-168"></a><span class="p">};</span>
<a id="__codelineno-8-169" name="__codelineno-8-169" href="#__codelineno-8-169"></a>
<a id="__codelineno-8-170" name="__codelineno-8-170" href="#__codelineno-8-170"></a>
<a id="__codelineno-8-171" name="__codelineno-8-171" href="#__codelineno-8-171"></a>
<a id="__codelineno-8-172" name="__codelineno-8-172" href="#__codelineno-8-172"></a><span class="c1">// Additional notes on FastLED compact palettes:</span>
<a id="__codelineno-8-173" name="__codelineno-8-173" href="#__codelineno-8-173"></a><span class="c1">//</span>
<a id="__codelineno-8-174" name="__codelineno-8-174" href="#__codelineno-8-174"></a><span class="c1">// Normally, in computer graphics, the palette (or &quot;color lookup table&quot;)</span>
<a id="__codelineno-8-175" name="__codelineno-8-175" href="#__codelineno-8-175"></a><span class="c1">// has 256 entries, each containing a specific 24-bit RGB color.  You can then</span>
<a id="__codelineno-8-176" name="__codelineno-8-176" href="#__codelineno-8-176"></a><span class="c1">// index into the color palette using a simple 8-bit (one byte) value.</span>
<a id="__codelineno-8-177" name="__codelineno-8-177" href="#__codelineno-8-177"></a><span class="c1">// A 256-entry color palette takes up 768 bytes of RAM, which on Arduino</span>
<a id="__codelineno-8-178" name="__codelineno-8-178" href="#__codelineno-8-178"></a><span class="c1">// is quite possibly &quot;too many&quot; bytes.</span>
<a id="__codelineno-8-179" name="__codelineno-8-179" href="#__codelineno-8-179"></a><span class="c1">//</span>
<a id="__codelineno-8-180" name="__codelineno-8-180" href="#__codelineno-8-180"></a><span class="c1">// FastLED does offer traditional 256-element palettes, for setups that</span>
<a id="__codelineno-8-181" name="__codelineno-8-181" href="#__codelineno-8-181"></a><span class="c1">// can afford the 768-byte cost in RAM.</span>
<a id="__codelineno-8-182" name="__codelineno-8-182" href="#__codelineno-8-182"></a><span class="c1">//</span>
<a id="__codelineno-8-183" name="__codelineno-8-183" href="#__codelineno-8-183"></a><span class="c1">// However, FastLED also offers a compact alternative.  FastLED offers</span>
<a id="__codelineno-8-184" name="__codelineno-8-184" href="#__codelineno-8-184"></a><span class="c1">// palettes that store 16 distinct entries, but can be accessed AS IF</span>
<a id="__codelineno-8-185" name="__codelineno-8-185" href="#__codelineno-8-185"></a><span class="c1">// they actually have 256 entries; this is accomplished by interpolating</span>
<a id="__codelineno-8-186" name="__codelineno-8-186" href="#__codelineno-8-186"></a><span class="c1">// between the 16 explicit entries to create fifteen intermediate palette</span>
<a id="__codelineno-8-187" name="__codelineno-8-187" href="#__codelineno-8-187"></a><span class="c1">// entries between each pair.</span>
<a id="__codelineno-8-188" name="__codelineno-8-188" href="#__codelineno-8-188"></a><span class="c1">//</span>
<a id="__codelineno-8-189" name="__codelineno-8-189" href="#__codelineno-8-189"></a><span class="c1">// So for example, if you set the first two explicit entries of a compact </span>
<a id="__codelineno-8-190" name="__codelineno-8-190" href="#__codelineno-8-190"></a><span class="c1">// palette to Green (0,255,0) and Blue (0,0,255), and then retrieved </span>
<a id="__codelineno-8-191" name="__codelineno-8-191" href="#__codelineno-8-191"></a><span class="c1">// the first sixteen entries from the virtual palette (of 256), you&#39;d get</span>
<a id="__codelineno-8-192" name="__codelineno-8-192" href="#__codelineno-8-192"></a><span class="c1">// Green, followed by a smooth gradient from green-to-blue, and then Blue.</span>
</code></pre></div>
</details>
</div>
<div class="tabbed-block">
<p>This sketch allows users to test the brightness of the WS2812 <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr> on the RA6M5 Thing Plus in direct sunlight. The sketch implements an interrupt on the <span class="keys"><kbd>USRBTN</kbd></span> button to increase the brightness of the <abbr title="Light Emitting Diode">LED</abbr> in increments. The brightness value is then displayed on the <a href="https://www.sparkfun.com/products/24606" target="_blank" rel="noopener">Qwiic OLED Display</a>, which is connected by a <a href="https://www.sparkfun.com/products/17260" target="_blank" rel="noopener">Qwiic cable</a>.</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/17260" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/6/2/4/7/17260-Flexible_Qwiic_Cable_-_50mm-01.jpg">
    </figure></p>
<hr />
<p><strong>Flexible Qwiic Cable - 50mm</strong><br>
PRT-17260</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/24606" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/9/6/3/LCD-24606-Qwiic-OLED-Display-Feature-Screen.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic OLED Display (0.91 in., 128x32)</strong><br>
LCD-24606</a></p>
</li>
</ul>
</div>
</details>
<p>The example code can be found in the <a href="https://github.com/sparkfun/SparkFun_Thing_Plus_RA6M5/tree/main/docs/assets/arduino_examples/RGB_sunlight/RGB_sunlight.ino" target="_blank" rel="noopener">GitHub repository</a>. However, users can simply click the button to download the code or expand the box <em>(below)</em> to copy the code.</p>
<details class="code">
<summary><code>RGB_sunlight.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="cm">/*</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="cm">  RGB_sunlight.ino</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="cm">  ColorPalette.ino (Original)</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="cm">  This example shows several ways to set up and use &#39;palettes&#39; of colors</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="cm">  with FastLED.</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="cm">  These compact palettes provide an easy way to re-colorize your</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="cm">  animation on the fly, quickly, easily, and with low overhead.</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="cm">  USING palettes is MUCH simpler in practice than in theory, so first just</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="cm">  run this sketch, and watch the pretty lights as you then read through</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="cm">  the code.  Although this sketch has eight (or more) different color schemes,</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="cm">  the entire sketch compiles down to about 6.5K on AVR.</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="cm">  FastLED provides a few pre-configured color palettes, and makes it</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="cm">  extremely easy to make up your own color schemes with palettes.</span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="cm">  Some notes on the more abstract &#39;theory and practice&#39; of</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="cm">  FastLED compact palettes are at the bottom of this file.</span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="cm">  Created: June 19, 2014 (Based on GitHub commit)</span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="cm">  Author: kriegsman</span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="cm">  ===========================================================================</span>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="cm">  Used to test the WS2812 RGB LED on the RA6M5 Thing Plus in direct sunlight.</span>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="cm">  The sketch implements an interrupt on the user button to increment the</span>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="cm">  brightness of the LED. The brightness value is displayed on a Qwiic OLED</span>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="cm">  Display (https://www.sparkfun.com/products/24606) connected by a Qwiic</span>
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="cm">  cable.</span>
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a>
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="cm">  Modified: April 11, 2024</span>
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="cm">  By SparkFun Electronics</span>
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="cm">  Author: Wes F</span>
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="cm">*/</span>
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a>
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a>
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;FastLED.h&gt;</span><span class="c1">              // http://librarymanager/All#FastLED</span>
<a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SparkFun_Qwiic_OLED.h&gt;</span><span class="c1">  // http://librarymanager/All#SparkFun_Qwiic_OLED</span>
<a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a>
<a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="n">QwiicNarrowOLED</span><span class="w"> </span><span class="n">myOLED</span><span class="p">;</span><span class="w">           </span><span class="c1">//</span>
<a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a>
<a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="cp">#define LED_PIN 13</span>
<a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="cp">#define NUM_LEDS 1</span>
<a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a><span class="c1">// #define BRIGHTNESS 60</span>
<a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a><span class="cp">#define LED_TYPE WS2812</span>
<a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a><span class="cp">#define COLOR_ORDER GRB</span>
<a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a><span class="n">CRGB</span><span class="w"> </span><span class="n">leds</span><span class="p">[</span><span class="n">NUM_LEDS</span><span class="p">];</span>
<a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a>
<a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a><span class="cp">#define UPDATES_PER_SECOND 100</span>
<a id="__codelineno-9-53" name="__codelineno-9-53" href="#__codelineno-9-53"></a>
<a id="__codelineno-9-54" name="__codelineno-9-54" href="#__codelineno-9-54"></a><span class="n">CRGBPalette16</span><span class="w"> </span><span class="n">currentPalette</span><span class="p">;</span>
<a id="__codelineno-9-55" name="__codelineno-9-55" href="#__codelineno-9-55"></a><span class="n">TBlendType</span><span class="w"> </span><span class="n">currentBlending</span><span class="p">;</span>
<a id="__codelineno-9-56" name="__codelineno-9-56" href="#__codelineno-9-56"></a>
<a id="__codelineno-9-57" name="__codelineno-9-57" href="#__codelineno-9-57"></a><span class="k">extern</span><span class="w"> </span><span class="n">CRGBPalette16</span><span class="w"> </span><span class="n">myRedWhiteBluePalette</span><span class="p">;</span>
<a id="__codelineno-9-58" name="__codelineno-9-58" href="#__codelineno-9-58"></a><span class="k">extern</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TProgmemPalette16</span><span class="w"> </span><span class="n">myRedWhiteBluePalette_p</span><span class="w"> </span><span class="n">PROGMEM</span><span class="p">;</span>
<a id="__codelineno-9-59" name="__codelineno-9-59" href="#__codelineno-9-59"></a>
<a id="__codelineno-9-60" name="__codelineno-9-60" href="#__codelineno-9-60"></a><span class="kt">int</span><span class="w"> </span><span class="n">BRIGHTNESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">75</span><span class="p">;</span>
<a id="__codelineno-9-61" name="__codelineno-9-61" href="#__codelineno-9-61"></a>
<a id="__codelineno-9-62" name="__codelineno-9-62" href="#__codelineno-9-62"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-63" name="__codelineno-9-63" href="#__codelineno-9-63"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span><span class="w">  </span><span class="c1">// power-up safety delay</span>
<a id="__codelineno-9-64" name="__codelineno-9-64" href="#__codelineno-9-64"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">addLeds</span><span class="o">&lt;</span><span class="n">LED_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">LED_PIN</span><span class="p">,</span><span class="w"> </span><span class="n">COLOR_ORDER</span><span class="o">&gt;</span><span class="p">(</span><span class="n">leds</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="p">).</span><span class="n">setCorrection</span><span class="p">(</span><span class="n">TypicalLEDStrip</span><span class="p">);</span>
<a id="__codelineno-9-65" name="__codelineno-9-65" href="#__codelineno-9-65"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">setBrightness</span><span class="p">(</span><span class="n">BRIGHTNESS</span><span class="p">);</span>
<a id="__codelineno-9-66" name="__codelineno-9-66" href="#__codelineno-9-66"></a><span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="n">INPUT_PULLUP</span><span class="p">);</span>
<a id="__codelineno-9-67" name="__codelineno-9-67" href="#__codelineno-9-67"></a><span class="w">  </span><span class="n">attachInterrupt</span><span class="p">(</span><span class="n">digitalPinToInterrupt</span><span class="p">(</span><span class="mi">31</span><span class="p">),</span><span class="w"> </span><span class="n">ChangeBrightness</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-9-68" name="__codelineno-9-68" href="#__codelineno-9-68"></a>
<a id="__codelineno-9-69" name="__codelineno-9-69" href="#__codelineno-9-69"></a><span class="w">  </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RainbowColors_p</span><span class="p">;</span>
<a id="__codelineno-9-70" name="__codelineno-9-70" href="#__codelineno-9-70"></a><span class="w">  </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-71" name="__codelineno-9-71" href="#__codelineno-9-71"></a><span class="w">  </span><span class="n">Wire</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-9-72" name="__codelineno-9-72" href="#__codelineno-9-72"></a>
<a id="__codelineno-9-73" name="__codelineno-9-73" href="#__codelineno-9-73"></a><span class="w">  </span><span class="c1">// Initalize the OLED device and related graphics system</span>
<a id="__codelineno-9-74" name="__codelineno-9-74" href="#__codelineno-9-74"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">myOLED</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-75" name="__codelineno-9-75" href="#__codelineno-9-75"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span>
<a id="__codelineno-9-76" name="__codelineno-9-76" href="#__codelineno-9-76"></a><span class="w">      </span><span class="p">;</span>
<a id="__codelineno-9-77" name="__codelineno-9-77" href="#__codelineno-9-77"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-78" name="__codelineno-9-78" href="#__codelineno-9-78"></a><span class="p">}</span>
<a id="__codelineno-9-79" name="__codelineno-9-79" href="#__codelineno-9-79"></a>
<a id="__codelineno-9-80" name="__codelineno-9-80" href="#__codelineno-9-80"></a>
<a id="__codelineno-9-81" name="__codelineno-9-81" href="#__codelineno-9-81"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-82" name="__codelineno-9-82" href="#__codelineno-9-82"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">setBrightness</span><span class="p">(</span><span class="n">BRIGHTNESS</span><span class="p">);</span>
<a id="__codelineno-9-83" name="__codelineno-9-83" href="#__codelineno-9-83"></a>
<a id="__codelineno-9-84" name="__codelineno-9-84" href="#__codelineno-9-84"></a><span class="w">  </span><span class="n">ChangePalettePeriodically</span><span class="p">();</span>
<a id="__codelineno-9-85" name="__codelineno-9-85" href="#__codelineno-9-85"></a>
<a id="__codelineno-9-86" name="__codelineno-9-86" href="#__codelineno-9-86"></a><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-9-87" name="__codelineno-9-87" href="#__codelineno-9-87"></a><span class="w">  </span><span class="n">startIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="cm">/* motion speed */</span>
<a id="__codelineno-9-88" name="__codelineno-9-88" href="#__codelineno-9-88"></a>
<a id="__codelineno-9-89" name="__codelineno-9-89" href="#__codelineno-9-89"></a><span class="w">  </span><span class="n">FillLEDsFromPaletteColors</span><span class="p">(</span><span class="n">startIndex</span><span class="p">);</span>
<a id="__codelineno-9-90" name="__codelineno-9-90" href="#__codelineno-9-90"></a>
<a id="__codelineno-9-91" name="__codelineno-9-91" href="#__codelineno-9-91"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-9-92" name="__codelineno-9-92" href="#__codelineno-9-92"></a><span class="w">  </span><span class="n">FastLED</span><span class="p">.</span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">UPDATES_PER_SECOND</span><span class="p">);</span>
<a id="__codelineno-9-93" name="__codelineno-9-93" href="#__codelineno-9-93"></a>
<a id="__codelineno-9-94" name="__codelineno-9-94" href="#__codelineno-9-94"></a><span class="w">  </span><span class="n">myOLED</span><span class="p">.</span><span class="n">erase</span><span class="p">();</span>
<a id="__codelineno-9-95" name="__codelineno-9-95" href="#__codelineno-9-95"></a><span class="w">  </span><span class="n">myOLED</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Brightness: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">BRIGHTNESS</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-9-96" name="__codelineno-9-96" href="#__codelineno-9-96"></a><span class="w">  </span><span class="n">myOLED</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
<a id="__codelineno-9-97" name="__codelineno-9-97" href="#__codelineno-9-97"></a><span class="p">}</span>
<a id="__codelineno-9-98" name="__codelineno-9-98" href="#__codelineno-9-98"></a>
<a id="__codelineno-9-99" name="__codelineno-9-99" href="#__codelineno-9-99"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ChangeBrightness</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-100" name="__codelineno-9-100" href="#__codelineno-9-100"></a><span class="w">  </span><span class="n">BRIGHTNESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BRIGHTNESS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<a id="__codelineno-9-101" name="__codelineno-9-101" href="#__codelineno-9-101"></a>
<a id="__codelineno-9-102" name="__codelineno-9-102" href="#__codelineno-9-102"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">BRIGHTNESS</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-103" name="__codelineno-9-103" href="#__codelineno-9-103"></a><span class="w">    </span><span class="n">BRIGHTNESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">75</span><span class="p">;</span>
<a id="__codelineno-9-104" name="__codelineno-9-104" href="#__codelineno-9-104"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-105" name="__codelineno-9-105" href="#__codelineno-9-105"></a><span class="p">}</span>
<a id="__codelineno-9-106" name="__codelineno-9-106" href="#__codelineno-9-106"></a>
<a id="__codelineno-9-107" name="__codelineno-9-107" href="#__codelineno-9-107"></a>
<a id="__codelineno-9-108" name="__codelineno-9-108" href="#__codelineno-9-108"></a><span class="kt">void</span><span class="w"> </span><span class="nf">FillLEDsFromPaletteColors</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">colorIndex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-109" name="__codelineno-9-109" href="#__codelineno-9-109"></a><span class="w">  </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">255</span><span class="p">;</span>
<a id="__codelineno-9-110" name="__codelineno-9-110" href="#__codelineno-9-110"></a>
<a id="__codelineno-9-111" name="__codelineno-9-111" href="#__codelineno-9-111"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">NUM_LEDS</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-112" name="__codelineno-9-112" href="#__codelineno-9-112"></a><span class="w">    </span><span class="n">leds</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ColorFromPalette</span><span class="p">(</span><span class="n">currentPalette</span><span class="p">,</span><span class="w"> </span><span class="n">colorIndex</span><span class="p">,</span><span class="w"> </span><span class="n">brightness</span><span class="p">,</span><span class="w"> </span><span class="n">currentBlending</span><span class="p">);</span>
<a id="__codelineno-9-113" name="__codelineno-9-113" href="#__codelineno-9-113"></a><span class="w">    </span><span class="n">colorIndex</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<a id="__codelineno-9-114" name="__codelineno-9-114" href="#__codelineno-9-114"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-115" name="__codelineno-9-115" href="#__codelineno-9-115"></a><span class="p">}</span>
<a id="__codelineno-9-116" name="__codelineno-9-116" href="#__codelineno-9-116"></a>
<a id="__codelineno-9-117" name="__codelineno-9-117" href="#__codelineno-9-117"></a>
<a id="__codelineno-9-118" name="__codelineno-9-118" href="#__codelineno-9-118"></a><span class="c1">// There are several different palettes of colors demonstrated here.</span>
<a id="__codelineno-9-119" name="__codelineno-9-119" href="#__codelineno-9-119"></a><span class="c1">//</span>
<a id="__codelineno-9-120" name="__codelineno-9-120" href="#__codelineno-9-120"></a><span class="c1">// FastLED provides several &#39;preset&#39; palettes: RainbowColors_p, RainbowStripeColors_p,</span>
<a id="__codelineno-9-121" name="__codelineno-9-121" href="#__codelineno-9-121"></a><span class="c1">// OceanColors_p, CloudColors_p, LavaColors_p, ForestColors_p, and PartyColors_p.</span>
<a id="__codelineno-9-122" name="__codelineno-9-122" href="#__codelineno-9-122"></a><span class="c1">//</span>
<a id="__codelineno-9-123" name="__codelineno-9-123" href="#__codelineno-9-123"></a><span class="c1">// Additionally, you can manually define your own color palettes, or you can write</span>
<a id="__codelineno-9-124" name="__codelineno-9-124" href="#__codelineno-9-124"></a><span class="c1">// code that creates color palettes on the fly.  All are shown here.</span>
<a id="__codelineno-9-125" name="__codelineno-9-125" href="#__codelineno-9-125"></a>
<a id="__codelineno-9-126" name="__codelineno-9-126" href="#__codelineno-9-126"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ChangePalettePeriodically</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-127" name="__codelineno-9-127" href="#__codelineno-9-127"></a><span class="w">  </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">secondHand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">millis</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span>
<a id="__codelineno-9-128" name="__codelineno-9-128" href="#__codelineno-9-128"></a><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">lastSecond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">99</span><span class="p">;</span>
<a id="__codelineno-9-129" name="__codelineno-9-129" href="#__codelineno-9-129"></a>
<a id="__codelineno-9-130" name="__codelineno-9-130" href="#__codelineno-9-130"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">lastSecond</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">secondHand</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-131" name="__codelineno-9-131" href="#__codelineno-9-131"></a><span class="w">    </span><span class="n">lastSecond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">secondHand</span><span class="p">;</span>
<a id="__codelineno-9-132" name="__codelineno-9-132" href="#__codelineno-9-132"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-133" name="__codelineno-9-133" href="#__codelineno-9-133"></a><span class="w">      </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RainbowColors_p</span><span class="p">;</span>
<a id="__codelineno-9-134" name="__codelineno-9-134" href="#__codelineno-9-134"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-135" name="__codelineno-9-135" href="#__codelineno-9-135"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-136" name="__codelineno-9-136" href="#__codelineno-9-136"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-137" name="__codelineno-9-137" href="#__codelineno-9-137"></a><span class="w">      </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RainbowStripeColors_p</span><span class="p">;</span>
<a id="__codelineno-9-138" name="__codelineno-9-138" href="#__codelineno-9-138"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NOBLEND</span><span class="p">;</span>
<a id="__codelineno-9-139" name="__codelineno-9-139" href="#__codelineno-9-139"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-140" name="__codelineno-9-140" href="#__codelineno-9-140"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-141" name="__codelineno-9-141" href="#__codelineno-9-141"></a><span class="w">      </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RainbowStripeColors_p</span><span class="p">;</span>
<a id="__codelineno-9-142" name="__codelineno-9-142" href="#__codelineno-9-142"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-143" name="__codelineno-9-143" href="#__codelineno-9-143"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-144" name="__codelineno-9-144" href="#__codelineno-9-144"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-145" name="__codelineno-9-145" href="#__codelineno-9-145"></a><span class="w">      </span><span class="n">SetupPurpleAndGreenPalette</span><span class="p">();</span>
<a id="__codelineno-9-146" name="__codelineno-9-146" href="#__codelineno-9-146"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-147" name="__codelineno-9-147" href="#__codelineno-9-147"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-148" name="__codelineno-9-148" href="#__codelineno-9-148"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-149" name="__codelineno-9-149" href="#__codelineno-9-149"></a><span class="w">      </span><span class="n">SetupTotallyRandomPalette</span><span class="p">();</span>
<a id="__codelineno-9-150" name="__codelineno-9-150" href="#__codelineno-9-150"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-151" name="__codelineno-9-151" href="#__codelineno-9-151"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-152" name="__codelineno-9-152" href="#__codelineno-9-152"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-153" name="__codelineno-9-153" href="#__codelineno-9-153"></a><span class="w">      </span><span class="n">SetupBlackAndWhiteStripedPalette</span><span class="p">();</span>
<a id="__codelineno-9-154" name="__codelineno-9-154" href="#__codelineno-9-154"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NOBLEND</span><span class="p">;</span>
<a id="__codelineno-9-155" name="__codelineno-9-155" href="#__codelineno-9-155"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-156" name="__codelineno-9-156" href="#__codelineno-9-156"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">35</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-157" name="__codelineno-9-157" href="#__codelineno-9-157"></a><span class="w">      </span><span class="n">SetupBlackAndWhiteStripedPalette</span><span class="p">();</span>
<a id="__codelineno-9-158" name="__codelineno-9-158" href="#__codelineno-9-158"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-159" name="__codelineno-9-159" href="#__codelineno-9-159"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-160" name="__codelineno-9-160" href="#__codelineno-9-160"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-161" name="__codelineno-9-161" href="#__codelineno-9-161"></a><span class="w">      </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CloudColors_p</span><span class="p">;</span>
<a id="__codelineno-9-162" name="__codelineno-9-162" href="#__codelineno-9-162"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-163" name="__codelineno-9-163" href="#__codelineno-9-163"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-164" name="__codelineno-9-164" href="#__codelineno-9-164"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-165" name="__codelineno-9-165" href="#__codelineno-9-165"></a><span class="w">      </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PartyColors_p</span><span class="p">;</span>
<a id="__codelineno-9-166" name="__codelineno-9-166" href="#__codelineno-9-166"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-167" name="__codelineno-9-167" href="#__codelineno-9-167"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-168" name="__codelineno-9-168" href="#__codelineno-9-168"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-169" name="__codelineno-9-169" href="#__codelineno-9-169"></a><span class="w">      </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myRedWhiteBluePalette_p</span><span class="p">;</span>
<a id="__codelineno-9-170" name="__codelineno-9-170" href="#__codelineno-9-170"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NOBLEND</span><span class="p">;</span>
<a id="__codelineno-9-171" name="__codelineno-9-171" href="#__codelineno-9-171"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-172" name="__codelineno-9-172" href="#__codelineno-9-172"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">secondHand</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">55</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-173" name="__codelineno-9-173" href="#__codelineno-9-173"></a><span class="w">      </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myRedWhiteBluePalette_p</span><span class="p">;</span>
<a id="__codelineno-9-174" name="__codelineno-9-174" href="#__codelineno-9-174"></a><span class="w">      </span><span class="n">currentBlending</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LINEARBLEND</span><span class="p">;</span>
<a id="__codelineno-9-175" name="__codelineno-9-175" href="#__codelineno-9-175"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-176" name="__codelineno-9-176" href="#__codelineno-9-176"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-177" name="__codelineno-9-177" href="#__codelineno-9-177"></a><span class="p">}</span>
<a id="__codelineno-9-178" name="__codelineno-9-178" href="#__codelineno-9-178"></a>
<a id="__codelineno-9-179" name="__codelineno-9-179" href="#__codelineno-9-179"></a><span class="c1">// This function fills the palette with totally random colors.</span>
<a id="__codelineno-9-180" name="__codelineno-9-180" href="#__codelineno-9-180"></a><span class="kt">void</span><span class="w"> </span><span class="nf">SetupTotallyRandomPalette</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-181" name="__codelineno-9-181" href="#__codelineno-9-181"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-182" name="__codelineno-9-182" href="#__codelineno-9-182"></a><span class="w">    </span><span class="n">currentPalette</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CHSV</span><span class="p">(</span><span class="n">random8</span><span class="p">(),</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="n">random8</span><span class="p">());</span>
<a id="__codelineno-9-183" name="__codelineno-9-183" href="#__codelineno-9-183"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-184" name="__codelineno-9-184" href="#__codelineno-9-184"></a><span class="p">}</span>
<a id="__codelineno-9-185" name="__codelineno-9-185" href="#__codelineno-9-185"></a>
<a id="__codelineno-9-186" name="__codelineno-9-186" href="#__codelineno-9-186"></a><span class="c1">// This function sets up a palette of black and white stripes,</span>
<a id="__codelineno-9-187" name="__codelineno-9-187" href="#__codelineno-9-187"></a><span class="c1">// using code.  Since the palette is effectively an array of</span>
<a id="__codelineno-9-188" name="__codelineno-9-188" href="#__codelineno-9-188"></a><span class="c1">// sixteen CRGB colors, the various fill_* functions can be used</span>
<a id="__codelineno-9-189" name="__codelineno-9-189" href="#__codelineno-9-189"></a><span class="c1">// to set them up.</span>
<a id="__codelineno-9-190" name="__codelineno-9-190" href="#__codelineno-9-190"></a><span class="kt">void</span><span class="w"> </span><span class="nf">SetupBlackAndWhiteStripedPalette</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-191" name="__codelineno-9-191" href="#__codelineno-9-191"></a><span class="w">  </span><span class="c1">// &#39;black out&#39; all 16 palette entries...</span>
<a id="__codelineno-9-192" name="__codelineno-9-192" href="#__codelineno-9-192"></a><span class="w">  </span><span class="n">fill_solid</span><span class="p">(</span><span class="n">currentPalette</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">);</span>
<a id="__codelineno-9-193" name="__codelineno-9-193" href="#__codelineno-9-193"></a><span class="w">  </span><span class="c1">// and set every fourth one to white.</span>
<a id="__codelineno-9-194" name="__codelineno-9-194" href="#__codelineno-9-194"></a><span class="w">  </span><span class="n">currentPalette</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-9-195" name="__codelineno-9-195" href="#__codelineno-9-195"></a><span class="w">  </span><span class="n">currentPalette</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-9-196" name="__codelineno-9-196" href="#__codelineno-9-196"></a><span class="w">  </span><span class="n">currentPalette</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-9-197" name="__codelineno-9-197" href="#__codelineno-9-197"></a><span class="w">  </span><span class="n">currentPalette</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-9-198" name="__codelineno-9-198" href="#__codelineno-9-198"></a><span class="p">}</span>
<a id="__codelineno-9-199" name="__codelineno-9-199" href="#__codelineno-9-199"></a>
<a id="__codelineno-9-200" name="__codelineno-9-200" href="#__codelineno-9-200"></a><span class="c1">// This function sets up a palette of purple and green stripes.</span>
<a id="__codelineno-9-201" name="__codelineno-9-201" href="#__codelineno-9-201"></a><span class="kt">void</span><span class="w"> </span><span class="nf">SetupPurpleAndGreenPalette</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-202" name="__codelineno-9-202" href="#__codelineno-9-202"></a><span class="w">  </span><span class="n">CRGB</span><span class="w"> </span><span class="n">purple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CHSV</span><span class="p">(</span><span class="n">HUE_PURPLE</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span>
<a id="__codelineno-9-203" name="__codelineno-9-203" href="#__codelineno-9-203"></a><span class="w">  </span><span class="n">CRGB</span><span class="w"> </span><span class="n">green</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CHSV</span><span class="p">(</span><span class="n">HUE_GREEN</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span>
<a id="__codelineno-9-204" name="__codelineno-9-204" href="#__codelineno-9-204"></a><span class="w">  </span><span class="n">CRGB</span><span class="w"> </span><span class="n">black</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">;</span>
<a id="__codelineno-9-205" name="__codelineno-9-205" href="#__codelineno-9-205"></a>
<a id="__codelineno-9-206" name="__codelineno-9-206" href="#__codelineno-9-206"></a><span class="w">  </span><span class="n">currentPalette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRGBPalette16</span><span class="p">(</span>
<a id="__codelineno-9-207" name="__codelineno-9-207" href="#__codelineno-9-207"></a><span class="w">    </span><span class="n">green</span><span class="p">,</span><span class="w"> </span><span class="n">green</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span>
<a id="__codelineno-9-208" name="__codelineno-9-208" href="#__codelineno-9-208"></a><span class="w">    </span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span>
<a id="__codelineno-9-209" name="__codelineno-9-209" href="#__codelineno-9-209"></a><span class="w">    </span><span class="n">green</span><span class="p">,</span><span class="w"> </span><span class="n">green</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span>
<a id="__codelineno-9-210" name="__codelineno-9-210" href="#__codelineno-9-210"></a><span class="w">    </span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">);</span>
<a id="__codelineno-9-211" name="__codelineno-9-211" href="#__codelineno-9-211"></a><span class="p">}</span>
<a id="__codelineno-9-212" name="__codelineno-9-212" href="#__codelineno-9-212"></a>
<a id="__codelineno-9-213" name="__codelineno-9-213" href="#__codelineno-9-213"></a>
<a id="__codelineno-9-214" name="__codelineno-9-214" href="#__codelineno-9-214"></a><span class="c1">// This example shows how to set up a static color palette</span>
<a id="__codelineno-9-215" name="__codelineno-9-215" href="#__codelineno-9-215"></a><span class="c1">// which is stored in PROGMEM (flash), which is almost always more</span>
<a id="__codelineno-9-216" name="__codelineno-9-216" href="#__codelineno-9-216"></a><span class="c1">// plentiful than RAM.  A static PROGMEM palette like this</span>
<a id="__codelineno-9-217" name="__codelineno-9-217" href="#__codelineno-9-217"></a><span class="c1">// takes up 64 bytes of flash.</span>
<a id="__codelineno-9-218" name="__codelineno-9-218" href="#__codelineno-9-218"></a><span class="k">const</span><span class="w"> </span><span class="n">TProgmemPalette16</span><span class="w"> </span><span class="n">myRedWhiteBluePalette_p</span><span class="w"> </span><span class="n">PROGMEM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-219" name="__codelineno-9-219" href="#__codelineno-9-219"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">,</span>
<a id="__codelineno-9-220" name="__codelineno-9-220" href="#__codelineno-9-220"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Gray</span><span class="p">,</span><span class="w">  </span><span class="c1">// &#39;white&#39; is too bright compared to red and blue</span>
<a id="__codelineno-9-221" name="__codelineno-9-221" href="#__codelineno-9-221"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span>
<a id="__codelineno-9-222" name="__codelineno-9-222" href="#__codelineno-9-222"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">,</span>
<a id="__codelineno-9-223" name="__codelineno-9-223" href="#__codelineno-9-223"></a>
<a id="__codelineno-9-224" name="__codelineno-9-224" href="#__codelineno-9-224"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">,</span>
<a id="__codelineno-9-225" name="__codelineno-9-225" href="#__codelineno-9-225"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Gray</span><span class="p">,</span>
<a id="__codelineno-9-226" name="__codelineno-9-226" href="#__codelineno-9-226"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span>
<a id="__codelineno-9-227" name="__codelineno-9-227" href="#__codelineno-9-227"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">,</span>
<a id="__codelineno-9-228" name="__codelineno-9-228" href="#__codelineno-9-228"></a>
<a id="__codelineno-9-229" name="__codelineno-9-229" href="#__codelineno-9-229"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">,</span>
<a id="__codelineno-9-230" name="__codelineno-9-230" href="#__codelineno-9-230"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">,</span>
<a id="__codelineno-9-231" name="__codelineno-9-231" href="#__codelineno-9-231"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Gray</span><span class="p">,</span>
<a id="__codelineno-9-232" name="__codelineno-9-232" href="#__codelineno-9-232"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Gray</span><span class="p">,</span>
<a id="__codelineno-9-233" name="__codelineno-9-233" href="#__codelineno-9-233"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span>
<a id="__codelineno-9-234" name="__codelineno-9-234" href="#__codelineno-9-234"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Blue</span><span class="p">,</span>
<a id="__codelineno-9-235" name="__codelineno-9-235" href="#__codelineno-9-235"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span><span class="p">,</span>
<a id="__codelineno-9-236" name="__codelineno-9-236" href="#__codelineno-9-236"></a><span class="w">  </span><span class="n">CRGB</span><span class="o">::</span><span class="n">Black</span>
<a id="__codelineno-9-237" name="__codelineno-9-237" href="#__codelineno-9-237"></a><span class="p">};</span>
<a id="__codelineno-9-238" name="__codelineno-9-238" href="#__codelineno-9-238"></a>
<a id="__codelineno-9-239" name="__codelineno-9-239" href="#__codelineno-9-239"></a>
<a id="__codelineno-9-240" name="__codelineno-9-240" href="#__codelineno-9-240"></a>
<a id="__codelineno-9-241" name="__codelineno-9-241" href="#__codelineno-9-241"></a><span class="c1">// Additional notes on FastLED compact palettes:</span>
<a id="__codelineno-9-242" name="__codelineno-9-242" href="#__codelineno-9-242"></a><span class="c1">//</span>
<a id="__codelineno-9-243" name="__codelineno-9-243" href="#__codelineno-9-243"></a><span class="c1">// Normally, in computer graphics, the palette (or &quot;color lookup table&quot;)</span>
<a id="__codelineno-9-244" name="__codelineno-9-244" href="#__codelineno-9-244"></a><span class="c1">// has 256 entries, each containing a specific 24-bit RGB color.  You can then</span>
<a id="__codelineno-9-245" name="__codelineno-9-245" href="#__codelineno-9-245"></a><span class="c1">// index into the color palette using a simple 8-bit (one byte) value.</span>
<a id="__codelineno-9-246" name="__codelineno-9-246" href="#__codelineno-9-246"></a><span class="c1">// A 256-entry color palette takes up 768 bytes of RAM, which on Arduino</span>
<a id="__codelineno-9-247" name="__codelineno-9-247" href="#__codelineno-9-247"></a><span class="c1">// is quite possibly &quot;too many&quot; bytes.</span>
<a id="__codelineno-9-248" name="__codelineno-9-248" href="#__codelineno-9-248"></a><span class="c1">//</span>
<a id="__codelineno-9-249" name="__codelineno-9-249" href="#__codelineno-9-249"></a><span class="c1">// FastLED does offer traditional 256-element palettes, for setups that</span>
<a id="__codelineno-9-250" name="__codelineno-9-250" href="#__codelineno-9-250"></a><span class="c1">// can afford the 768-byte cost in RAM.</span>
<a id="__codelineno-9-251" name="__codelineno-9-251" href="#__codelineno-9-251"></a><span class="c1">//</span>
<a id="__codelineno-9-252" name="__codelineno-9-252" href="#__codelineno-9-252"></a><span class="c1">// However, FastLED also offers a compact alternative.  FastLED offers</span>
<a id="__codelineno-9-253" name="__codelineno-9-253" href="#__codelineno-9-253"></a><span class="c1">// palettes that store 16 distinct entries, but can be accessed AS IF</span>
<a id="__codelineno-9-254" name="__codelineno-9-254" href="#__codelineno-9-254"></a><span class="c1">// they actually have 256 entries; this is accomplished by interpolating</span>
<a id="__codelineno-9-255" name="__codelineno-9-255" href="#__codelineno-9-255"></a><span class="c1">// between the 16 explicit entries to create fifteen intermediate palette</span>
<a id="__codelineno-9-256" name="__codelineno-9-256" href="#__codelineno-9-256"></a><span class="c1">// entries between each pair.</span>
<a id="__codelineno-9-257" name="__codelineno-9-257" href="#__codelineno-9-257"></a><span class="c1">//</span>
<a id="__codelineno-9-258" name="__codelineno-9-258" href="#__codelineno-9-258"></a><span class="c1">// So for example, if you set the first two explicit entries of a compact</span>
<a id="__codelineno-9-259" name="__codelineno-9-259" href="#__codelineno-9-259"></a><span class="c1">// palette to Green (0,255,0) and Blue (0,0,255), and then retrieved</span>
<a id="__codelineno-9-260" name="__codelineno-9-260" href="#__codelineno-9-260"></a><span class="c1">// the first sixteen entries from the virtual palette (of 256), you&#39;d get</span>
<a id="__codelineno-9-261" name="__codelineno-9-261" href="#__codelineno-9-261"></a><span class="c1">// Green, followed by a smooth gradient from green-to-blue, and then Blue.</span>
</code></pre></div>
</details>
<p><center>
<a class="md-button md-button--primary" href="../assets/arduino_examples/RGB_sunlight/RGB_sunlight.ino"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"/></svg></span> Download the Example Sketch</a>
</center></p>
</div>
</div>
</div>
<p><em>For more information, please refer to the <a href="../assets/component_documentation/WS2812C-2020.pdf">WS2812 datasheet</a> and <a href="https://github.com/FastLED/FastLED/" target="_blank" rel="noopener">FastLED Arduino library</a>.</em></p>
<h2 id="digital-input">Digital Input<a class="headerlink" href="#digital-input" title="Permanent link"></a></h2>
<p>Buttons are great for learning about digital inputs; and are often paired with LEDs, as a visual indicator for their operation.</p>
<h3 id="button-usrbtn">Button - <span class="keys"><kbd>USRBTN</kbd></span><a class="headerlink" href="#button-usrbtn" title="Permanent link"></a></h3>
<p>On the RA6M5 Thing Plus, the <span class="keys"><kbd>USRBTN</kbd></span> button is the perfect component for operating a digital input. There are several built-in examples in the Arduino IDE for the basic use of a button as an input device. These examples utilize a digital intput to toggle an <abbr title="Light Emitting Diode">LED</abbr> and/or generate an output text on the <abbr title="Universal Serial Bus">USB</abbr> serial port. Users can find these sketches in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>01.Basics</strong> &gt; <strong>DigitalReadSerial</strong>  and <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>02.Digital</strong> drop-down menus.</p>
<ul>
<li><code>DigitalReadSerial.ino</code></li>
<li><code>Button.ino</code></li>
<li><code>Debounce.ino</code></li>
<li><code>InputPullupSerial.ino</code></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Users will need to modify the sketches below, for the <abbr title="General Purpose Input and Output">GPIO</abbr> pin that is connected to the <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr> and <span class="keys"><kbd>USRBTN</kbd></span>. As previously, they can use the predefined <code>LED_BUILTIN</code> variable for the <abbr title="General Purpose Input and Output">GPIO</abbr> pin that is connected to the <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr>. For the <abbr title="General Purpose Input and Output">GPIO</abbr> pin that is connected to the <span class="keys"><kbd>USRBTN</kbd></span>, users till need to modify the pin to <code>D31</code>.</p>
<p>For more details, expand the boxes below to see the <ins class="critic">modifications</ins> that required to <del class="critic">replace the highlighted values</del>, in order to define the <abbr title="General Purpose Input and Output">GPIO</abbr> pins connected to the <code>STAT</code> LEDand <span class="keys"><kbd>USRBTN</kbd></span></p>
<div class="grid" markdown>
<div markdown>
<details class="code">
<summary><span class="keys"><kbd>USRBTN</kbd></span></summary>
<p><code>DigitalReadSerial.ino</code></p>
<hr />
<div class="highlight"><pre><span></span><code>int pushButton = <del class="critic">2</del>;
int pushButton = <ins class="critic">31</ins>;
</code></pre></div>
<p><code>Button.ino</code> and <code>Debounce.ino</code></p>
<hr />
<div class="highlight"><pre><span></span><code>const int buttonPin = <del class="critic">2</del>;  // the number of the pushbutton pin
const int buttonPin = <ins class="critic">31</ins>;  // the number of the pushbutton pin
</code></pre></div>
<p><code>InputPullupSerial.ino</code></p>
<hr />
<div class="highlight"><pre><span></span><code>pinMode(<del class="critic">2</del>, INPUT_PULLUP);
pinMode(<ins class="critic">31</ins>, INPUT_PULLUP);

int sensorVal = digitalRead(<del class="critic">2</del>);
int sensorVal = digitalRead(<ins class="critic">31</ins>);
</code></pre></div>
</details>
</div>
<div markdown>
<details class="code">
<summary><code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr></summary>
<p><code>Button.ino</code> and <code>Debounce.ino</code></p>
<hr />
<div class="highlight"><pre><span></span><code>const int ledPin = <del class="critic">13</del>;    // the number of the LED pin
const int ledPin = <ins class="critic">LED_BUILTIN</ins>;    // the number of the LED pin
</code></pre></div>
<p><code>InputPullupSerial.ino</code></p>
<hr />
<div class="highlight"><pre><span></span><code>pinMode(<del class="critic">13</del>, OUTPUT);
digitalWrite(<del class="critic">13</del>, value);

pinMode(<ins class="critic">LED_BUILTIN</ins>, OUTPUT);
digitalWrite(<ins class="critic">LED_BUILTIN</ins>, value);
</code></pre></div>
</details>
</div>
</div>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="10:4"><input checked="checked" id="digitalreadserialino" name="__tabbed_10" type="radio" /><input id="buttonino" name="__tabbed_10" type="radio" /><input id="debounceino" name="__tabbed_10" type="radio" /><input id="inputpullupserialino" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="digitalreadserialino"><code>DigitalReadSerial.ino</code></label><label for="buttonino"><code>Button.ino</code></label><label for="debounceino"><code>Debounce.ino</code></label><label for="inputpullupserialino"><code>InputPullupSerial.ino</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>01.Basics</strong> &gt; <strong>DigitalReadSerial</strong> drop-down menu.</p>
<details class="code">
<summary><code>DigitalReadSerial.ino</code></summary>
<p><iframe src='https://create.arduino.cc/example/builtin/01.Basics%5CDigitalReadSerial/DigitalReadSerial/preview?embed&snippet' style='height:510px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>02.Digital</strong> &gt; <strong>Button</strong> drop-down menu.</p>
<details class="code">
<summary><code>Button.ino</code></summary>
<p><iframe src='https://create.arduino.cc/example/builtin/02.Digital%5CButton/Button/preview?embed&snippet' style='height:510px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>02.Digital</strong> &gt; <strong>Debounce</strong> drop-down menu.</p>
<details class="code">
<summary><code>Debounce.ino</code></summary>
<p><iframe src='https://create.arduino.cc/example/builtin/02.Digital%5CDebounce/Debounce/preview?embed&snippet' style='height:510px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>02.Digital</strong> &gt; <strong>InputPullupSerial</strong> drop-down menu.</p>
<details class="code">
<summary><code>InputPullupSerial.ino</code></summary>
<p><iframe src='https://create.arduino.cc/example/builtin/02.Digital%5CDigitalInputPullup/DigitalInputPullup/preview?embed&snippet' style='height:510px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
</div>
</div>
<h3 id="interrupts">Interrupts<a class="headerlink" href="#interrupts" title="Permanent link"></a></h3>
<p>The RA6M5 provides IRQ support on several of its digital input pins. This feature is great for creating an instantaneous response to a digital input, without having to wait for the <abbr title="Microcontroller Unit">MCU</abbr> to complete its current task.</p>
<div class="grid">
<div>
<div class="admonition code">
<p class="admonition-title">Code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">const</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="n">ledPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LED_BUILTIN</span><span class="p">;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">const</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="n">interruptPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="k">volatile</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LOW</span><span class="p">;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">interruptPin</span><span class="p">,</span><span class="w"> </span><span class="n">INPUT_PULLUP</span><span class="p">);</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">  </span><span class="n">attachInterrupt</span><span class="p">(</span><span class="n">digitalPinToInterrupt</span><span class="p">(</span><span class="n">interruptPin</span><span class="p">),</span><span class="w"> </span><span class="n">blink</span><span class="p">,</span><span class="w"> </span><span class="n">CHANGE</span><span class="p">);</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="p">}</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="p">);</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="p">}</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="kt">void</span><span class="w"> </span><span class="nf">blink</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">  </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">state</span><span class="p">;</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="p">}</span>
</code></pre></div>
</div>
</div>
<div>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>In the Arduino IDE, interrupt requests are configured using the <a href="https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/" target="_blank" rel="noopener"><code class="highlight"><span class="n">attachInterrupt</span><span class="p">(</span><span class="n">digitalPinToInterrupt</span><span class="p">(</span><span class="n">pin</span><span class="p">),</span><span class="w"> </span><span class="n">ISR</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span></code> function</a>, where:</p>
<ul>
<li><code>pin</code> - The <abbr title="General Purpose Input and Output">GPIO</abbr> pin</li>
<li><code>ISR</code> -   The interrupt service routine to call/execute when the interrupt occurs</li>
<li><code>mode</code> - Defines how the interrupt should be triggered:<ul>
<li><code>LOW</code> - When the pin is <strong>LOW</strong></li>
<li><code>CHANGE</code> - Whenever the pin changes value</li>
<li><code>RISING</code> - When the pin changes from <strong>LOW</strong> to <strong>HIGH</strong></li>
<li><code>FALLING</code>- When the pin changes from <strong>HIGH</strong> to <strong>LOW</strong></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When utilizing an interrupt on a digital <abbr title="General Purpose Input and Output">GPIO</abbr>, the attached interrupt service routine should be able to execute within the shortest, possible time frame. Otherwise, the suspended task could trigger various faults or errors.</p>
</div>
<h1 id="examples-analog-io">Examples - Analog I/O<a class="headerlink" href="#examples-analog-io" title="Permanent link"></a></h1>
<h2 id="analog-input">Analog Input<a class="headerlink" href="#analog-input" title="Permanent link"></a></h2>
<p>The RA6M5 Thing Plus includes several breakout pins with access to the 12-bit <abbr title="Analog-to-Digital Converter">ADC</abbr> channels of the RA6M5. These feature is primarily used to record analog data from potentiometers and various sensors. For this example, users are free to utilize any hardware they have to connect the <abbr title="Analog-to-Digital Converter">ADC</abbr> from the <code>A0</code> <abbr title="General Purpose Input and Output">GPIO</abbr> pins to an analog signal. We recommend selecting a device with a product manual that provides electrical diagrams and example code; below, are a few examples:</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/12758" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/9/5/2/0/12758-02.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Electret Microphone Breakout</strong><br>
BOB-12758</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9088" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/6/2/09088-02-L.jpg">
    </figure></p>
<hr />
<p><strong>Mini Photocell</strong><br>
SEN-09088</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9806" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/8/2/3/09806-01.jpg">
    </figure></p>
<hr />
<p><strong>Trimpot 10K Ohm with Knob</strong><br>
COM-09806</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9194" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/6/3/4/JumperWire-Female-01-L.jpg">
    </figure></p>
<hr />
<p><strong>Jumper Wires Premium 6" Mixed Pack of 100</strong><br>
PRT-09194</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/501" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/4/1/00501-1.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook Test Leads</strong><br>
CAB-00501</a></p>
</li>
</ul>
</div>
</details>
<p>Below, are some basic example sketches for capturing analog data from generic devices such as a potentiometer or photocell.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="analogreadserialino" name="__tabbed_11" type="radio" /><input id="readanalogvoltageino" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="analogreadserialino"><code>AnalogReadSerial.ino</code></label><label for="readanalogvoltageino"><code>ReadAnalogVoltage.ino</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>01.basics</strong> &gt; <strong>AnalogReadSerial</strong> drop-down menu.</p>
<details class="code">
<summary><code>AnalogReadSerial.ino</code></summary>
<p><iframe src='https://create.arduino.cc/example/builtin/01.Basics%5CAnalogReadSerial/AnalogReadSerial/preview?embed&snippet' style='height:510px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>01.basics</strong> &gt; <strong>ReadAnalogVoltage</strong> drop-down menu.</p>
<details class="code">
<summary><code>ReadAnalogVoltage.ino</code></summary>
<p><iframe src='https://create.arduino.cc/example/builtin/01.Basics%5CReadAnalogVoltage/ReadAnalogVoltage/preview?embed&snippet' style='height:510px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
</div>
</div>
<h2 id="analog-output">Analog Output<a class="headerlink" href="#analog-output" title="Permanent link"></a></h2>
<h3 id="analogwave-library">AnalogWave Library<a class="headerlink" href="#analogwave-library" title="Permanent link"></a></h3>
<p>To implement the <a href="https://github.com/arduino/ArduinoCore-renesas/tree/main/libraries/AnalogWave" target="_blank" rel="noopener"><code class="highlight"><span class="n">AnalogWave</span></code> library from the Renesas Arduino core</a>, users will need to link the library at the beginning of their sketch.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;analogWave.h&quot;</span><span class="c1"> // Include the library for analog waveform generation</span>
</code></pre></div>
<p>Once linked, users will need to create an instance of the <code class="highlight"><span class="n">analogWave</span></code> class and declare a <abbr title="Digital-to-Analog Converter">DAC</abbr> <code>pin</code> for the output.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">analogWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="n">pin</span><span class="p">);</span><span class="w">   </span><span class="c1">// Create an instance of the analogWave class, using a DAC pin</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In the Renesas-Arduino core, <code>DAC</code> and <code>DAC1</code> are predefined variables for their corresponding <abbr title="General Purpose Input and Output">GPIO</abbr> pins on the RA6M5 Thing Plus.</p>
<div class="admonition code">
<p class="admonition-title">Code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">analogWave</span><span class="w"> </span><span class="nf">waveA0</span><span class="p">(</span><span class="n">DAC</span><span class="p">);</span><span class="w">    </span><span class="c1">// Create an instance of the analogWave class, using the DAC pin (A0)</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">analogWave</span><span class="w"> </span><span class="nf">waveA1</span><span class="p">(</span><span class="n">DAC1</span><span class="p">);</span><span class="w">   </span><span class="c1">// Create an instance of the analogWave class, using the DAC1 pin (A1)</span>
</code></pre></div>
</div>
</div>
<p>Below, are a few of the key methods available for the <code>analogWave</code> class:</p>
<details class="code">
<summary>Methods in <code>analogWave.h</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="cm">/* begin the output of the waweform the frequency is the one the complete</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="cm">   set on sample are output (all samples will be output in 1 period */</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">begin</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">freq_hz</span><span class="p">);</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="cm">/* updated the frequency used */</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">freq</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">freq_hz</span><span class="p">);</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="cm">/* make the current index in the buffer to &quot;jump&quot; of the specified quantity */</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="kt">void</span><span class="w"> </span><span class="nf">offset</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">o</span><span class="p">);</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="cm">/* start the generation of sample */</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">();</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="cm">/* stop the genration of sample */</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="kt">void</span><span class="w"> </span><span class="nf">stop</span><span class="p">();</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="cm">/* every sample is multiplied for this factor must be a value between 0 and 1 */</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="kt">void</span><span class="w"> </span><span class="nf">amplitude</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">amplitude</span><span class="p">);</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="kt">void</span><span class="w"> </span><span class="nf">sine</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">freq_hz</span><span class="p">);</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="kt">void</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">freq_hz</span><span class="p">);</span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="kt">void</span><span class="w"> </span><span class="nf">saw</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">freq_hz</span><span class="p">);</span>
</code></pre></div>
<p><em>For more information, please refer to the <a href="https://github.com/arduino/ArduinoCore-renesas/blob/main/libraries/AnalogWave/analogWave.cpp" target="_blank" rel="noopener"><code>analogWave.cpp</code></a> file in the <code>AnalogWave</code> library.</em></p>
</details>
<p>When generating an output signal from the <abbr title="Digital-to-Analog Converter">DAC</abbr> of the RA6M5 Thing Plus, users will need to define the waveform's type and frequency:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">freq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">       </span><span class="c1">// waveform frequency in Hz</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">wave</span><span class="p">.</span><span class="n">sine</span><span class="p">(</span><span class="n">freq</span><span class="p">);</span><span class="w">      </span><span class="c1">// Generates a sine wave with a 20Hz frequency</span>
</code></pre></div>
<h3 id="oscilloscope">Oscilloscope<a class="headerlink" href="#oscilloscope" title="Permanent link"></a></h3>
<p>Oscilloscopes are the perfect tool to capture the waveform of a signal output. While useful, not all users will have access to this type of test equipment. For this example, user will need connect the probe from an oscilloscope to the <code>DAC</code> (<code>A0</code>) and <code>GND</code> <abbr title="General Purpose Input and Output">GPIO</abbr> pins.</p>
<div class="grid">
<div>
<div class="admonition code">
<p class="admonition-title">Sine Wave</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;analogWave.h&quot;</span><span class="c1"> // Include the library for analog waveform generation</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="n">analogWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="n">DAC</span><span class="p">);</span><span class="w">   </span><span class="c1">// Create an instance of the analogWave class, using the DAC pin</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="kt">int</span><span class="w"> </span><span class="n">freq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w">  </span><span class="c1">// in hertz, change accordingly</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">  </span><span class="n">wave</span><span class="p">.</span><span class="n">sine</span><span class="p">(</span><span class="n">freq</span><span class="p">);</span><span class="w">       </span><span class="c1">// Generate a sine wave with the initial frequency</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="p">}</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
</div>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/example-DAC_oscilloscope.png" title="Click to enlarge"><img alt="Oscilloscope Recording" src="../assets/img/hookup_guide/example-DAC_oscilloscope.png" width="400" /></a></p>
<figcaption>
<p>A screen capture of a sine wave output from the <code>DAC</code> <abbr title="General Purpose Input and Output">GPIO</abbr>, which recorded on an oscilloscope.</p>
</figcaption>
</figure>
</div>
</div>
<details class="tip">
<summary>Oscilloscope Adjustments</summary>
<p>The <abbr title="Digital-to-Analog Converter">DAC</abbr> of the RA6M5, generates a waveform with a positive voltage. Therefore, user may need to adjust the vertical position of the probe's input channel.</p>
<p>Users may also find it helpful, to set the trigger on a discretized voltage step.</p>
</details>
<h3 id="feedback-loop">Feedback Loop<a class="headerlink" href="#feedback-loop" title="Permanent link"></a></h3>
<p>Another method to record the signal generated by the <abbr title="Digital-to-Analog Converter">DAC</abbr>, is with a jumper <em>(wire)</em> and looping a output signal from the <code>DAC1</code> <abbr title="General Purpose Input and Output">GPIO</abbr> pin back into the <code>A2</code> <abbr title="General Purpose Input and Output">GPIO</abbr> pin. While an oscilloscope is very useful, this is a more practical and cost-effective alternative for users. With this example, users are free to utilize any method or hardware they have to connect the <code>DAC1</code> and <code>A2</code> <abbr title="General Purpose Input and Output">GPIO</abbr> pins together. However, we recommend some IC hooks for a temporary connection.</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/501" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/4/1/00501-1.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook Test Leads</strong><br>
CAB-00501</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9741" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/6/9/6/09741-01.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook with Pigtail</strong><br>
CAB-09741</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9194" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/6/3/4/JumperWire-Female-01-L.jpg">
    </figure></p>
<hr />
<p><strong>Jumper Wires Premium 6" Mixed Pack of 100</strong><br>
PRT-09194</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/116" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/0/6/00116-02-L.jpg">
    </figure></p>
<hr />
<p><strong>Break Away Headers - Straight</strong><br>
PRT-00116</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9044" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/0/7/09044-02-L.jpg">
    </figure></p>
<hr />
<p><strong>Jumper - 2 Pin</strong><br>
PRT-09044</a></p>
</li>
</ul>
</div>
</details>
<p>After users have jumpered the <abbr title="General Purpose Input and Output">GPIO</abbr> pins and uploaded the example code, they will need to open the <a href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-serial-plotter/" target="_blank" rel="noopener"><strong>Serial Plotter</strong></a> in the Arduino IDE. Once opened, the tool will begin to plot the values that are received from the serial port. It should be noted that the <strong>Serial Plotter</strong> tool is unavailable in the <em>legacy</em> Arduino IDE v1.<code>x</code>.<code>x</code>; and some users may need to upgrade to the new <a href="https://docs.arduino.cc/software/ide-v2/tutorials/getting-started-ide-v2/" target="_blank" rel="noopener">Arduino IDE v2.<code>x</code>.<code>x</code></a> to access this tool. Additionally, the speed and buffer of the <strong>Serial Plotter</strong> tool are limiting factors in its performance. Therefore, careful consideration should be made when adjusting the waveform frequency and the delay intervals between readings.</p>
<div class="grid">
<div>
<div class="admonition code">
<p class="admonition-title">Sine Wave</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;analogWave.h&quot;</span><span class="c1"> // Include the library for analog waveform generation</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="n">analogWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="n">DAC1</span><span class="p">);</span><span class="w">   </span><span class="c1">// Create an instance of the analogWave class, using the DAC pin</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="kt">int</span><span class="w"> </span><span class="n">freq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// in hertz, change accordingly</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span><span class="w">  </span><span class="c1">// Initialize serial communication at a baud rate of 115200</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">  </span><span class="n">wave</span><span class="p">.</span><span class="n">sine</span><span class="p">(</span><span class="n">freq</span><span class="p">);</span><span class="w">       </span><span class="c1">// Generate a sine wave with the initial frequency</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="p">}</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="w">  </span><span class="c1">// Print the updated frequency to the serial monitor</span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">analogRead</span><span class="p">(</span><span class="n">A2</span><span class="p">)));</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span><span class="w">      </span><span class="c1">// Delay for 20ms before repeating</span>
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a><span class="p">}</span>
</code></pre></div>
</div>
</div>
<div>
<div class="admonition serial">
<p class="admonition-title">Serial Plot</p>
<p><figure markdown>
<a href="../assets/img/hookup_guide/example-analog_sine.gif" title="Click to enlarge"><img alt="Serial Plot of Sine Wave" src="../assets/img/hookup_guide/example-analog_sine.gif" width="400" /></a>
<figcaption markdown><strong>Serial Plot</strong> of a sine wave output from the <code>DAC</code> <abbr title="General Purpose Input and Output">GPIO</abbr>, which was read by the <code>A2</code> <abbr title="General Purpose Input and Output">GPIO</abbr>.</figcaption>
</figure></p>
</div>
</div>
</div>
<details class="abstract">
<summary>Other Waveforms</summary>
<p>Users can modify this example to generate other types of waveforms, as shown in the examples below.</p>
<div class="grid" markdown>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/example-analog_square.gif" title="Click to enlarge"><img alt="Serial Plot of Square Wave" src="../assets/img/hookup_guide/example-analog_square.gif" width="400" /></a>
<figcaption markdown><strong>Serial Plot</strong> of a square wave generated by the <code>DAC</code> <abbr title="General Purpose Input and Output">GPIO</abbr>, which was recorded by the <code>A2</code> <abbr title="General Purpose Input and Output">GPIO</abbr>.</figcaption>
</figure></p>
<div class="admonition code">
<p class="admonition-title">Square Wave</p>
<p>Users can modify the type of waveform output by the <abbr title="Digital-to-Analog Converter">DAC</abbr>. The modification below will generate a square waveform:</p>
<div class="highlight"><pre><span></span><code><del class="critic">wave.sine(freq);</del>
<ins class="critic">wave.square(freq);</ins>
</code></pre></div>
</div>
</div>
<div markdown>
<p><figure markdown>
<a href="../assets/img/hookup_guide/example-analog_saw.gif" title="Click to enlarge"><img alt="Serial Plot of Sawtooth Wave" src="../assets/img/hookup_guide/example-analog_saw.gif" width="400" /></a>
<figcaption markdown><strong>Serial Plot</strong> of a sawtooth wave generated by the <code>DAC</code> <abbr title="General Purpose Input and Output">GPIO</abbr>, which was recorded by the <code>A2</code> <abbr title="General Purpose Input and Output">GPIO</abbr>.</figcaption>
</figure></p>
<div class="admonition code">
<p class="admonition-title">Sawtooth Wave</p>
<p>Users can modify the type of waveform output by the <abbr title="Digital-to-Analog Converter">DAC</abbr>. The modification below will generate a sawtooth waveform:</p>
<div class="highlight"><pre><span></span><code><del class="critic">wave.sine(freq);</del>
<ins class="critic">wave.saw(freq);</ins>
</code></pre></div>
</div>
</div>
</div>
</details>
<h1 id="examples-serial-port">Examples - Serial Port<a class="headerlink" href="#examples-serial-port" title="Permanent link"></a></h1>
<h2 id="feedback-loop_1">Feedback Loop<a class="headerlink" href="#feedback-loop_1" title="Permanent link"></a></h2>
<p>The simplest way to test the <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> interface is with just a jumper <em>(wire)</em> and looping transmission data from the <strong><abbr title="Transmit">TX</abbr></strong> <abbr title="General Purpose Input and Output">GPIO</abbr> pin; back into the <strong><abbr title="Receive">RX</abbr></strong> <abbr title="General Purpose Input and Output">GPIO</abbr> pin. For this example, users are free to utilize any method or hardware they have to connect the <strong><abbr title="Receive">RX</abbr></strong> and <strong><abbr title="Transmit">TX</abbr></strong> <abbr title="General Purpose Input and Output">GPIO</abbr> pins together. However, we recommend some IC hooks for a temporary connection.</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/501" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/4/1/00501-1.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook Test Leads</strong><br>
CAB-00501</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9741" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/6/9/6/09741-01.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook with Pigtail</strong><br>
CAB-09741</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9194" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/6/3/4/JumperWire-Female-01-L.jpg">
    </figure></p>
<hr />
<p><strong>Jumper Wires Premium 6" Mixed Pack of 100</strong><br>
PRT-09194</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/116" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/0/6/00116-02-L.jpg">
    </figure></p>
<hr />
<p><strong>Break Away Headers - Straight</strong><br>
PRT-00116</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9044" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/0/7/09044-02-L.jpg">
    </figure></p>
<hr />
<p><strong>Jumper - 2 Pin</strong><br>
PRT-09044</a></p>
</li>
</ul>
</div>
</details>
<p>After users have jumpered the <abbr title="General Purpose Input and Output">GPIO</abbr> pins and uploaded the example code, they will need to open the <a href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-serial-monitor/" target="_blank" rel="noopener"><strong>Serial Monitor</strong></a> in the Arduino IDE. Any entries that are sent through the message textbox, should be re-transmitted back into the <strong>Serial Monitor</strong> by the jumpered <abbr title="General Purpose Input and Output">GPIO</abbr> pins.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="multiserialino" name="__tabbed_12" type="radio" /><input id="serialpassthroughino" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="multiserialino"><code>MultiSerial.ino</code></label><label for="serialpassthroughino"><code>SerialPassthrough.ino</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>04.Communication</strong> &gt; <strong>MultiSerial</strong> drop-down menu.</p>
<details class="code">
<summary><code>MultiSerial.ino</code></summary>
<p><iframe class='arduino-sketch-iframe' src='https://create.arduino.cc/example/builtin/04.Communication%5CMultiSerial/MultiSerial/preview?embed&snippet' style='height:752px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>04.Communication</strong> &gt; <strong>SerialPassthrough</strong> drop-down menu.</p>
<details class="code">
<summary><code>SerialPassthrough.ino</code></summary>
<p><iframe class='arduino-sketch-iframe' src='https://create.arduino.cc/example/builtin/04.Communication%5CSerialPassthrough/SerialPassthrough/preview?embed&snippet' style='height:752px;width:100%;margin:10px 0' frameborder='0'></iframe></p>
</details>
</div>
</div>
</div>
<h2 id="peripheral-device">Peripheral Device<a class="headerlink" href="#peripheral-device" title="Permanent link"></a></h2>
<h3 id="gnssgps-module"><abbr title="Global Navigation Satellite System">GNSS</abbr>/<abbr title="Global Positioning System">GPS</abbr> Module<a class="headerlink" href="#gnssgps-module" title="Permanent link"></a></h3>
<p>For <abbr title="Global Navigation Satellite System">GNSS</abbr> receivers, we recommend that the <a href="https://github.com/mikalhart/TinyGPSPlus" target="_blank" rel="noopener">TinyGPSPlus Arduino library</a> be utilized to parse the <abbr title="National Marine Electronics Association">NMEA</abbr> sentences from the module. Once the <a href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-installing-a-library/" target="_blank" rel="noopener">library is installed in the Arduino IDE</a>, users will find several example sketches listed in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>TinyGPSPlus</strong> &gt; drop-down menu. We recommend the following examples for getting started with a <abbr title="Global Navigation Satellite System">GNSS</abbr> receiver:</p>
<ul>
<li><code>DeviceExample.ino</code></li>
<li><code>FullExample.ino</code></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Below, are a few tips for users to start working with the TinyGPSPlus Arduino library. However, for more details, users should refer to the <a href="http://arduiniana.org/libraries/tinygpsplus/" target="_blank" rel="noopener">documentation for the TinyGPSPlus Arduino library</a>.</p>
<details class="code">
<summary>Define Parameters</summary>
<p>When utilizing the examples in the TinyGPSPlus Arduino library, users may need to define and/or modify a few parameters. The baud rate for the <abbr title="Global Navigation Satellite System">GNSS</abbr> receiver should be configured based upon the information presented in the datasheet.</p>
<p>For the RA6M5 Thing Plus, users have two options for configuring the serial port on the <code>RX</code> and <code>TX</code> <abbr title="General Purpose Input and Output">GPIO</abbr> pins:</p>
<ul>
<li>In the examples, they can continue to implement the SoftwareSerial library and update the values of <code>RX</code> and <code>TX</code> <abbr title="General Purpose Input and Output">GPIO</abbr> pins in the code</li>
<li>Otherwise, users can remove the SoftwareSerial library implementation; and replace it with <code>Serial1</code> <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> port</li>
</ul>
<div class="grid cards" markdown>
<ul>
<li>
<p><strong>Baud Rate</strong></p>
<hr />
<p>Check the datasheet or product manual for the default baud rate of the <abbr title="Global Positioning System">GPS</abbr> receiver; if necessary, replace the value in the example:</p>
<div class="highlight"><pre><span></span><code>static const uint32_t GPSBaud = <mark class="critic">4800</mark>;
static const uint32_t GPSBaud = <ins class="critic">115200</ins>;
</code></pre></div>
<p>In some cases, the datasheet may be inaccurate or the module's configuration was previously changed. In which case, the most common rates to try are:</p>
<ul>
<li><code>4800</code> bps</li>
<li><code>9600</code> bps</li>
<li><code>115200</code> bps</li>
</ul>
</li>
<li>
<p><strong>Update <abbr title="General Purpose Input and Output">GPIO</abbr> Pins</strong></p>
<hr />
<p>Replace the values for the <code>RX</code> (<code>D20</code>) and <code>TX</code> (<code>D21</code>) <abbr title="General Purpose Input and Output">GPIO</abbr> pins for those on the RA6M5 Thing Plus:</p>
<div class="highlight"><pre><span></span><code>static const int RXPin = <del class="critic">4</del>, TXPin = <del class="critic">3</del>;
static const int RXPin = <ins class="critic">20</ins>, TXPin = <ins class="critic">21</ins>;
</code></pre></div>
</li>
<li>
<p><strong>Utilize <code>Serial1</code> Port</strong></p>
<hr />
<p>Remove the implementation of the SoftwareSerial library implementation</p>
<div class="highlight"><pre><span></span><code><del class="critic">#include &lt;SoftwareSerial.h&gt;</del>

<del class="critic">static const int RXPin = 4, TXPin = 3;</del>
<del class="critic">SoftwareSerial ss(RXPin, TXPin);</del>
</code></pre></div>
<p>Then, replace the SoftwareSerial objects with <code>Serial1</code> class</p>
<div class="highlight"><pre><span></span><code>void setup()
{
    Serial.begin(115200);
    <del class="critic">ss</del><ins class="critic">Serial1</ins>.begin(GPSBaud);

void loop()
{
    while (<del class="critic">ss</del><ins class="critic">Serial1</ins>.available() &gt; 0)
        if (gps.encode(<del class="critic">ss</del><ins class="critic">Serial1</ins>.read()))
            displayInfo();
</code></pre></div>
</li>
</ul>
</div>
</details>
<details class="abstract">
<summary>Hardware Assembly</summary>
<p>Connecting a <abbr title="Global Navigation Satellite System">GNSS</abbr> receiver to a microcontroller is relatively straight forward. Users must provide power to the module through the <code>PWR</code>/<code>VCC</code> and <code>GND</code> pins on the board. Additionally, the <code>TX</code> pin from the <abbr title="Global Navigation Satellite System">GNSS</abbr> receiver, should be connected to the <code>RX</code> pin of the microcontroller. This will allow the module to transmit the <abbr title="National Marine Electronics Association">NMEA</abbr> sentences to the microcontroller.</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Thing Plus</th>
<th style="text-align: center;"><abbr title="Global Positioning System">GPS</abbr> Module</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>3V3</code></td>
<td style="text-align: center;"><code>VCC</code> or <code>PWR</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>GND</code></td>
<td style="text-align: center;"><code>GND</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>RX</code> (<code>D21</code>)</td>
<td style="text-align: center;"><code>TX</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>TX</code> (<code>D20</code>)</td>
<td style="text-align: center;">---</td>
</tr>
</tbody>
</table>
<p></center></p>
</details>
<details class="question">
<summary>Satellite Fix</summary>
<p>As with all <abbr title="Global Navigation Satellite System">GNSS</abbr> receivers, the module's antenna must have a clear view of the sky <em>(it can't operate inside a building)</em> to receive signal from the <abbr title="Global Navigation Satellite System">GNSS</abbr> constellation. In addition, the <abbr title="Global Navigation Satellite System">GNSS</abbr> receiver must acquire a fix on its position, before it starts transmitting complete <abbr title="National Marine Electronics Association">NMEA</abbr> sentences <em>(with all the data)</em>.</p>
</details>
</div>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/14414" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/2/3/4/0/14414-SparkFun_GPS_Breakout_-_XA1110__Qwiic_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun <abbr title="Global Positioning System">GPS</abbr> Breakout - XA1110 (Qwiic)</strong><br>
<abbr title="Global Positioning System">GPS</abbr>-14414</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/19166" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/7/8/8/19166-GPS_Module_-_GP1818MK__56_Channel_-04.jpg">
    </figure></p>
<hr />
<p><strong><abbr title="Global Positioning System">GPS</abbr> Module - GP1818MK (56 Channel)</strong><br>
<abbr title="Global Positioning System">GPS</abbr>-19166</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9741" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/6/9/6/09741-01.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook with Pigtail</strong><br>
CAB-09741</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/11375" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/7/1/2/0/11375-Hook-Up_Wire_-_Assortment__Solid_Core__22_AWG_-01.jpg">
    </figure></p>
<hr />
<p><strong>Hook-Up Wire - Assortment (Stranded, 22 AWG)</strong><br>
PRT-11375</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9325" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/8/7/3/09325_9161-Solder_Lead_Free_-_100-gram_Spool-01.jpg">
    </figure></p>
<hr />
<p><strong>Solder Lead Free - 100-gram Spool</strong><br>
TOL-09325</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/24063" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/3/8/5/KIT-24063-PINECIL-Soldering-Iron-Kit-Feature.jpg">
    </figure></p>
<hr />
<p><strong>PINECIL Soldering Iron Kit</strong><br>
KIT-24063</a></p>
</li>
</ul>
</div>
</details>
<p>After users have connected their GNSSS module and uploaded the example code, they will need to open the <a href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-serial-monitor/" target="_blank" rel="noopener"><strong>Serial Monitor</strong></a> in the Arduino IDE to view the data. Users should begin to see the data parsed by the TinyGPSPlus Arduino library, from the <abbr title="National Marine Electronics Association">NMEA</abbr> sentences transmitted from the <abbr title="Global Navigation Satellite System">GNSS</abbr> receiver.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="deviceexampleino" name="__tabbed_13" type="radio" /><input id="fullexampleino" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="deviceexampleino"><code>DeviceExample.ino</code></label><label for="fullexampleino"><code>FullExample.ino</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>TinyGPSPlus</strong> &gt; <strong>DeviceExample</strong> drop-down menu.</p>
<details class="code">
<summary><code>DeviceExample.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;TinyGPSPlus.h&gt;</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SoftwareSerial.h&gt;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="cm">/*</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="cm">   This sample sketch demonstrates the normal use of a TinyGPSPlus (TinyGPSPlus) object.</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="cm">   It requires the use of SoftwareSerial, and assumes that you have a</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="cm">   4800-baud serial GPS device hooked up on pins 4(rx) and 3(tx).</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="cm">*/</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">RXPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">TXPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">GPSBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4800</span><span class="p">;</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="c1">// The TinyGPSPlus object</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="n">TinyGPSPlus</span><span class="w"> </span><span class="n">gps</span><span class="p">;</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="c1">// The serial connection to the GPS device</span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="n">SoftwareSerial</span><span class="w"> </span><span class="nf">ss</span><span class="p">(</span><span class="n">RXPin</span><span class="p">,</span><span class="w"> </span><span class="n">TXPin</span><span class="p">);</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="p">{</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">  </span><span class="n">ss</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">GPSBaud</span><span class="p">);</span>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;DeviceExample.ino&quot;</span><span class="p">));</span>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;A simple demonstration of TinyGPSPlus with an attached GPS module&quot;</span><span class="p">));</span>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Testing TinyGPSPlus library v. &quot;</span><span class="p">));</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">TinyGPSPlus</span><span class="o">::</span><span class="n">libraryVersion</span><span class="p">());</span>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;by Mikal Hart&quot;</span><span class="p">));</span>
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="p">}</span>
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a><span class="p">{</span>
<a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a><span class="w">  </span><span class="c1">// This sketch displays information every time a new sentence is correctly encoded.</span>
<a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">ss</span><span class="p">.</span><span class="n">available</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="n">ss</span><span class="p">.</span><span class="n">read</span><span class="p">()))</span>
<a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a><span class="w">      </span><span class="n">displayInfo</span><span class="p">();</span>
<a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a>
<a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">millis</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">charsProcessed</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;No GPS detected: check wiring.&quot;</span><span class="p">));</span>
<a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<a id="__codelineno-19-40" name="__codelineno-19-40" href="#__codelineno-19-40"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-19-41" name="__codelineno-19-41" href="#__codelineno-19-41"></a><span class="p">}</span>
<a id="__codelineno-19-42" name="__codelineno-19-42" href="#__codelineno-19-42"></a>
<a id="__codelineno-19-43" name="__codelineno-19-43" href="#__codelineno-19-43"></a><span class="kt">void</span><span class="w"> </span><span class="nf">displayInfo</span><span class="p">()</span>
<a id="__codelineno-19-44" name="__codelineno-19-44" href="#__codelineno-19-44"></a><span class="p">{</span>
<a id="__codelineno-19-45" name="__codelineno-19-45" href="#__codelineno-19-45"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Location: &quot;</span><span class="p">));</span><span class="w"> </span>
<a id="__codelineno-19-46" name="__codelineno-19-46" href="#__codelineno-19-46"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span>
<a id="__codelineno-19-47" name="__codelineno-19-47" href="#__codelineno-19-47"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-19-48" name="__codelineno-19-48" href="#__codelineno-19-48"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">lat</span><span class="p">(),</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-19-49" name="__codelineno-19-49" href="#__codelineno-19-49"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">));</span>
<a id="__codelineno-19-50" name="__codelineno-19-50" href="#__codelineno-19-50"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">lng</span><span class="p">(),</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-19-51" name="__codelineno-19-51" href="#__codelineno-19-51"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-19-52" name="__codelineno-19-52" href="#__codelineno-19-52"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-19-53" name="__codelineno-19-53" href="#__codelineno-19-53"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-19-54" name="__codelineno-19-54" href="#__codelineno-19-54"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;INVALID&quot;</span><span class="p">));</span>
<a id="__codelineno-19-55" name="__codelineno-19-55" href="#__codelineno-19-55"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-19-56" name="__codelineno-19-56" href="#__codelineno-19-56"></a>
<a id="__codelineno-19-57" name="__codelineno-19-57" href="#__codelineno-19-57"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;  Date/Time: &quot;</span><span class="p">));</span>
<a id="__codelineno-19-58" name="__codelineno-19-58" href="#__codelineno-19-58"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span>
<a id="__codelineno-19-59" name="__codelineno-19-59" href="#__codelineno-19-59"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-19-60" name="__codelineno-19-60" href="#__codelineno-19-60"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="n">month</span><span class="p">());</span>
<a id="__codelineno-19-61" name="__codelineno-19-61" href="#__codelineno-19-61"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">));</span>
<a id="__codelineno-19-62" name="__codelineno-19-62" href="#__codelineno-19-62"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="n">day</span><span class="p">());</span>
<a id="__codelineno-19-63" name="__codelineno-19-63" href="#__codelineno-19-63"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">));</span>
<a id="__codelineno-19-64" name="__codelineno-19-64" href="#__codelineno-19-64"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="n">year</span><span class="p">());</span>
<a id="__codelineno-19-65" name="__codelineno-19-65" href="#__codelineno-19-65"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-19-66" name="__codelineno-19-66" href="#__codelineno-19-66"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-19-67" name="__codelineno-19-67" href="#__codelineno-19-67"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-19-68" name="__codelineno-19-68" href="#__codelineno-19-68"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;INVALID&quot;</span><span class="p">));</span>
<a id="__codelineno-19-69" name="__codelineno-19-69" href="#__codelineno-19-69"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-19-70" name="__codelineno-19-70" href="#__codelineno-19-70"></a>
<a id="__codelineno-19-71" name="__codelineno-19-71" href="#__codelineno-19-71"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">));</span>
<a id="__codelineno-19-72" name="__codelineno-19-72" href="#__codelineno-19-72"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span>
<a id="__codelineno-19-73" name="__codelineno-19-73" href="#__codelineno-19-73"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-19-74" name="__codelineno-19-74" href="#__codelineno-19-74"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">hour</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">));</span>
<a id="__codelineno-19-75" name="__codelineno-19-75" href="#__codelineno-19-75"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">hour</span><span class="p">());</span>
<a id="__codelineno-19-76" name="__codelineno-19-76" href="#__codelineno-19-76"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">));</span>
<a id="__codelineno-19-77" name="__codelineno-19-77" href="#__codelineno-19-77"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">minute</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">));</span>
<a id="__codelineno-19-78" name="__codelineno-19-78" href="#__codelineno-19-78"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">minute</span><span class="p">());</span>
<a id="__codelineno-19-79" name="__codelineno-19-79" href="#__codelineno-19-79"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">));</span>
<a id="__codelineno-19-80" name="__codelineno-19-80" href="#__codelineno-19-80"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">second</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">));</span>
<a id="__codelineno-19-81" name="__codelineno-19-81" href="#__codelineno-19-81"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">second</span><span class="p">());</span>
<a id="__codelineno-19-82" name="__codelineno-19-82" href="#__codelineno-19-82"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">));</span>
<a id="__codelineno-19-83" name="__codelineno-19-83" href="#__codelineno-19-83"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">centisecond</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">));</span>
<a id="__codelineno-19-84" name="__codelineno-19-84" href="#__codelineno-19-84"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">centisecond</span><span class="p">());</span>
<a id="__codelineno-19-85" name="__codelineno-19-85" href="#__codelineno-19-85"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-19-86" name="__codelineno-19-86" href="#__codelineno-19-86"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-19-87" name="__codelineno-19-87" href="#__codelineno-19-87"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-19-88" name="__codelineno-19-88" href="#__codelineno-19-88"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;INVALID&quot;</span><span class="p">));</span>
<a id="__codelineno-19-89" name="__codelineno-19-89" href="#__codelineno-19-89"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-19-90" name="__codelineno-19-90" href="#__codelineno-19-90"></a>
<a id="__codelineno-19-91" name="__codelineno-19-91" href="#__codelineno-19-91"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-19-92" name="__codelineno-19-92" href="#__codelineno-19-92"></a><span class="p">}</span>
</code></pre></div>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <em>TinyGPSPlus*</em> &gt; <strong>FullExample</strong> drop-down menu.</p>
<details class="code">
<summary><code>FullExample.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;TinyGPSPlus.h&gt;</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SoftwareSerial.h&gt;</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="cm">/*</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="cm">   This sample code demonstrates the normal use of a TinyGPSPlus (TinyGPSPlus) object.</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="cm">   It requires the use of SoftwareSerial, and assumes that you have a</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="cm">   4800-baud serial GPS device hooked up on pins 4(rx) and 3(tx).</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="cm">*/</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">RXPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">TXPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">GPSBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4800</span><span class="p">;</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="c1">// The TinyGPSPlus object</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="n">TinyGPSPlus</span><span class="w"> </span><span class="n">gps</span><span class="p">;</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="c1">// The serial connection to the GPS device</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="n">SoftwareSerial</span><span class="w"> </span><span class="nf">ss</span><span class="p">(</span><span class="n">RXPin</span><span class="p">,</span><span class="w"> </span><span class="n">TXPin</span><span class="p">);</span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="p">{</span>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="w">  </span><span class="n">ss</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">GPSBaud</span><span class="p">);</span>
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a>
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;FullExample.ino&quot;</span><span class="p">));</span>
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;An extensive example of many interesting TinyGPSPlus features&quot;</span><span class="p">));</span>
<a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Testing TinyGPSPlus library v. &quot;</span><span class="p">));</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">TinyGPSPlus</span><span class="o">::</span><span class="n">libraryVersion</span><span class="p">());</span>
<a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;by Mikal Hart&quot;</span><span class="p">));</span>
<a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Sats HDOP  Latitude   Longitude   Fix  Date       Time     Date Alt    Course Speed Card  Distance Course Card  Chars Sentences Checksum&quot;</span><span class="p">));</span>
<a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;           (deg)      (deg)       Age                      Age  (m)    --- from GPS ----  ---- to London  ----  RX    RX        Fail&quot;</span><span class="p">));</span>
<a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;----------------------------------------------------------------------------------------------------------------------------------------&quot;</span><span class="p">));</span>
<a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a><span class="p">}</span>
<a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a>
<a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="p">{</span>
<a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">LONDON_LAT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">51.508131</span><span class="p">,</span><span class="w"> </span><span class="n">LONDON_LON</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">-0.128002</span><span class="p">;</span>
<a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a>
<a id="__codelineno-20-36" name="__codelineno-20-36" href="#__codelineno-20-36"></a><span class="w">  </span><span class="n">printInt</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">satellites</span><span class="p">.</span><span class="n">value</span><span class="p">(),</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">satellites</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-20-37" name="__codelineno-20-37" href="#__codelineno-20-37"></a><span class="w">  </span><span class="n">printFloat</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">hdop</span><span class="p">.</span><span class="n">hdop</span><span class="p">(),</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">hdop</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-20-38" name="__codelineno-20-38" href="#__codelineno-20-38"></a><span class="w">  </span><span class="n">printFloat</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">lat</span><span class="p">(),</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-20-39" name="__codelineno-20-39" href="#__codelineno-20-39"></a><span class="w">  </span><span class="n">printFloat</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">lng</span><span class="p">(),</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-20-40" name="__codelineno-20-40" href="#__codelineno-20-40"></a><span class="w">  </span><span class="n">printInt</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">age</span><span class="p">(),</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-20-41" name="__codelineno-20-41" href="#__codelineno-20-41"></a><span class="w">  </span><span class="n">printDateTime</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">date</span><span class="p">,</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">time</span><span class="p">);</span>
<a id="__codelineno-20-42" name="__codelineno-20-42" href="#__codelineno-20-42"></a><span class="w">  </span><span class="n">printFloat</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">altitude</span><span class="p">.</span><span class="n">meters</span><span class="p">(),</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">altitude</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-20-43" name="__codelineno-20-43" href="#__codelineno-20-43"></a><span class="w">  </span><span class="n">printFloat</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">course</span><span class="p">.</span><span class="n">deg</span><span class="p">(),</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">course</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-20-44" name="__codelineno-20-44" href="#__codelineno-20-44"></a><span class="w">  </span><span class="n">printFloat</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">speed</span><span class="p">.</span><span class="n">kmph</span><span class="p">(),</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">speed</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-20-45" name="__codelineno-20-45" href="#__codelineno-20-45"></a><span class="w">  </span><span class="n">printStr</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">course</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">TinyGPSPlus</span><span class="o">::</span><span class="n">cardinal</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">course</span><span class="p">.</span><span class="n">deg</span><span class="p">())</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;*** &quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-20-46" name="__codelineno-20-46" href="#__codelineno-20-46"></a>
<a id="__codelineno-20-47" name="__codelineno-20-47" href="#__codelineno-20-47"></a><span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">distanceKmToLondon</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-20-48" name="__codelineno-20-48" href="#__codelineno-20-48"></a><span class="w">    </span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="p">)</span><span class="n">TinyGPSPlus</span><span class="o">::</span><span class="n">distanceBetween</span><span class="p">(</span>
<a id="__codelineno-20-49" name="__codelineno-20-49" href="#__codelineno-20-49"></a><span class="w">      </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">lat</span><span class="p">(),</span>
<a id="__codelineno-20-50" name="__codelineno-20-50" href="#__codelineno-20-50"></a><span class="w">      </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">lng</span><span class="p">(),</span>
<a id="__codelineno-20-51" name="__codelineno-20-51" href="#__codelineno-20-51"></a><span class="w">      </span><span class="n">LONDON_LAT</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-20-52" name="__codelineno-20-52" href="#__codelineno-20-52"></a><span class="w">      </span><span class="n">LONDON_LON</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<a id="__codelineno-20-53" name="__codelineno-20-53" href="#__codelineno-20-53"></a><span class="w">  </span><span class="n">printInt</span><span class="p">(</span><span class="n">distanceKmToLondon</span><span class="p">,</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<a id="__codelineno-20-54" name="__codelineno-20-54" href="#__codelineno-20-54"></a>
<a id="__codelineno-20-55" name="__codelineno-20-55" href="#__codelineno-20-55"></a><span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">courseToLondon</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-20-56" name="__codelineno-20-56" href="#__codelineno-20-56"></a><span class="w">    </span><span class="n">TinyGPSPlus</span><span class="o">::</span><span class="n">courseTo</span><span class="p">(</span>
<a id="__codelineno-20-57" name="__codelineno-20-57" href="#__codelineno-20-57"></a><span class="w">      </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">lat</span><span class="p">(),</span>
<a id="__codelineno-20-58" name="__codelineno-20-58" href="#__codelineno-20-58"></a><span class="w">      </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">lng</span><span class="p">(),</span>
<a id="__codelineno-20-59" name="__codelineno-20-59" href="#__codelineno-20-59"></a><span class="w">      </span><span class="n">LONDON_LAT</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-20-60" name="__codelineno-20-60" href="#__codelineno-20-60"></a><span class="w">      </span><span class="n">LONDON_LON</span><span class="p">);</span>
<a id="__codelineno-20-61" name="__codelineno-20-61" href="#__codelineno-20-61"></a>
<a id="__codelineno-20-62" name="__codelineno-20-62" href="#__codelineno-20-62"></a><span class="w">  </span><span class="n">printFloat</span><span class="p">(</span><span class="n">courseToLondon</span><span class="p">,</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-20-63" name="__codelineno-20-63" href="#__codelineno-20-63"></a>
<a id="__codelineno-20-64" name="__codelineno-20-64" href="#__codelineno-20-64"></a><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">cardinalToLondon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TinyGPSPlus</span><span class="o">::</span><span class="n">cardinal</span><span class="p">(</span><span class="n">courseToLondon</span><span class="p">);</span>
<a id="__codelineno-20-65" name="__codelineno-20-65" href="#__codelineno-20-65"></a>
<a id="__codelineno-20-66" name="__codelineno-20-66" href="#__codelineno-20-66"></a><span class="w">  </span><span class="n">printStr</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">cardinalToLondon</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;*** &quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-20-67" name="__codelineno-20-67" href="#__codelineno-20-67"></a>
<a id="__codelineno-20-68" name="__codelineno-20-68" href="#__codelineno-20-68"></a><span class="w">  </span><span class="n">printInt</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">charsProcessed</span><span class="p">(),</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<a id="__codelineno-20-69" name="__codelineno-20-69" href="#__codelineno-20-69"></a><span class="w">  </span><span class="n">printInt</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">sentencesWithFix</span><span class="p">(),</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-20-70" name="__codelineno-20-70" href="#__codelineno-20-70"></a><span class="w">  </span><span class="n">printInt</span><span class="p">(</span><span class="n">gps</span><span class="p">.</span><span class="n">failedChecksum</span><span class="p">(),</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<a id="__codelineno-20-71" name="__codelineno-20-71" href="#__codelineno-20-71"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-20-72" name="__codelineno-20-72" href="#__codelineno-20-72"></a>
<a id="__codelineno-20-73" name="__codelineno-20-73" href="#__codelineno-20-73"></a><span class="w">  </span><span class="n">smartDelay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-20-74" name="__codelineno-20-74" href="#__codelineno-20-74"></a>
<a id="__codelineno-20-75" name="__codelineno-20-75" href="#__codelineno-20-75"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">millis</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">gps</span><span class="p">.</span><span class="n">charsProcessed</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-20-76" name="__codelineno-20-76" href="#__codelineno-20-76"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;No GPS data received: check wiring&quot;</span><span class="p">));</span>
<a id="__codelineno-20-77" name="__codelineno-20-77" href="#__codelineno-20-77"></a><span class="p">}</span>
<a id="__codelineno-20-78" name="__codelineno-20-78" href="#__codelineno-20-78"></a>
<a id="__codelineno-20-79" name="__codelineno-20-79" href="#__codelineno-20-79"></a><span class="c1">// This custom version of delay() ensures that the gps object</span>
<a id="__codelineno-20-80" name="__codelineno-20-80" href="#__codelineno-20-80"></a><span class="c1">// is being &quot;fed&quot;.</span>
<a id="__codelineno-20-81" name="__codelineno-20-81" href="#__codelineno-20-81"></a><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">smartDelay</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">ms</span><span class="p">)</span>
<a id="__codelineno-20-82" name="__codelineno-20-82" href="#__codelineno-20-82"></a><span class="p">{</span>
<a id="__codelineno-20-83" name="__codelineno-20-83" href="#__codelineno-20-83"></a><span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span>
<a id="__codelineno-20-84" name="__codelineno-20-84" href="#__codelineno-20-84"></a><span class="w">  </span><span class="k">do</span><span class="w"> </span>
<a id="__codelineno-20-85" name="__codelineno-20-85" href="#__codelineno-20-85"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-20-86" name="__codelineno-20-86" href="#__codelineno-20-86"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">ss</span><span class="p">.</span><span class="n">available</span><span class="p">())</span>
<a id="__codelineno-20-87" name="__codelineno-20-87" href="#__codelineno-20-87"></a><span class="w">      </span><span class="n">gps</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="n">ss</span><span class="p">.</span><span class="n">read</span><span class="p">());</span>
<a id="__codelineno-20-88" name="__codelineno-20-88" href="#__codelineno-20-88"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">millis</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">ms</span><span class="p">);</span>
<a id="__codelineno-20-89" name="__codelineno-20-89" href="#__codelineno-20-89"></a><span class="p">}</span>
<a id="__codelineno-20-90" name="__codelineno-20-90" href="#__codelineno-20-90"></a>
<a id="__codelineno-20-91" name="__codelineno-20-91" href="#__codelineno-20-91"></a><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printFloat</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">valid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">prec</span><span class="p">)</span>
<a id="__codelineno-20-92" name="__codelineno-20-92" href="#__codelineno-20-92"></a><span class="p">{</span>
<a id="__codelineno-20-93" name="__codelineno-20-93" href="#__codelineno-20-93"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">valid</span><span class="p">)</span>
<a id="__codelineno-20-94" name="__codelineno-20-94" href="#__codelineno-20-94"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-20-95" name="__codelineno-20-95" href="#__codelineno-20-95"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="o">--</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-20-96" name="__codelineno-20-96" href="#__codelineno-20-96"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="sc">&#39;*&#39;</span><span class="p">);</span>
<a id="__codelineno-20-97" name="__codelineno-20-97" href="#__codelineno-20-97"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="sc">&#39; &#39;</span><span class="p">);</span>
<a id="__codelineno-20-98" name="__codelineno-20-98" href="#__codelineno-20-98"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-20-99" name="__codelineno-20-99" href="#__codelineno-20-99"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-20-100" name="__codelineno-20-100" href="#__codelineno-20-100"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-20-101" name="__codelineno-20-101" href="#__codelineno-20-101"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">prec</span><span class="p">);</span>
<a id="__codelineno-20-102" name="__codelineno-20-102" href="#__codelineno-20-102"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">abs</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">val</span><span class="p">);</span>
<a id="__codelineno-20-103" name="__codelineno-20-103" href="#__codelineno-20-103"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">flen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// . and -</span>
<a id="__codelineno-20-104" name="__codelineno-20-104" href="#__codelineno-20-104"></a><span class="w">    </span><span class="n">flen</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">vi</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">vi</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">vi</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-20-105" name="__codelineno-20-105" href="#__codelineno-20-105"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">flen</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-20-106" name="__codelineno-20-106" href="#__codelineno-20-106"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="sc">&#39; &#39;</span><span class="p">);</span>
<a id="__codelineno-20-107" name="__codelineno-20-107" href="#__codelineno-20-107"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-20-108" name="__codelineno-20-108" href="#__codelineno-20-108"></a><span class="w">  </span><span class="n">smartDelay</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-20-109" name="__codelineno-20-109" href="#__codelineno-20-109"></a><span class="p">}</span>
<a id="__codelineno-20-110" name="__codelineno-20-110" href="#__codelineno-20-110"></a>
<a id="__codelineno-20-111" name="__codelineno-20-111" href="#__codelineno-20-111"></a><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printInt</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">valid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">)</span>
<a id="__codelineno-20-112" name="__codelineno-20-112" href="#__codelineno-20-112"></a><span class="p">{</span>
<a id="__codelineno-20-113" name="__codelineno-20-113" href="#__codelineno-20-113"></a><span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">sz</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;*****************&quot;</span><span class="p">;</span>
<a id="__codelineno-20-114" name="__codelineno-20-114" href="#__codelineno-20-114"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">valid</span><span class="p">)</span>
<a id="__codelineno-20-115" name="__codelineno-20-115" href="#__codelineno-20-115"></a><span class="w">    </span><span class="n">sprintf</span><span class="p">(</span><span class="n">sz</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%ld&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span>
<a id="__codelineno-20-116" name="__codelineno-20-116" href="#__codelineno-20-116"></a><span class="w">  </span><span class="n">sz</span><span class="p">[</span><span class="n">len</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-20-117" name="__codelineno-20-117" href="#__codelineno-20-117"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">strlen</span><span class="p">(</span><span class="n">sz</span><span class="p">);</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-20-118" name="__codelineno-20-118" href="#__codelineno-20-118"></a><span class="w">    </span><span class="n">sz</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<a id="__codelineno-20-119" name="__codelineno-20-119" href="#__codelineno-20-119"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-20-120" name="__codelineno-20-120" href="#__codelineno-20-120"></a><span class="w">    </span><span class="n">sz</span><span class="p">[</span><span class="n">len</span><span class="mi">-1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<a id="__codelineno-20-121" name="__codelineno-20-121" href="#__codelineno-20-121"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">sz</span><span class="p">);</span>
<a id="__codelineno-20-122" name="__codelineno-20-122" href="#__codelineno-20-122"></a><span class="w">  </span><span class="n">smartDelay</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-20-123" name="__codelineno-20-123" href="#__codelineno-20-123"></a><span class="p">}</span>
<a id="__codelineno-20-124" name="__codelineno-20-124" href="#__codelineno-20-124"></a>
<a id="__codelineno-20-125" name="__codelineno-20-125" href="#__codelineno-20-125"></a><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printDateTime</span><span class="p">(</span><span class="n">TinyGPSDate</span><span class="w"> </span><span class="o">&amp;</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">TinyGPSTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span>
<a id="__codelineno-20-126" name="__codelineno-20-126" href="#__codelineno-20-126"></a><span class="p">{</span>
<a id="__codelineno-20-127" name="__codelineno-20-127" href="#__codelineno-20-127"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">d</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span>
<a id="__codelineno-20-128" name="__codelineno-20-128" href="#__codelineno-20-128"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-20-129" name="__codelineno-20-129" href="#__codelineno-20-129"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;********** &quot;</span><span class="p">));</span>
<a id="__codelineno-20-130" name="__codelineno-20-130" href="#__codelineno-20-130"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-20-131" name="__codelineno-20-131" href="#__codelineno-20-131"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-20-132" name="__codelineno-20-132" href="#__codelineno-20-132"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-20-133" name="__codelineno-20-133" href="#__codelineno-20-133"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">sz</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<a id="__codelineno-20-134" name="__codelineno-20-134" href="#__codelineno-20-134"></a><span class="w">    </span><span class="n">sprintf</span><span class="p">(</span><span class="n">sz</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%02d/%02d/%02d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">month</span><span class="p">(),</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">day</span><span class="p">(),</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">year</span><span class="p">());</span>
<a id="__codelineno-20-135" name="__codelineno-20-135" href="#__codelineno-20-135"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">sz</span><span class="p">);</span>
<a id="__codelineno-20-136" name="__codelineno-20-136" href="#__codelineno-20-136"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-20-137" name="__codelineno-20-137" href="#__codelineno-20-137"></a>
<a id="__codelineno-20-138" name="__codelineno-20-138" href="#__codelineno-20-138"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">t</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span>
<a id="__codelineno-20-139" name="__codelineno-20-139" href="#__codelineno-20-139"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-20-140" name="__codelineno-20-140" href="#__codelineno-20-140"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;******** &quot;</span><span class="p">));</span>
<a id="__codelineno-20-141" name="__codelineno-20-141" href="#__codelineno-20-141"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-20-142" name="__codelineno-20-142" href="#__codelineno-20-142"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-20-143" name="__codelineno-20-143" href="#__codelineno-20-143"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-20-144" name="__codelineno-20-144" href="#__codelineno-20-144"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">sz</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<a id="__codelineno-20-145" name="__codelineno-20-145" href="#__codelineno-20-145"></a><span class="w">    </span><span class="n">sprintf</span><span class="p">(</span><span class="n">sz</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%02d:%02d:%02d &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">hour</span><span class="p">(),</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">minute</span><span class="p">(),</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">second</span><span class="p">());</span>
<a id="__codelineno-20-146" name="__codelineno-20-146" href="#__codelineno-20-146"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">sz</span><span class="p">);</span>
<a id="__codelineno-20-147" name="__codelineno-20-147" href="#__codelineno-20-147"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-20-148" name="__codelineno-20-148" href="#__codelineno-20-148"></a>
<a id="__codelineno-20-149" name="__codelineno-20-149" href="#__codelineno-20-149"></a><span class="w">  </span><span class="n">printInt</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">age</span><span class="p">(),</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">isValid</span><span class="p">(),</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-20-150" name="__codelineno-20-150" href="#__codelineno-20-150"></a><span class="w">  </span><span class="n">smartDelay</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-20-151" name="__codelineno-20-151" href="#__codelineno-20-151"></a><span class="p">}</span>
<a id="__codelineno-20-152" name="__codelineno-20-152" href="#__codelineno-20-152"></a>
<a id="__codelineno-20-153" name="__codelineno-20-153" href="#__codelineno-20-153"></a><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printStr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">)</span>
<a id="__codelineno-20-154" name="__codelineno-20-154" href="#__codelineno-20-154"></a><span class="p">{</span>
<a id="__codelineno-20-155" name="__codelineno-20-155" href="#__codelineno-20-155"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">slen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
<a id="__codelineno-20-156" name="__codelineno-20-156" href="#__codelineno-20-156"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-20-157" name="__codelineno-20-157" href="#__codelineno-20-157"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">slen</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">);</span>
<a id="__codelineno-20-158" name="__codelineno-20-158" href="#__codelineno-20-158"></a><span class="w">  </span><span class="n">smartDelay</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-20-159" name="__codelineno-20-159" href="#__codelineno-20-159"></a><span class="p">}</span>
</code></pre></div>
</details>
</div>
</div>
</div>
<h3 id="da14531mod">DA14531MOD<a class="headerlink" href="#da14531mod" title="Permanent link"></a></h3>
<p>For the DA14531MOD, users can interface with the module through the <code>Serial2</code> <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> port of the RA6M5 Thing Plus. The firmware on the module implements the CodeLess AT command platform. This means, users can easily configure the <abbr title="Bluetooth Low-Energy">BLE</abbr> connectivity of the board with a few AT commands. <em>For more details, please refer to the <a href="../example-codeless/">section with the DA14531MOD examples</a>.</em></p>
<h1 id="examples-spi-bus">Examples - <abbr title="Serial Peripheral Interface">SPI</abbr> Bus<a class="headerlink" href="#examples-spi-bus" title="Permanent link"></a></h1>
<h2 id="feedback-loop_2">Feedback Loop<a class="headerlink" href="#feedback-loop_2" title="Permanent link"></a></h2>
<p>The simplest way to test the <abbr title="Serial Peripheral Interface">SPI</abbr> interface is with just a jumper <em>(wire)</em> and looping a data transmission from the <strong><abbr title="Peripheral In; Ccontroller Out">PICO</abbr></strong> <abbr title="General Purpose Input and Output">GPIO</abbr> pin; back into the <strong><abbr title="Peripheral Out; Controller In">POCI</abbr></strong> <abbr title="General Purpose Input and Output">GPIO</abbr> pin. For this example, users are free to utilize any method or hardware they have to connect the <strong><abbr title="Peripheral In; Ccontroller Out">PICO</abbr></strong> and <strong><abbr title="Peripheral Out; Controller In">POCI</abbr></strong> <abbr title="General Purpose Input and Output">GPIO</abbr> pins together. However, we recommend some IC hooks for a temporary connection.</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/501" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/4/1/00501-1.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook Test Leads</strong><br>
CAB-00501</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9741" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/6/9/6/09741-01.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook with Pigtail</strong><br>
CAB-09741</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9194" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/6/3/4/JumperWire-Female-01-L.jpg">
    </figure></p>
<hr />
<p><strong>Jumper Wires Premium 6" Mixed Pack of 100</strong><br>
PRT-09194</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/116" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/0/6/00116-02-L.jpg">
    </figure></p>
<hr />
<p><strong>Break Away Headers - Straight</strong><br>
PRT-00116</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9044" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/0/7/09044-02-L.jpg">
    </figure></p>
<hr />
<p><strong>Jumper - 2 Pin</strong><br>
PRT-09044</a></p>
</li>
</ul>
</div>
</details>
<details class="code">
<summary><code>SPI_Loopback.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SPI.h&gt;</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdint&gt;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="p">{</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);};</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;SPI loopback test.&quot;</span><span class="p">);</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">    </span><span class="n">SPI</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span><span class="n">SPI</span><span class="p">.</span><span class="n">beginTransaction</span><span class="p">(</span><span class="n">SPISettings</span><span class="p">(</span><span class="mi">4000000</span><span class="p">,</span><span class="w"> </span><span class="n">MSBFIRST</span><span class="p">,</span><span class="w"> </span><span class="n">SPI_MODE1</span><span class="p">));</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">    </span><span class="n">testByteTransfer</span><span class="p">();</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="w">    </span><span class="n">testWordTransfer</span><span class="p">();</span>
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="w">    </span><span class="n">testArrayTransfer</span><span class="p">();</span>
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a>
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="w">    </span><span class="n">SPI</span><span class="p">.</span><span class="n">endTransaction</span><span class="p">();</span>
<a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="w">    </span><span class="n">SPI</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
<a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a><span class="p">}</span>
<a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a>
<a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a><span class="p">{</span>
<a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a>
<a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a><span class="p">}</span>
<a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a>
<a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a><span class="kt">void</span><span class="w"> </span><span class="nf">testByteTransfer</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a><span class="p">{</span>
<a id="__codelineno-21-31" name="__codelineno-21-31" href="#__codelineno-21-31"></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">testByte</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b10100011</span><span class="p">;</span>
<a id="__codelineno-21-32" name="__codelineno-21-32" href="#__codelineno-21-32"></a>
<a id="__codelineno-21-33" name="__codelineno-21-33" href="#__codelineno-21-33"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Sending: 0b&quot;</span><span class="p">);</span>
<a id="__codelineno-21-34" name="__codelineno-21-34" href="#__codelineno-21-34"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">testByte</span><span class="p">,</span><span class="w"> </span><span class="n">BIN</span><span class="p">);</span>
<a id="__codelineno-21-35" name="__codelineno-21-35" href="#__codelineno-21-35"></a>
<a id="__codelineno-21-36" name="__codelineno-21-36" href="#__codelineno-21-36"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">recvByte</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI</span><span class="p">.</span><span class="n">transfer</span><span class="p">(</span><span class="n">testByte</span><span class="p">);</span>
<a id="__codelineno-21-37" name="__codelineno-21-37" href="#__codelineno-21-37"></a>
<a id="__codelineno-21-38" name="__codelineno-21-38" href="#__codelineno-21-38"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Received: 0b&quot;</span><span class="p">);</span>
<a id="__codelineno-21-39" name="__codelineno-21-39" href="#__codelineno-21-39"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">recvByte</span><span class="p">,</span><span class="w"> </span><span class="n">BIN</span><span class="p">);</span>
<a id="__codelineno-21-40" name="__codelineno-21-40" href="#__codelineno-21-40"></a>
<a id="__codelineno-21-41" name="__codelineno-21-41" href="#__codelineno-21-41"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">recvByte</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">testByte</span><span class="p">)</span>
<a id="__codelineno-21-42" name="__codelineno-21-42" href="#__codelineno-21-42"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-21-43" name="__codelineno-21-43" href="#__codelineno-21-43"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Byte loopback successful.&quot;</span><span class="p">);</span>
<a id="__codelineno-21-44" name="__codelineno-21-44" href="#__codelineno-21-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-45" name="__codelineno-21-45" href="#__codelineno-21-45"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-21-46" name="__codelineno-21-46" href="#__codelineno-21-46"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-21-47" name="__codelineno-21-47" href="#__codelineno-21-47"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Byte loopback unsuccessful. Please check logs.&quot;</span><span class="p">);</span>
<a id="__codelineno-21-48" name="__codelineno-21-48" href="#__codelineno-21-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-49" name="__codelineno-21-49" href="#__codelineno-21-49"></a><span class="p">}</span>
<a id="__codelineno-21-50" name="__codelineno-21-50" href="#__codelineno-21-50"></a>
<a id="__codelineno-21-51" name="__codelineno-21-51" href="#__codelineno-21-51"></a><span class="kt">void</span><span class="w"> </span><span class="nf">testWordTransfer</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-21-52" name="__codelineno-21-52" href="#__codelineno-21-52"></a><span class="p">{</span>
<a id="__codelineno-21-53" name="__codelineno-21-53" href="#__codelineno-21-53"></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">testWord</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b1111000010100101</span><span class="p">;</span>
<a id="__codelineno-21-54" name="__codelineno-21-54" href="#__codelineno-21-54"></a>
<a id="__codelineno-21-55" name="__codelineno-21-55" href="#__codelineno-21-55"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Sending: 0b&quot;</span><span class="p">);</span>
<a id="__codelineno-21-56" name="__codelineno-21-56" href="#__codelineno-21-56"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">testWord</span><span class="p">,</span><span class="w"> </span><span class="n">BIN</span><span class="p">);</span>
<a id="__codelineno-21-57" name="__codelineno-21-57" href="#__codelineno-21-57"></a>
<a id="__codelineno-21-58" name="__codelineno-21-58" href="#__codelineno-21-58"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">recvWord</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI</span><span class="p">.</span><span class="n">transfer</span><span class="p">(</span><span class="n">testWord</span><span class="p">);</span>
<a id="__codelineno-21-59" name="__codelineno-21-59" href="#__codelineno-21-59"></a>
<a id="__codelineno-21-60" name="__codelineno-21-60" href="#__codelineno-21-60"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Received: 0b&quot;</span><span class="p">);</span>
<a id="__codelineno-21-61" name="__codelineno-21-61" href="#__codelineno-21-61"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">recvWord</span><span class="p">,</span><span class="w"> </span><span class="n">BIN</span><span class="p">);</span>
<a id="__codelineno-21-62" name="__codelineno-21-62" href="#__codelineno-21-62"></a>
<a id="__codelineno-21-63" name="__codelineno-21-63" href="#__codelineno-21-63"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">recvWord</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">testWord</span><span class="p">)</span>
<a id="__codelineno-21-64" name="__codelineno-21-64" href="#__codelineno-21-64"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-21-65" name="__codelineno-21-65" href="#__codelineno-21-65"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Word loopback successful.&quot;</span><span class="p">);</span>
<a id="__codelineno-21-66" name="__codelineno-21-66" href="#__codelineno-21-66"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-67" name="__codelineno-21-67" href="#__codelineno-21-67"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-21-68" name="__codelineno-21-68" href="#__codelineno-21-68"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-21-69" name="__codelineno-21-69" href="#__codelineno-21-69"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Word loopback unsuccessful. Please check logs.&quot;</span><span class="p">);</span>
<a id="__codelineno-21-70" name="__codelineno-21-70" href="#__codelineno-21-70"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-71" name="__codelineno-21-71" href="#__codelineno-21-71"></a><span class="p">}</span>
<a id="__codelineno-21-72" name="__codelineno-21-72" href="#__codelineno-21-72"></a>
<a id="__codelineno-21-73" name="__codelineno-21-73" href="#__codelineno-21-73"></a><span class="kt">void</span><span class="w"> </span><span class="nf">testArrayTransfer</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-21-74" name="__codelineno-21-74" href="#__codelineno-21-74"></a><span class="p">{</span>
<a id="__codelineno-21-75" name="__codelineno-21-75" href="#__codelineno-21-75"></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">numel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span>
<a id="__codelineno-21-76" name="__codelineno-21-76" href="#__codelineno-21-76"></a>
<a id="__codelineno-21-77" name="__codelineno-21-77" href="#__codelineno-21-77"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">numel</span><span class="p">);</span>
<a id="__codelineno-21-78" name="__codelineno-21-78" href="#__codelineno-21-78"></a>
<a id="__codelineno-21-79" name="__codelineno-21-79" href="#__codelineno-21-79"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-21-80" name="__codelineno-21-80" href="#__codelineno-21-80"></a>
<a id="__codelineno-21-81" name="__codelineno-21-81" href="#__codelineno-21-81"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numel</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-21-82" name="__codelineno-21-82" href="#__codelineno-21-82"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-21-83" name="__codelineno-21-83" href="#__codelineno-21-83"></a><span class="w">        </span><span class="o">*</span><span class="n">data_ptr</span><span class="o">++</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-21-84" name="__codelineno-21-84" href="#__codelineno-21-84"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-85" name="__codelineno-21-85" href="#__codelineno-21-85"></a>
<a id="__codelineno-21-86" name="__codelineno-21-86" href="#__codelineno-21-86"></a><span class="w">    </span><span class="n">SPI</span><span class="p">.</span><span class="n">transfer</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">numel</span><span class="p">);</span>
<a id="__codelineno-21-87" name="__codelineno-21-87" href="#__codelineno-21-87"></a>
<a id="__codelineno-21-88" name="__codelineno-21-88" href="#__codelineno-21-88"></a><span class="w">    </span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-21-89" name="__codelineno-21-89" href="#__codelineno-21-89"></a>
<a id="__codelineno-21-90" name="__codelineno-21-90" href="#__codelineno-21-90"></a><span class="w">    </span><span class="cm">/* 0 is inital expected results, 255 is when pin is open</span>
<a id="__codelineno-21-91" name="__codelineno-21-91" href="#__codelineno-21-91"></a><span class="cm">     so initialse result variable to 111 to make it clear the value has changed. */</span>
<a id="__codelineno-21-92" name="__codelineno-21-92" href="#__codelineno-21-92"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">111</span><span class="p">;</span>
<a id="__codelineno-21-93" name="__codelineno-21-93" href="#__codelineno-21-93"></a>
<a id="__codelineno-21-94" name="__codelineno-21-94" href="#__codelineno-21-94"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-21-95" name="__codelineno-21-95" href="#__codelineno-21-95"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Multiple byte transfer test&quot;</span><span class="p">);</span>
<a id="__codelineno-21-96" name="__codelineno-21-96" href="#__codelineno-21-96"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;element value result&quot;</span><span class="p">);</span>
<a id="__codelineno-21-97" name="__codelineno-21-97" href="#__codelineno-21-97"></a>
<a id="__codelineno-21-98" name="__codelineno-21-98" href="#__codelineno-21-98"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="w"> </span><span class="n">numel</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-21-99" name="__codelineno-21-99" href="#__codelineno-21-99"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-21-100" name="__codelineno-21-100" href="#__codelineno-21-100"></a><span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">data_ptr</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-21-101" name="__codelineno-21-101" href="#__codelineno-21-101"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-21-102" name="__codelineno-21-102" href="#__codelineno-21-102"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-21-103" name="__codelineno-21-103" href="#__codelineno-21-103"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<a id="__codelineno-21-104" name="__codelineno-21-104" href="#__codelineno-21-104"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-21-105" name="__codelineno-21-105" href="#__codelineno-21-105"></a>
<a id="__codelineno-21-106" name="__codelineno-21-106" href="#__codelineno-21-106"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-21-107" name="__codelineno-21-107" href="#__codelineno-21-107"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-21-108" name="__codelineno-21-108" href="#__codelineno-21-108"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;pass&quot;</span><span class="p">);</span>
<a id="__codelineno-21-109" name="__codelineno-21-109" href="#__codelineno-21-109"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-21-110" name="__codelineno-21-110" href="#__codelineno-21-110"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-21-111" name="__codelineno-21-111" href="#__codelineno-21-111"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-21-112" name="__codelineno-21-112" href="#__codelineno-21-112"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;fail&quot;</span><span class="p">);</span>
<a id="__codelineno-21-113" name="__codelineno-21-113" href="#__codelineno-21-113"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-21-114" name="__codelineno-21-114" href="#__codelineno-21-114"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-115" name="__codelineno-21-115" href="#__codelineno-21-115"></a><span class="p">}</span>
</code></pre></div>
</details>
<h2 id="peripheral-device_1">Peripheral Device<a class="headerlink" href="#peripheral-device_1" title="Permanent link"></a></h2>
<p>A more direct method for testing the <abbr title="Serial Peripheral Interface">SPI</abbr> interface is with an actual <abbr title="Serial Peripheral Interface">SPI</abbr> device.</p>
<h3 id="bme688-environmental-sensor">BME688 Environmental Sensor<a class="headerlink" href="#bme688-environmental-sensor" title="Permanent link"></a></h3>
<p>Users are free to utilize any hardware they already have; however, we recommend the <a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">BME688 environmental sensor</a>, below. Its <abbr title="Serial Peripheral Interface">SPI</abbr> pins are broken out on the edge of the board and can be easily connected to the RA6M5 Thing Plus. In addition, a <a href="https://learn.sparkfun.com/tutorials/1168" target="_blank" rel="noopener">hookup guide</a> and <a href="https://github.com/BoschSensortec/Bosch-BME68x-Library" target="_blank" rel="noopener">Arduino library</a> for the sensor are available.</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/6/9/6/19096-SparkFun_Environmental_Sensor_Breakout_-_BME688__Qwiic_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Environmental Sensor - BME688 (Qwiic)</strong><br>
SEN-19096</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/501" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/3/4/1/00501-1.jpg">
    </figure></p>
<hr />
<p><strong>IC Hook Test Leads</strong><br>
CAB-00501</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/11375" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/7/1/2/0/11375-Hook-Up_Wire_-_Assortment__Solid_Core__22_AWG_-01.jpg">
    </figure></p>
<hr />
<p><strong>Hook-Up Wire - Assortment (Stranded, 22 AWG)</strong><br>
PRT-11375</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9325" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/8/7/3/09325_9161-Solder_Lead_Free_-_100-gram_Spool-01.jpg">
    </figure></p>
<hr />
<p><strong>Solder Lead Free - 100-gram Spool</strong><br>
TOL-09325</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/24063" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/3/8/5/KIT-24063-PINECIL-Soldering-Iron-Kit-Feature.jpg">
    </figure></p>
<hr />
<p><strong>PINECIL Soldering Iron Kit</strong><br>
KIT-24063</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/9200" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/6/4/6/09200-Hobby_Knife-01.jpg">
    </figure></p>
<hr />
<p><strong>Hobby Knife</strong><br>
TOL-09200</a></p>
</li>
</ul>
</div>
</details>
<details class="arduino">
<summary>Install Arduino Library</summary>
<p>Users will need to install the <a href="https://github.com/BoschSensortec/Bosch-BME68x-Library" target="_blank" rel="noopener">Bosch BME68x Arduino library</a> for the sensor. In the Arduino IDE, users can install it by searching for <code>BME68x Sensor Library</code>, in the <strong>Library Manager</strong>:</p>
<div class="highlight"><pre><span></span><code>BME68x Sensor Library
</code></pre></div>
</details>
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>BME68x Sensor library</strong> &gt; <strong>forced_mode</strong> drop-down menu. <em>For more details on utilizing the BME68x breakout board, please refer to our <a href="https://learn.sparkfun.com/tutorials/1168" target="_blank" rel="noopener">hookup guide</a> for the sensor.</em></p>
<details class="code">
<summary><code>forced_mode.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="cm">/**</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="cm"> * Copyright (C) 2021 Bosch Sensortec GmbH</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="cm"> *</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="cm"> * SPDX-License-Identifier: BSD-3-Clause</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="cm"> * </span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="cm"> */</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;Arduino.h&quot;</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;bme68xLibrary.h&quot;</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="cp">#ifndef PIN_CS</span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="cp">#define PIN_CS SS</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="cp">#endif</span>
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="n">Bme68x</span><span class="w"> </span><span class="n">bme</span><span class="p">;</span>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="cm">/**</span>
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="cm"> * @brief Initializes the sensor and hardware settings</span>
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="cm"> */</span>
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="p">{</span>
<a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a><span class="w">    </span><span class="n">SPI</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
<a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a>
<a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span>
<a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a><span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a>
<a id="__codelineno-22-28" name="__codelineno-22-28" href="#__codelineno-22-28"></a><span class="w">    </span><span class="cm">/* initializes the sensor based on SPI library */</span>
<a id="__codelineno-22-29" name="__codelineno-22-29" href="#__codelineno-22-29"></a><span class="w">    </span><span class="n">bme</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">PIN_CS</span><span class="p">,</span><span class="w"> </span><span class="n">SPI</span><span class="p">);</span>
<a id="__codelineno-22-30" name="__codelineno-22-30" href="#__codelineno-22-30"></a>
<a id="__codelineno-22-31" name="__codelineno-22-31" href="#__codelineno-22-31"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">checkStatus</span><span class="p">())</span>
<a id="__codelineno-22-32" name="__codelineno-22-32" href="#__codelineno-22-32"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-22-33" name="__codelineno-22-33" href="#__codelineno-22-33"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">checkStatus</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BME68X_ERROR</span><span class="p">)</span>
<a id="__codelineno-22-34" name="__codelineno-22-34" href="#__codelineno-22-34"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-22-35" name="__codelineno-22-35" href="#__codelineno-22-35"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Sensor error:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bme</span><span class="p">.</span><span class="n">statusString</span><span class="p">());</span>
<a id="__codelineno-22-36" name="__codelineno-22-36" href="#__codelineno-22-36"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-22-37" name="__codelineno-22-37" href="#__codelineno-22-37"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-22-38" name="__codelineno-22-38" href="#__codelineno-22-38"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">checkStatus</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BME68X_WARNING</span><span class="p">)</span>
<a id="__codelineno-22-39" name="__codelineno-22-39" href="#__codelineno-22-39"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-22-40" name="__codelineno-22-40" href="#__codelineno-22-40"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Sensor Warning:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bme</span><span class="p">.</span><span class="n">statusString</span><span class="p">());</span>
<a id="__codelineno-22-41" name="__codelineno-22-41" href="#__codelineno-22-41"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-22-42" name="__codelineno-22-42" href="#__codelineno-22-42"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-22-43" name="__codelineno-22-43" href="#__codelineno-22-43"></a>
<a id="__codelineno-22-44" name="__codelineno-22-44" href="#__codelineno-22-44"></a><span class="w">    </span><span class="cm">/* Set the default configuration for temperature, pressure and humidity */</span>
<a id="__codelineno-22-45" name="__codelineno-22-45" href="#__codelineno-22-45"></a><span class="w">    </span><span class="n">bme</span><span class="p">.</span><span class="n">setTPH</span><span class="p">();</span>
<a id="__codelineno-22-46" name="__codelineno-22-46" href="#__codelineno-22-46"></a>
<a id="__codelineno-22-47" name="__codelineno-22-47" href="#__codelineno-22-47"></a><span class="w">    </span><span class="cm">/* Set the heater configuration to 300 deg C for 100ms for Forced mode */</span>
<a id="__codelineno-22-48" name="__codelineno-22-48" href="#__codelineno-22-48"></a><span class="w">    </span><span class="n">bme</span><span class="p">.</span><span class="n">setHeaterProf</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-22-49" name="__codelineno-22-49" href="#__codelineno-22-49"></a>
<a id="__codelineno-22-50" name="__codelineno-22-50" href="#__codelineno-22-50"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;TimeStamp(ms), Temperature(deg C), Pressure(Pa), Humidity(%), Gas resistance(ohm), Status&quot;</span><span class="p">);</span>
<a id="__codelineno-22-51" name="__codelineno-22-51" href="#__codelineno-22-51"></a><span class="p">}</span>
<a id="__codelineno-22-52" name="__codelineno-22-52" href="#__codelineno-22-52"></a>
<a id="__codelineno-22-53" name="__codelineno-22-53" href="#__codelineno-22-53"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-22-54" name="__codelineno-22-54" href="#__codelineno-22-54"></a><span class="p">{</span>
<a id="__codelineno-22-55" name="__codelineno-22-55" href="#__codelineno-22-55"></a><span class="w">    </span><span class="n">bme68xData</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-22-56" name="__codelineno-22-56" href="#__codelineno-22-56"></a>
<a id="__codelineno-22-57" name="__codelineno-22-57" href="#__codelineno-22-57"></a><span class="w">    </span><span class="n">bme</span><span class="p">.</span><span class="n">setOpMode</span><span class="p">(</span><span class="n">BME68X_FORCED_MODE</span><span class="p">);</span>
<a id="__codelineno-22-58" name="__codelineno-22-58" href="#__codelineno-22-58"></a><span class="w">    </span><span class="n">delayMicroseconds</span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">getMeasDur</span><span class="p">());</span>
<a id="__codelineno-22-59" name="__codelineno-22-59" href="#__codelineno-22-59"></a>
<a id="__codelineno-22-60" name="__codelineno-22-60" href="#__codelineno-22-60"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">fetchData</span><span class="p">())</span>
<a id="__codelineno-22-61" name="__codelineno-22-61" href="#__codelineno-22-61"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-22-62" name="__codelineno-22-62" href="#__codelineno-22-62"></a><span class="w">        </span><span class="n">bme</span><span class="p">.</span><span class="n">getData</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-22-63" name="__codelineno-22-63" href="#__codelineno-22-63"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">millis</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-22-64" name="__codelineno-22-64" href="#__codelineno-22-64"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">temperature</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-22-65" name="__codelineno-22-65" href="#__codelineno-22-65"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">pressure</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-22-66" name="__codelineno-22-66" href="#__codelineno-22-66"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">humidity</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-22-67" name="__codelineno-22-67" href="#__codelineno-22-67"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">gas_resistance</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-22-68" name="__codelineno-22-68" href="#__codelineno-22-68"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">HEX</span><span class="p">);</span>
<a id="__codelineno-22-69" name="__codelineno-22-69" href="#__codelineno-22-69"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-22-70" name="__codelineno-22-70" href="#__codelineno-22-70"></a><span class="p">}</span>
</code></pre></div>
</details>
<h1 id="examples-i2c-bus">Examples - I<sup>2</sup>C Bus<a class="headerlink" href="#examples-i2c-bus" title="Permanent link"></a></h1>
<h2 id="device-scan">Device Scan<a class="headerlink" href="#device-scan" title="Permanent link"></a></h2>
<p>This sketch allows users to scan for devices connected to the primary I<sup>2</sup>C bus of the RAM5 Thing Plus. The example code can be found in the <a href="https://github.com/sparkfun/SparkFun_Thing_Plus_RA6M5/tree/main/docs/assets/arduino_examples/i2c_scanner/i2c_scanner.ino" target="_blank" rel="noopener">GitHub repository</a>. However, users can also simply click on the button <em>(below)</em>, to download the code; or expand the box <em>(below)</em>, to copy the code.</p>
<details class="code">
<summary><code>i2c_scanner.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1">// --------------------------------------</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="c1">// i2c_scanner</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="c1">//</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c1">// Modified from https://playground.arduino.cc/Main/I2cScanner/</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="c1">// --------------------------------------</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Wire.h&gt;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="c1">// Set I2C bus to use: Wire, Wire1, etc.</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="cp">#define WIRE Wire</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="kt">int</span><span class="w"> </span><span class="n">toggle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">  </span><span class="n">WIRE</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span>
<a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">I2C Scanner&quot;</span><span class="p">);</span>
<a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="p">}</span>
<a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a>
<a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a>
<a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">toggle</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a><span class="w">    </span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a><span class="w">    </span><span class="n">toggle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a><span class="w">    </span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-23-32" name="__codelineno-23-32" href="#__codelineno-23-32"></a><span class="w">    </span><span class="n">toggle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-23-33" name="__codelineno-23-33" href="#__codelineno-23-33"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-23-34" name="__codelineno-23-34" href="#__codelineno-23-34"></a>
<a id="__codelineno-23-35" name="__codelineno-23-35" href="#__codelineno-23-35"></a>
<a id="__codelineno-23-36" name="__codelineno-23-36" href="#__codelineno-23-36"></a><span class="w">  </span><span class="n">byte</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">;</span>
<a id="__codelineno-23-37" name="__codelineno-23-37" href="#__codelineno-23-37"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">nDevices</span><span class="p">;</span>
<a id="__codelineno-23-38" name="__codelineno-23-38" href="#__codelineno-23-38"></a>
<a id="__codelineno-23-39" name="__codelineno-23-39" href="#__codelineno-23-39"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Scanning...&quot;</span><span class="p">);</span>
<a id="__codelineno-23-40" name="__codelineno-23-40" href="#__codelineno-23-40"></a>
<a id="__codelineno-23-41" name="__codelineno-23-41" href="#__codelineno-23-41"></a><span class="w">  </span><span class="n">nDevices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-23-42" name="__codelineno-23-42" href="#__codelineno-23-42"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">127</span><span class="p">;</span><span class="w"> </span><span class="n">address</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-43" name="__codelineno-23-43" href="#__codelineno-23-43"></a><span class="w">    </span><span class="c1">// The i2c_scanner uses the return value of</span>
<a id="__codelineno-23-44" name="__codelineno-23-44" href="#__codelineno-23-44"></a><span class="w">    </span><span class="c1">// the Write.endTransmisstion to see if</span>
<a id="__codelineno-23-45" name="__codelineno-23-45" href="#__codelineno-23-45"></a><span class="w">    </span><span class="c1">// a device did acknowledge to the address.</span>
<a id="__codelineno-23-46" name="__codelineno-23-46" href="#__codelineno-23-46"></a><span class="w">    </span><span class="n">WIRE</span><span class="p">.</span><span class="n">beginTransmission</span><span class="p">(</span><span class="n">address</span><span class="p">);</span>
<a id="__codelineno-23-47" name="__codelineno-23-47" href="#__codelineno-23-47"></a><span class="w">    </span><span class="n">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WIRE</span><span class="p">.</span><span class="n">endTransmission</span><span class="p">();</span>
<a id="__codelineno-23-48" name="__codelineno-23-48" href="#__codelineno-23-48"></a>
<a id="__codelineno-23-49" name="__codelineno-23-49" href="#__codelineno-23-49"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-50" name="__codelineno-23-50" href="#__codelineno-23-50"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;I2C device found at address 0x&quot;</span><span class="p">);</span>
<a id="__codelineno-23-51" name="__codelineno-23-51" href="#__codelineno-23-51"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
<a id="__codelineno-23-52" name="__codelineno-23-52" href="#__codelineno-23-52"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">);</span>
<a id="__codelineno-23-53" name="__codelineno-23-53" href="#__codelineno-23-53"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">HEX</span><span class="p">);</span>
<a id="__codelineno-23-54" name="__codelineno-23-54" href="#__codelineno-23-54"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;  !&quot;</span><span class="p">);</span>
<a id="__codelineno-23-55" name="__codelineno-23-55" href="#__codelineno-23-55"></a>
<a id="__codelineno-23-56" name="__codelineno-23-56" href="#__codelineno-23-56"></a><span class="w">      </span><span class="n">nDevices</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-23-57" name="__codelineno-23-57" href="#__codelineno-23-57"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-58" name="__codelineno-23-58" href="#__codelineno-23-58"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Unknown error at address 0x&quot;</span><span class="p">);</span>
<a id="__codelineno-23-59" name="__codelineno-23-59" href="#__codelineno-23-59"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
<a id="__codelineno-23-60" name="__codelineno-23-60" href="#__codelineno-23-60"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">);</span>
<a id="__codelineno-23-61" name="__codelineno-23-61" href="#__codelineno-23-61"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">HEX</span><span class="p">);</span>
<a id="__codelineno-23-62" name="__codelineno-23-62" href="#__codelineno-23-62"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-23-63" name="__codelineno-23-63" href="#__codelineno-23-63"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-23-64" name="__codelineno-23-64" href="#__codelineno-23-64"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nDevices</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-23-65" name="__codelineno-23-65" href="#__codelineno-23-65"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;No I2C devices found</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-23-66" name="__codelineno-23-66" href="#__codelineno-23-66"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-23-67" name="__codelineno-23-67" href="#__codelineno-23-67"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;done</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-23-68" name="__codelineno-23-68" href="#__codelineno-23-68"></a>
<a id="__codelineno-23-69" name="__codelineno-23-69" href="#__codelineno-23-69"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">700</span><span class="p">);</span><span class="w">  </span><span class="c1">// wait 5 seconds for next scan</span>
<a id="__codelineno-23-70" name="__codelineno-23-70" href="#__codelineno-23-70"></a><span class="p">}</span>
</code></pre></div>
</details>
<p><center>
<a class="md-button md-button--primary" href="../assets/arduino_examples/i2c_scanner/i2c_scanner.ino"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"/></svg></span> Download the Example Sketch</a>
</center></p>
<h2 id="peripheral-devices">Peripheral Devices<a class="headerlink" href="#peripheral-devices" title="Permanent link"></a></h2>
<p>The RA6M5 Thing Plus features a Qwiic connector to seamlessly integrate with devices from <a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">SparkFun's Qwiic Ecosystem</a>. While users are free to utilize any I<sup>2</sup>C device, we recommend the <a href="https://www.sparkfun.com/categories/399" target="_blank" rel="noopener">Qwiic devices</a> from our catalog.</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/15081" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/4/3/1/15081-_01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Cable Kit</strong><br>
KIT-15081</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/15109" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/4/7/5/15109-Qwiic_Cable_-_Grove_Adapter__150mm_-01.jpg">
    </figure></p>
<hr />
<p><strong>Qwiic Cable - Grove Adapter (100mm)</strong><br>
PRT-15109</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/23453" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/3/7/6/0/23453-Qwiic-OLED-Feature-WithDisplay.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic OLED - (1.3in., 128x64)</strong><br>
LCD-23453</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/14414" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/2/3/4/0/14414-SparkFun_GPS_Breakout_-_XA1110__Qwiic_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun <abbr title="Global Positioning System">GPS</abbr> Breakout - XA1110 (Qwiic)</strong><br>
<abbr title="Global Positioning System">GPS</abbr>-14414</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/15168" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/5/5/8/15168-SparkFun_Qwiic_Joystick-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Joystick</strong><br>
COM-15168</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/16784" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/5/6/8/9/16784-SparkFun_Qwiic_Mux_Breakout_V2_-_8_Channel__TCA9548A_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Mux Breakout - 8 Channel (TCA9548A)</strong><br>
BOB-16784</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/6/9/6/19096-SparkFun_Environmental_Sensor_Breakout_-_BME688__Qwiic_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Environmental Sensor - BME688 (Qwiic)</strong><br>
SEN-19096</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/19013" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/6/1/2/19013-SparkFun_Qwiic_Mini_ToF_Imager_-_VL53L5CX-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Mini ToF Imager - VL53L5CX</strong><br>
SEN-19013</a></p>
</li>
</ul>
</div>
</details>
<h3 id="max17048-fuel-gauge_1">MAX17048 Fuel Gauge<a class="headerlink" href="#max17048-fuel-gauge_1" title="Permanent link"></a></h3>
<p>The MAX17048 fuel gauge measures the approximate charge/discharge rate, state of charge, and voltage of a connected <abbr title="Lithium-Ion Polymer">LiPo</abbr> battery. We recommend the <a href="https://github.com/sparkfun/SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library" target="_blank" rel="noopener">SparkFun MAX1704x Arduino library</a> be utilized in the Arduino IDE, to connect to the MAX17048 on the RA6M5 Thing Plus. Once the <a href="../software_overview-arduino/#max17048-fuel-gauge">library is installed in the Arduino IDE</a>, users will find several example sketches listed in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>SparkFun MAX1704x Fuel Gauge Arduino Library</strong> &gt; drop-down menu. We recommend the following examples for users:</p>
<ul>
<li><code>Example1_Simple.ino</code></li>
<li><code>Example4_MAX17048_KitchenSink.ino</code></li>
</ul>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/13855" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/4/6/2/13855-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Lithium Ion Battery - 2Ah</strong><br>
PRT-13855</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/13851" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/4/5/8/13857-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Lithium Ion Battery - 400mAh</strong><br>
PRT-13851</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/13813" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/4/0/1/13813-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Lithium Ion Battery - 1Ah</strong><br>
PRT-13813</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/13853" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/r/140-140/assets/parts/1/1/4/6/0/13853-01.jpg">
    </figure>       </p>
<hr />
<p><strong>Lithium Ion Battery - 110mAh</strong><br>
PRT-13853</a></p>
</li>
</ul>
</div>
</details>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="example1_simpleino" name="__tabbed_14" type="radio" /><input id="example4_max17048_kitchensinkino" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="example1_simpleino"><code>Example1_Simple.ino</code></label><label for="example4_max17048_kitchensinkino"><code>Example4_MAX17048_KitchenSink.ino</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>SparkFun MAX1704x Fuel Gauge Arduino Library</strong> &gt; <strong>Example1_Simple</strong> drop-down menu.</p>
<details class="code">
<summary><code>Example1_Simple.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="cm">/******************************************************************************</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="cm">Example1_Simple</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="cm">By: Paul Clark</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="cm">Date: October 23rd 2020</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="cm">Based extensively on:</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="cm">MAX17043_Simple_Serial.cpp</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="cm">SparkFun MAX17043 Example Code</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="cm">Jim Lindblom @ SparkFun Electronics</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="cm">Original Creation Date: June 22, 2015</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="cm">This file demonstrates the simple API of the SparkFun MAX17043 Arduino library.</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="cm">This example will print the gauge&#39;s voltage and state-of-charge (SOC) readings</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="cm">to Serial (115200 baud)</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="cm">This code is released under the MIT license.</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="cm">Distributed as-is; no warranty is given.</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="cm">******************************************************************************/</span>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Wire.h&gt;</span><span class="c1"> // Needed for I2C</span>
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a>
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library.h&gt;</span><span class="c1"> // Click here to get the library: http://librarymanager/All#SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library</span>
<a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a>
<a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a><span class="n">SFE_MAX1704X</span><span class="w"> </span><span class="n">lipo</span><span class="p">;</span><span class="w"> </span><span class="c1">// Defaults to the MAX17043</span>
<a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a>
<a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a><span class="c1">//SFE_MAX1704X lipo(MAX1704X_MAX17043); // Create a MAX17043</span>
<a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a><span class="c1">//SFE_MAX1704X lipo(MAX1704X_MAX17044); // Create a MAX17044</span>
<a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a><span class="c1">//SFE_MAX1704X lipo(MAX1704X_MAX17048); // Create a MAX17048</span>
<a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a><span class="c1">//SFE_MAX1704X lipo(MAX1704X_MAX17049); // Create a MAX17049</span>
<a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a>
<a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a><span class="kt">double</span><span class="w"> </span><span class="n">voltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Variable to keep track of LiPo voltage</span>
<a id="__codelineno-24-34" name="__codelineno-24-34" href="#__codelineno-24-34"></a><span class="kt">double</span><span class="w"> </span><span class="n">soc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Variable to keep track of LiPo state-of-charge (SOC)</span>
<a id="__codelineno-24-35" name="__codelineno-24-35" href="#__codelineno-24-35"></a><span class="kt">bool</span><span class="w"> </span><span class="n">alert</span><span class="p">;</span><span class="w"> </span><span class="c1">// Variable to keep track of whether alert has been triggered</span>
<a id="__codelineno-24-36" name="__codelineno-24-36" href="#__codelineno-24-36"></a>
<a id="__codelineno-24-37" name="__codelineno-24-37" href="#__codelineno-24-37"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-24-38" name="__codelineno-24-38" href="#__codelineno-24-38"></a><span class="p">{</span>
<a id="__codelineno-24-39" name="__codelineno-24-39" href="#__codelineno-24-39"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span><span class="w"> </span><span class="c1">// Start serial, to output debug data</span>
<a id="__codelineno-24-40" name="__codelineno-24-40" href="#__codelineno-24-40"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span>
<a id="__codelineno-24-41" name="__codelineno-24-41" href="#__codelineno-24-41"></a><span class="w">    </span><span class="p">;</span><span class="w"> </span><span class="c1">//Wait for user to open terminal</span>
<a id="__codelineno-24-42" name="__codelineno-24-42" href="#__codelineno-24-42"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;MAX17043 Example&quot;</span><span class="p">));</span>
<a id="__codelineno-24-43" name="__codelineno-24-43" href="#__codelineno-24-43"></a>
<a id="__codelineno-24-44" name="__codelineno-24-44" href="#__codelineno-24-44"></a><span class="w">  </span><span class="n">Wire</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-24-45" name="__codelineno-24-45" href="#__codelineno-24-45"></a>
<a id="__codelineno-24-46" name="__codelineno-24-46" href="#__codelineno-24-46"></a><span class="w">  </span><span class="n">lipo</span><span class="p">.</span><span class="n">enableDebugging</span><span class="p">();</span><span class="w"> </span><span class="c1">// Uncomment this line to enable helpful debug messages on Serial</span>
<a id="__codelineno-24-47" name="__codelineno-24-47" href="#__codelineno-24-47"></a>
<a id="__codelineno-24-48" name="__codelineno-24-48" href="#__codelineno-24-48"></a><span class="w">  </span><span class="c1">// Set up the MAX17043 LiPo fuel gauge:</span>
<a id="__codelineno-24-49" name="__codelineno-24-49" href="#__codelineno-24-49"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="c1">// Connect to the MAX17043 using the default wire port</span>
<a id="__codelineno-24-50" name="__codelineno-24-50" href="#__codelineno-24-50"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-24-51" name="__codelineno-24-51" href="#__codelineno-24-51"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;MAX17043 not detected. Please check wiring. Freezing.&quot;</span><span class="p">));</span>
<a id="__codelineno-24-52" name="__codelineno-24-52" href="#__codelineno-24-52"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-24-53" name="__codelineno-24-53" href="#__codelineno-24-53"></a><span class="w">      </span><span class="p">;</span>
<a id="__codelineno-24-54" name="__codelineno-24-54" href="#__codelineno-24-54"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-24-55" name="__codelineno-24-55" href="#__codelineno-24-55"></a>
<a id="__codelineno-24-56" name="__codelineno-24-56" href="#__codelineno-24-56"></a><span class="w">    </span><span class="c1">// Quick start restarts the MAX17043 in hopes of getting a more accurate</span>
<a id="__codelineno-24-57" name="__codelineno-24-57" href="#__codelineno-24-57"></a><span class="w">    </span><span class="c1">// guess for the SOC.</span>
<a id="__codelineno-24-58" name="__codelineno-24-58" href="#__codelineno-24-58"></a><span class="w">    </span><span class="n">lipo</span><span class="p">.</span><span class="n">quickStart</span><span class="p">();</span>
<a id="__codelineno-24-59" name="__codelineno-24-59" href="#__codelineno-24-59"></a>
<a id="__codelineno-24-60" name="__codelineno-24-60" href="#__codelineno-24-60"></a><span class="w">    </span><span class="c1">// We can set an interrupt to alert when the battery SoC gets too low.</span>
<a id="__codelineno-24-61" name="__codelineno-24-61" href="#__codelineno-24-61"></a><span class="w">    </span><span class="c1">// We can alert at anywhere between 1% - 32%:</span>
<a id="__codelineno-24-62" name="__codelineno-24-62" href="#__codelineno-24-62"></a><span class="w">    </span><span class="n">lipo</span><span class="p">.</span><span class="n">setThreshold</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set alert threshold to 20%.</span>
<a id="__codelineno-24-63" name="__codelineno-24-63" href="#__codelineno-24-63"></a><span class="p">}</span>
<a id="__codelineno-24-64" name="__codelineno-24-64" href="#__codelineno-24-64"></a>
<a id="__codelineno-24-65" name="__codelineno-24-65" href="#__codelineno-24-65"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-24-66" name="__codelineno-24-66" href="#__codelineno-24-66"></a><span class="p">{</span>
<a id="__codelineno-24-67" name="__codelineno-24-67" href="#__codelineno-24-67"></a><span class="w">  </span><span class="c1">// lipo.getVoltage() returns a voltage value (e.g. 3.93)</span>
<a id="__codelineno-24-68" name="__codelineno-24-68" href="#__codelineno-24-68"></a><span class="w">  </span><span class="n">voltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lipo</span><span class="p">.</span><span class="n">getVoltage</span><span class="p">();</span>
<a id="__codelineno-24-69" name="__codelineno-24-69" href="#__codelineno-24-69"></a><span class="w">  </span><span class="c1">// lipo.getSOC() returns the estimated state of charge (e.g. 79%)</span>
<a id="__codelineno-24-70" name="__codelineno-24-70" href="#__codelineno-24-70"></a><span class="w">  </span><span class="n">soc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lipo</span><span class="p">.</span><span class="n">getSOC</span><span class="p">();</span>
<a id="__codelineno-24-71" name="__codelineno-24-71" href="#__codelineno-24-71"></a><span class="w">  </span><span class="c1">// lipo.getAlert() returns a 0 or 1 (0=alert not triggered)</span>
<a id="__codelineno-24-72" name="__codelineno-24-72" href="#__codelineno-24-72"></a><span class="w">  </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lipo</span><span class="p">.</span><span class="n">getAlert</span><span class="p">();</span>
<a id="__codelineno-24-73" name="__codelineno-24-73" href="#__codelineno-24-73"></a>
<a id="__codelineno-24-74" name="__codelineno-24-74" href="#__codelineno-24-74"></a><span class="w">  </span><span class="c1">// Print the variables:</span>
<a id="__codelineno-24-75" name="__codelineno-24-75" href="#__codelineno-24-75"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Voltage: &quot;</span><span class="p">);</span>
<a id="__codelineno-24-76" name="__codelineno-24-76" href="#__codelineno-24-76"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">voltage</span><span class="p">);</span><span class="w">  </span><span class="c1">// Print the battery voltage</span>
<a id="__codelineno-24-77" name="__codelineno-24-77" href="#__codelineno-24-77"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; V&quot;</span><span class="p">);</span>
<a id="__codelineno-24-78" name="__codelineno-24-78" href="#__codelineno-24-78"></a>
<a id="__codelineno-24-79" name="__codelineno-24-79" href="#__codelineno-24-79"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Percentage: &quot;</span><span class="p">);</span>
<a id="__codelineno-24-80" name="__codelineno-24-80" href="#__codelineno-24-80"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">soc</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the battery state of charge</span>
<a id="__codelineno-24-81" name="__codelineno-24-81" href="#__codelineno-24-81"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; %&quot;</span><span class="p">);</span>
<a id="__codelineno-24-82" name="__codelineno-24-82" href="#__codelineno-24-82"></a>
<a id="__codelineno-24-83" name="__codelineno-24-83" href="#__codelineno-24-83"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Alert: &quot;</span><span class="p">);</span>
<a id="__codelineno-24-84" name="__codelineno-24-84" href="#__codelineno-24-84"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">alert</span><span class="p">);</span>
<a id="__codelineno-24-85" name="__codelineno-24-85" href="#__codelineno-24-85"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-24-86" name="__codelineno-24-86" href="#__codelineno-24-86"></a>
<a id="__codelineno-24-87" name="__codelineno-24-87" href="#__codelineno-24-87"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-24-88" name="__codelineno-24-88" href="#__codelineno-24-88"></a><span class="p">}</span>
</code></pre></div>
</details>
</div>
<div class="tabbed-block">
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>SparkFun MAX1704x Fuel Gauge Arduino Library</strong> &gt; <strong>Example4_MAX17048_KitchenSink</strong> drop-down menu.</p>
<details class="code">
<summary><code>Example4_MAX17048_KitchenSink.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="cm">/******************************************************************************</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="cm">Example4: test all the things on the MAX17048</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="cm">By: Paul Clark, SparkFun Electronics</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="cm">Date: October 23rd 2020</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="cm">This example is an everything-but-the-kitchen-sink test of the MAX17048.</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="cm">This code is released under the MIT license.</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="cm">Distributed as-is; no warranty is given.</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="cm">******************************************************************************/</span>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Wire.h&gt;</span><span class="c1"> // Needed for I2C</span>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library.h&gt;</span><span class="c1"> // Click here to get the library: http://librarymanager/All#SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library</span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a>
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="n">SFE_MAX1704X</span><span class="w"> </span><span class="nf">lipo</span><span class="p">(</span><span class="n">MAX1704X_MAX17048</span><span class="p">);</span><span class="w"> </span><span class="c1">// Create a MAX17048</span>
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a>
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a><span class="p">{</span>
<a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span><span class="w"> </span><span class="c1">// Start serial, to output debug data</span>
<a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span>
<a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a><span class="w">    </span><span class="p">;</span><span class="w"> </span><span class="c1">//Wait for user to open terminal</span>
<a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;MAX17048 Example&quot;</span><span class="p">));</span>
<a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a>
<a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a><span class="w">  </span><span class="n">Wire</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a>
<a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a><span class="w">  </span><span class="n">lipo</span><span class="p">.</span><span class="n">enableDebugging</span><span class="p">();</span><span class="w"> </span><span class="c1">// Uncomment this line to enable helpful debug messages on Serial</span>
<a id="__codelineno-25-29" name="__codelineno-25-29" href="#__codelineno-25-29"></a>
<a id="__codelineno-25-30" name="__codelineno-25-30" href="#__codelineno-25-30"></a><span class="w">  </span><span class="c1">// Set up the MAX17048 LiPo fuel gauge:</span>
<a id="__codelineno-25-31" name="__codelineno-25-31" href="#__codelineno-25-31"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="c1">// Connect to the MAX17048 using the default wire port</span>
<a id="__codelineno-25-32" name="__codelineno-25-32" href="#__codelineno-25-32"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-25-33" name="__codelineno-25-33" href="#__codelineno-25-33"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;MAX17048 not detected. Please check wiring. Freezing.&quot;</span><span class="p">));</span>
<a id="__codelineno-25-34" name="__codelineno-25-34" href="#__codelineno-25-34"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-25-35" name="__codelineno-25-35" href="#__codelineno-25-35"></a><span class="w">      </span><span class="p">;</span>
<a id="__codelineno-25-36" name="__codelineno-25-36" href="#__codelineno-25-36"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-25-37" name="__codelineno-25-37" href="#__codelineno-25-37"></a>
<a id="__codelineno-25-38" name="__codelineno-25-38" href="#__codelineno-25-38"></a><span class="w">  </span><span class="c1">// Just because we can, let&#39;s reset the MAX17048</span>
<a id="__codelineno-25-39" name="__codelineno-25-39" href="#__codelineno-25-39"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Resetting the MAX17048...&quot;</span><span class="p">));</span>
<a id="__codelineno-25-40" name="__codelineno-25-40" href="#__codelineno-25-40"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Give it time to get its act back together</span>
<a id="__codelineno-25-41" name="__codelineno-25-41" href="#__codelineno-25-41"></a>
<a id="__codelineno-25-42" name="__codelineno-25-42" href="#__codelineno-25-42"></a><span class="w">  </span><span class="c1">// Read and print the reset indicator</span>
<a id="__codelineno-25-43" name="__codelineno-25-43" href="#__codelineno-25-43"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Reset Indicator was: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-44" name="__codelineno-25-44" href="#__codelineno-25-44"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">RI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lipo</span><span class="p">.</span><span class="n">isReset</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span><span class="w"> </span><span class="c1">// Read the RI flag and clear it automatically if it is set</span>
<a id="__codelineno-25-45" name="__codelineno-25-45" href="#__codelineno-25-45"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">RI</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the RI</span>
<a id="__codelineno-25-46" name="__codelineno-25-46" href="#__codelineno-25-46"></a><span class="w">  </span><span class="c1">// If RI was set, check it is now clear</span>
<a id="__codelineno-25-47" name="__codelineno-25-47" href="#__codelineno-25-47"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">RI</span><span class="p">)</span>
<a id="__codelineno-25-48" name="__codelineno-25-48" href="#__codelineno-25-48"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-25-49" name="__codelineno-25-49" href="#__codelineno-25-49"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Reset Indicator is now: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-50" name="__codelineno-25-50" href="#__codelineno-25-50"></a><span class="w">    </span><span class="n">RI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lipo</span><span class="p">.</span><span class="n">isReset</span><span class="p">();</span><span class="w"> </span><span class="c1">// Read the RI flag</span>
<a id="__codelineno-25-51" name="__codelineno-25-51" href="#__codelineno-25-51"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">RI</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the RI    </span>
<a id="__codelineno-25-52" name="__codelineno-25-52" href="#__codelineno-25-52"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-25-53" name="__codelineno-25-53" href="#__codelineno-25-53"></a>
<a id="__codelineno-25-54" name="__codelineno-25-54" href="#__codelineno-25-54"></a><span class="w">  </span><span class="c1">// To quick-start or not to quick-start? That is the question!</span>
<a id="__codelineno-25-55" name="__codelineno-25-55" href="#__codelineno-25-55"></a><span class="w">  </span><span class="c1">// Read the following and then decide if you do want to quick-start the fuel gauge.</span>
<a id="__codelineno-25-56" name="__codelineno-25-56" href="#__codelineno-25-56"></a><span class="w">  </span><span class="c1">// &quot;Most systems should not use quick-start because the ICs handle most startup problems transparently,</span>
<a id="__codelineno-25-57" name="__codelineno-25-57" href="#__codelineno-25-57"></a><span class="w">  </span><span class="c1">//  such as intermittent battery-terminal connection during insertion. If battery voltage stabilizes</span>
<a id="__codelineno-25-58" name="__codelineno-25-58" href="#__codelineno-25-58"></a><span class="w">  </span><span class="c1">//  faster than 17ms then do not use quick-start. The quick-start command restarts fuel-gauge calculations</span>
<a id="__codelineno-25-59" name="__codelineno-25-59" href="#__codelineno-25-59"></a><span class="w">  </span><span class="c1">//  in the same manner as initial power-up of the IC. If the system power-up sequence is so noisy that the</span>
<a id="__codelineno-25-60" name="__codelineno-25-60" href="#__codelineno-25-60"></a><span class="w">  </span><span class="c1">//  initial estimate of SOC has unacceptable error, the system microcontroller might be able to reduce the</span>
<a id="__codelineno-25-61" name="__codelineno-25-61" href="#__codelineno-25-61"></a><span class="w">  </span><span class="c1">//  error by using quick-start.&quot;</span>
<a id="__codelineno-25-62" name="__codelineno-25-62" href="#__codelineno-25-62"></a><span class="w">  </span><span class="c1">// If you still want to try a quick-start then uncomment the next line:</span>
<a id="__codelineno-25-63" name="__codelineno-25-63" href="#__codelineno-25-63"></a><span class="w">    </span><span class="c1">//lipo.quickStart();</span>
<a id="__codelineno-25-64" name="__codelineno-25-64" href="#__codelineno-25-64"></a>
<a id="__codelineno-25-65" name="__codelineno-25-65" href="#__codelineno-25-65"></a><span class="w">  </span><span class="c1">// Read and print the device ID</span>
<a id="__codelineno-25-66" name="__codelineno-25-66" href="#__codelineno-25-66"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Device ID: 0x&quot;</span><span class="p">));</span>
<a id="__codelineno-25-67" name="__codelineno-25-67" href="#__codelineno-25-67"></a><span class="w">  </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lipo</span><span class="p">.</span><span class="n">getID</span><span class="p">();</span><span class="w"> </span><span class="c1">// Read the device ID</span>
<a id="__codelineno-25-68" name="__codelineno-25-68" href="#__codelineno-25-68"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mh">0x10</span><span class="p">)</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// Print the leading zero if required</span>
<a id="__codelineno-25-69" name="__codelineno-25-69" href="#__codelineno-25-69"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">HEX</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the ID as hexadecimal</span>
<a id="__codelineno-25-70" name="__codelineno-25-70" href="#__codelineno-25-70"></a>
<a id="__codelineno-25-71" name="__codelineno-25-71" href="#__codelineno-25-71"></a><span class="w">  </span><span class="c1">// Read and print the device version</span>
<a id="__codelineno-25-72" name="__codelineno-25-72" href="#__codelineno-25-72"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Device version: 0x&quot;</span><span class="p">));</span>
<a id="__codelineno-25-73" name="__codelineno-25-73" href="#__codelineno-25-73"></a><span class="w">  </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">ver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lipo</span><span class="p">.</span><span class="n">getVersion</span><span class="p">();</span><span class="w"> </span><span class="c1">// Read the device version</span>
<a id="__codelineno-25-74" name="__codelineno-25-74" href="#__codelineno-25-74"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ver</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mh">0x10</span><span class="p">)</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// Print the leading zero if required</span>
<a id="__codelineno-25-75" name="__codelineno-25-75" href="#__codelineno-25-75"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ver</span><span class="p">,</span><span class="w"> </span><span class="n">HEX</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the version as hexadecimal</span>
<a id="__codelineno-25-76" name="__codelineno-25-76" href="#__codelineno-25-76"></a>
<a id="__codelineno-25-77" name="__codelineno-25-77" href="#__codelineno-25-77"></a><span class="w">  </span><span class="c1">// Read and print the battery threshold</span>
<a id="__codelineno-25-78" name="__codelineno-25-78" href="#__codelineno-25-78"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Battery empty threshold is currently: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-79" name="__codelineno-25-79" href="#__codelineno-25-79"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">getThreshold</span><span class="p">());</span>
<a id="__codelineno-25-80" name="__codelineno-25-80" href="#__codelineno-25-80"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;%&quot;</span><span class="p">));</span>
<a id="__codelineno-25-81" name="__codelineno-25-81" href="#__codelineno-25-81"></a>
<a id="__codelineno-25-82" name="__codelineno-25-82" href="#__codelineno-25-82"></a><span class="w">    </span><span class="c1">// We can set an interrupt to alert when the battery SoC gets too low.</span>
<a id="__codelineno-25-83" name="__codelineno-25-83" href="#__codelineno-25-83"></a><span class="w">    </span><span class="c1">// We can alert at anywhere between 1% and 32%:</span>
<a id="__codelineno-25-84" name="__codelineno-25-84" href="#__codelineno-25-84"></a><span class="w">    </span><span class="n">lipo</span><span class="p">.</span><span class="n">setThreshold</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set alert threshold to 20%.</span>
<a id="__codelineno-25-85" name="__codelineno-25-85" href="#__codelineno-25-85"></a>
<a id="__codelineno-25-86" name="__codelineno-25-86" href="#__codelineno-25-86"></a><span class="w">  </span><span class="c1">// Read and print the battery empty threshold</span>
<a id="__codelineno-25-87" name="__codelineno-25-87" href="#__codelineno-25-87"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Battery empty threshold is now: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-88" name="__codelineno-25-88" href="#__codelineno-25-88"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">getThreshold</span><span class="p">());</span>
<a id="__codelineno-25-89" name="__codelineno-25-89" href="#__codelineno-25-89"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;%&quot;</span><span class="p">));</span>
<a id="__codelineno-25-90" name="__codelineno-25-90" href="#__codelineno-25-90"></a>
<a id="__codelineno-25-91" name="__codelineno-25-91" href="#__codelineno-25-91"></a><span class="w">  </span><span class="c1">// Read and print the high voltage threshold</span>
<a id="__codelineno-25-92" name="__codelineno-25-92" href="#__codelineno-25-92"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;High voltage threshold is currently: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-93" name="__codelineno-25-93" href="#__codelineno-25-93"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">highVoltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">lipo</span><span class="p">.</span><span class="n">getVALRTMax</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.02</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1 LSb is 20mV. Convert to Volts.</span>
<a id="__codelineno-25-94" name="__codelineno-25-94" href="#__codelineno-25-94"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">highVoltage</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-25-95" name="__codelineno-25-95" href="#__codelineno-25-95"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">));</span>
<a id="__codelineno-25-96" name="__codelineno-25-96" href="#__codelineno-25-96"></a>
<a id="__codelineno-25-97" name="__codelineno-25-97" href="#__codelineno-25-97"></a><span class="w">  </span><span class="c1">// Set the high voltage threshold</span>
<a id="__codelineno-25-98" name="__codelineno-25-98" href="#__codelineno-25-98"></a><span class="w">  </span><span class="n">lipo</span><span class="p">.</span><span class="n">setVALRTMax</span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="mf">4.1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set high voltage threshold (Volts)</span>
<a id="__codelineno-25-99" name="__codelineno-25-99" href="#__codelineno-25-99"></a>
<a id="__codelineno-25-100" name="__codelineno-25-100" href="#__codelineno-25-100"></a><span class="w">  </span><span class="c1">// Read and print the high voltage threshold</span>
<a id="__codelineno-25-101" name="__codelineno-25-101" href="#__codelineno-25-101"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;High voltage threshold is now: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-102" name="__codelineno-25-102" href="#__codelineno-25-102"></a><span class="w">  </span><span class="n">highVoltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">lipo</span><span class="p">.</span><span class="n">getVALRTMax</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.02</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1 LSb is 20mV. Convert to Volts.</span>
<a id="__codelineno-25-103" name="__codelineno-25-103" href="#__codelineno-25-103"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">highVoltage</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-25-104" name="__codelineno-25-104" href="#__codelineno-25-104"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">));</span>
<a id="__codelineno-25-105" name="__codelineno-25-105" href="#__codelineno-25-105"></a>
<a id="__codelineno-25-106" name="__codelineno-25-106" href="#__codelineno-25-106"></a><span class="w">  </span><span class="c1">// Read and print the low voltage threshold</span>
<a id="__codelineno-25-107" name="__codelineno-25-107" href="#__codelineno-25-107"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Low voltage threshold is currently: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-108" name="__codelineno-25-108" href="#__codelineno-25-108"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">lowVoltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">lipo</span><span class="p">.</span><span class="n">getVALRTMin</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.02</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1 LSb is 20mV. Convert to Volts.</span>
<a id="__codelineno-25-109" name="__codelineno-25-109" href="#__codelineno-25-109"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lowVoltage</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-25-110" name="__codelineno-25-110" href="#__codelineno-25-110"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">));</span>
<a id="__codelineno-25-111" name="__codelineno-25-111" href="#__codelineno-25-111"></a>
<a id="__codelineno-25-112" name="__codelineno-25-112" href="#__codelineno-25-112"></a><span class="w">  </span><span class="c1">// Set the low voltage threshold</span>
<a id="__codelineno-25-113" name="__codelineno-25-113" href="#__codelineno-25-113"></a><span class="w">  </span><span class="n">lipo</span><span class="p">.</span><span class="n">setVALRTMin</span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="mf">3.9</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set low voltage threshold (Volts)</span>
<a id="__codelineno-25-114" name="__codelineno-25-114" href="#__codelineno-25-114"></a>
<a id="__codelineno-25-115" name="__codelineno-25-115" href="#__codelineno-25-115"></a><span class="w">  </span><span class="c1">// Read and print the low voltage threshold</span>
<a id="__codelineno-25-116" name="__codelineno-25-116" href="#__codelineno-25-116"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Low voltage threshold is now: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-117" name="__codelineno-25-117" href="#__codelineno-25-117"></a><span class="w">  </span><span class="n">lowVoltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">lipo</span><span class="p">.</span><span class="n">getVALRTMin</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.02</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1 LSb is 20mV. Convert to Volts.</span>
<a id="__codelineno-25-118" name="__codelineno-25-118" href="#__codelineno-25-118"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lowVoltage</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-25-119" name="__codelineno-25-119" href="#__codelineno-25-119"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">));</span>
<a id="__codelineno-25-120" name="__codelineno-25-120" href="#__codelineno-25-120"></a>
<a id="__codelineno-25-121" name="__codelineno-25-121" href="#__codelineno-25-121"></a><span class="w">  </span><span class="c1">// Enable the State Of Change alert</span>
<a id="__codelineno-25-122" name="__codelineno-25-122" href="#__codelineno-25-122"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Enabling the 1% State Of Change alert: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-123" name="__codelineno-25-123" href="#__codelineno-25-123"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">enableSOCAlert</span><span class="p">())</span>
<a id="__codelineno-25-124" name="__codelineno-25-124" href="#__codelineno-25-124"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-25-125" name="__codelineno-25-125" href="#__codelineno-25-125"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;success.&quot;</span><span class="p">));</span>
<a id="__codelineno-25-126" name="__codelineno-25-126" href="#__codelineno-25-126"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-25-127" name="__codelineno-25-127" href="#__codelineno-25-127"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-25-128" name="__codelineno-25-128" href="#__codelineno-25-128"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-25-129" name="__codelineno-25-129" href="#__codelineno-25-129"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;FAILED!&quot;</span><span class="p">));</span>
<a id="__codelineno-25-130" name="__codelineno-25-130" href="#__codelineno-25-130"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-25-131" name="__codelineno-25-131" href="#__codelineno-25-131"></a>
<a id="__codelineno-25-132" name="__codelineno-25-132" href="#__codelineno-25-132"></a><span class="w">  </span><span class="c1">// Read and print the HIBRT Active Threshold</span>
<a id="__codelineno-25-133" name="__codelineno-25-133" href="#__codelineno-25-133"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Hibernate active threshold is: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-134" name="__codelineno-25-134" href="#__codelineno-25-134"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">actThr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">lipo</span><span class="p">.</span><span class="n">getHIBRTActThr</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.00125</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1 LSb is 1.25mV. Convert to Volts.</span>
<a id="__codelineno-25-135" name="__codelineno-25-135" href="#__codelineno-25-135"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">actThr</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-25-136" name="__codelineno-25-136" href="#__codelineno-25-136"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">));</span>
<a id="__codelineno-25-137" name="__codelineno-25-137" href="#__codelineno-25-137"></a>
<a id="__codelineno-25-138" name="__codelineno-25-138" href="#__codelineno-25-138"></a><span class="w">  </span><span class="c1">// Read and print the HIBRT Hibernate Threshold</span>
<a id="__codelineno-25-139" name="__codelineno-25-139" href="#__codelineno-25-139"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Hibernate hibernate threshold is: &quot;</span><span class="p">));</span>
<a id="__codelineno-25-140" name="__codelineno-25-140" href="#__codelineno-25-140"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">hibThr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">lipo</span><span class="p">.</span><span class="n">getHIBRTHibThr</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.208</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1 LSb is 0.208%/hr. Convert to %/hr.</span>
<a id="__codelineno-25-141" name="__codelineno-25-141" href="#__codelineno-25-141"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">hibThr</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-25-142" name="__codelineno-25-142" href="#__codelineno-25-142"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;%/h&quot;</span><span class="p">));</span>
<a id="__codelineno-25-143" name="__codelineno-25-143" href="#__codelineno-25-143"></a><span class="p">}</span>
<a id="__codelineno-25-144" name="__codelineno-25-144" href="#__codelineno-25-144"></a>
<a id="__codelineno-25-145" name="__codelineno-25-145" href="#__codelineno-25-145"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-25-146" name="__codelineno-25-146" href="#__codelineno-25-146"></a><span class="p">{</span>
<a id="__codelineno-25-147" name="__codelineno-25-147" href="#__codelineno-25-147"></a><span class="w">  </span><span class="c1">// Print the variables:</span>
<a id="__codelineno-25-148" name="__codelineno-25-148" href="#__codelineno-25-148"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Voltage: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-149" name="__codelineno-25-149" href="#__codelineno-25-149"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">getVoltage</span><span class="p">());</span><span class="w">  </span><span class="c1">// Print the battery voltage</span>
<a id="__codelineno-25-150" name="__codelineno-25-150" href="#__codelineno-25-150"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">);</span>
<a id="__codelineno-25-151" name="__codelineno-25-151" href="#__codelineno-25-151"></a>
<a id="__codelineno-25-152" name="__codelineno-25-152" href="#__codelineno-25-152"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Percentage: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-153" name="__codelineno-25-153" href="#__codelineno-25-153"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">getSOC</span><span class="p">(),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the battery state of charge with 2 decimal places</span>
<a id="__codelineno-25-154" name="__codelineno-25-154" href="#__codelineno-25-154"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;%&quot;</span><span class="p">);</span>
<a id="__codelineno-25-155" name="__codelineno-25-155" href="#__codelineno-25-155"></a>
<a id="__codelineno-25-156" name="__codelineno-25-156" href="#__codelineno-25-156"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Change Rate: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-157" name="__codelineno-25-157" href="#__codelineno-25-157"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">getChangeRate</span><span class="p">(),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the battery change rate with 2 decimal places</span>
<a id="__codelineno-25-158" name="__codelineno-25-158" href="#__codelineno-25-158"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;%/hr&quot;</span><span class="p">);</span>
<a id="__codelineno-25-159" name="__codelineno-25-159" href="#__codelineno-25-159"></a>
<a id="__codelineno-25-160" name="__codelineno-25-160" href="#__codelineno-25-160"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Alert: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-161" name="__codelineno-25-161" href="#__codelineno-25-161"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">getAlert</span><span class="p">());</span><span class="w"> </span><span class="c1">// Print the generic alert flag</span>
<a id="__codelineno-25-162" name="__codelineno-25-162" href="#__codelineno-25-162"></a>
<a id="__codelineno-25-163" name="__codelineno-25-163" href="#__codelineno-25-163"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Voltage High Alert: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-164" name="__codelineno-25-164" href="#__codelineno-25-164"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">isVoltageHigh</span><span class="p">());</span><span class="w"> </span><span class="c1">// Print the alert flag</span>
<a id="__codelineno-25-165" name="__codelineno-25-165" href="#__codelineno-25-165"></a>
<a id="__codelineno-25-166" name="__codelineno-25-166" href="#__codelineno-25-166"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Voltage Low Alert: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-167" name="__codelineno-25-167" href="#__codelineno-25-167"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">isVoltageLow</span><span class="p">());</span><span class="w"> </span><span class="c1">// Print the alert flag</span>
<a id="__codelineno-25-168" name="__codelineno-25-168" href="#__codelineno-25-168"></a>
<a id="__codelineno-25-169" name="__codelineno-25-169" href="#__codelineno-25-169"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Empty Alert: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-170" name="__codelineno-25-170" href="#__codelineno-25-170"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">isLow</span><span class="p">());</span><span class="w"> </span><span class="c1">// Print the alert flag</span>
<a id="__codelineno-25-171" name="__codelineno-25-171" href="#__codelineno-25-171"></a>
<a id="__codelineno-25-172" name="__codelineno-25-172" href="#__codelineno-25-172"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; SOC 1% Change Alert: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-173" name="__codelineno-25-173" href="#__codelineno-25-173"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">isChange</span><span class="p">());</span><span class="w"> </span><span class="c1">// Print the alert flag</span>
<a id="__codelineno-25-174" name="__codelineno-25-174" href="#__codelineno-25-174"></a>
<a id="__codelineno-25-175" name="__codelineno-25-175" href="#__codelineno-25-175"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Hibernating: &quot;</span><span class="p">);</span>
<a id="__codelineno-25-176" name="__codelineno-25-176" href="#__codelineno-25-176"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">lipo</span><span class="p">.</span><span class="n">isHibernating</span><span class="p">());</span><span class="w"> </span><span class="c1">// Print the alert flag</span>
<a id="__codelineno-25-177" name="__codelineno-25-177" href="#__codelineno-25-177"></a>
<a id="__codelineno-25-178" name="__codelineno-25-178" href="#__codelineno-25-178"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-25-179" name="__codelineno-25-179" href="#__codelineno-25-179"></a>
<a id="__codelineno-25-180" name="__codelineno-25-180" href="#__codelineno-25-180"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-25-181" name="__codelineno-25-181" href="#__codelineno-25-181"></a><span class="p">}</span>
</code></pre></div>
</details>
</div>
</div>
</div>
<h3 id="bme688-environmental-sensor_1">BME688 Environmental Sensor<a class="headerlink" href="#bme688-environmental-sensor_1" title="Permanent link"></a></h3>
<p>Users are free to utilize any hardware they already have; however, we recommend the <a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">BME688 environmental sensor</a>. The board includes a Qwiic connector on the edge of the board and can be easily attached to the RA6M5 Thing Plus with a <a href="https://www.sparkfun.com/products/17260" target="_blank" rel="noopener">Qwiic cable</a>. In addition, a <a href="https://learn.sparkfun.com/tutorials/1168" target="_blank" rel="noopener">hookup guide</a> and <a href="https://github.com/BoschSensortec/Bosch-BME68x-Library" target="_blank" rel="noopener">Arduino library</a> for the sensor are available.</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/6/9/6/19096-SparkFun_Environmental_Sensor_Breakout_-_BME688__Qwiic_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Environmental Sensor - BME688 (Qwiic)</strong><br>
SEN-19096</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/17260" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/6/2/4/7/17260-Flexible_Qwiic_Cable_-_50mm-01.jpg">
    </figure></p>
<hr />
<p><strong>Flexible Qwiic Cable - 50mm</strong><br>
PRT-17260</a></p>
</li>
</ul>
</div>
</details>
<details class="arduino">
<summary>Install Arduino Library</summary>
<p>Users will need to install the <a href="https://github.com/BoschSensortec/Bosch-BME68x-Library" target="_blank" rel="noopener">Bosch BME68x Arduino library</a> for the sensor. In the Arduino IDE, users can install it by searching for <code>BME68x Sensor Library</code>, in the <strong>Library Manager</strong>:</p>
<div class="highlight"><pre><span></span><code>BME68x Sensor Library
</code></pre></div>
</details>
<p>Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>BME68x Sensor library</strong> &gt; <strong>forced_mode</strong> drop-down menu. <em>For more details on utilizing the BME68x breakout board, please refer to our <a href="https://learn.sparkfun.com/tutorials/1168" target="_blank" rel="noopener">hookup guide</a> for the sensor.</em></p>
<details class="code">
<summary><code>forced_mode.ino</code></summary>
<div class="admonition warning">
<p class="admonition-title">I<sup>2</sup>C Modifications</p>
<p>By default, this example utilizes the <abbr title="Serial Peripheral Interface">SPI</abbr> bus; therefore, some modifications must be made:</p>
<ul>
<li>
<p>The chip select pin no longer needs to be defined:</p>
<div class="highlight"><pre><span></span><code><del class="critic">#ifndef PIN_CS
#define PIN_CS SS
#endif</del>
</code></pre></div>
</li>
<li>
<p>The I<sup>2</sup>C bus must be initialized, instead of the <abbr title="Serial Peripheral Interface">SPI</abbr> bus:</p>
<div class="highlight"><pre><span></span><code><del class="critic">SPI.begin();</del>
<ins class="critic">Wire.begin();</ins>
</code></pre></div>
</li>
<li>
<p>The sensor must be initialized with the Wire class, instead of the <abbr title="Serial Peripheral Interface">SPI</abbr> class:</p>
<div class="highlight"><pre><span></span><code>/* initializes the sensor based on <del class="critic">SPI</del><ins class="critic">Wire</ins> library */
<del class="critic">bme.begin(PIN_CS, SPI);</del>
<ins class="critic">bme.begin(BME68X_I2C_ADDR_LOW, Wire)</ins>
</code></pre></div>
</li>
</ul>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="cm">/**</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="cm"> * Copyright (C) 2021 Bosch Sensortec GmbH</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="cm"> *</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="cm"> * SPDX-License-Identifier: BSD-3-Clause</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="cm"> * </span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="cm"> */</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;Arduino.h&quot;</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;bme68xLibrary.h&quot;</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="cp">#ifndef PIN_CS</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="cp">#define PIN_CS SS</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="cp">#endif</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="n">Bme68x</span><span class="w"> </span><span class="n">bme</span><span class="p">;</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="cm">/**</span>
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="cm"> * @brief Initializes the sensor and hardware settings</span>
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="cm"> */</span>
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="p">{</span>
<a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a><span class="w">    </span><span class="n">SPI</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
<a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a>
<a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span>
<a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a><span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a>
<a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a><span class="w">    </span><span class="cm">/* initializes the sensor based on SPI library */</span>
<a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a><span class="w">    </span><span class="n">bme</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">PIN_CS</span><span class="p">,</span><span class="w"> </span><span class="n">SPI</span><span class="p">);</span>
<a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a>
<a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">checkStatus</span><span class="p">())</span>
<a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">checkStatus</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BME68X_ERROR</span><span class="p">)</span>
<a id="__codelineno-26-34" name="__codelineno-26-34" href="#__codelineno-26-34"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-26-35" name="__codelineno-26-35" href="#__codelineno-26-35"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Sensor error:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bme</span><span class="p">.</span><span class="n">statusString</span><span class="p">());</span>
<a id="__codelineno-26-36" name="__codelineno-26-36" href="#__codelineno-26-36"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-26-37" name="__codelineno-26-37" href="#__codelineno-26-37"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-26-38" name="__codelineno-26-38" href="#__codelineno-26-38"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">checkStatus</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BME68X_WARNING</span><span class="p">)</span>
<a id="__codelineno-26-39" name="__codelineno-26-39" href="#__codelineno-26-39"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-26-40" name="__codelineno-26-40" href="#__codelineno-26-40"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Sensor Warning:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bme</span><span class="p">.</span><span class="n">statusString</span><span class="p">());</span>
<a id="__codelineno-26-41" name="__codelineno-26-41" href="#__codelineno-26-41"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-26-42" name="__codelineno-26-42" href="#__codelineno-26-42"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-43" name="__codelineno-26-43" href="#__codelineno-26-43"></a>
<a id="__codelineno-26-44" name="__codelineno-26-44" href="#__codelineno-26-44"></a><span class="w">    </span><span class="cm">/* Set the default configuration for temperature, pressure and humidity */</span>
<a id="__codelineno-26-45" name="__codelineno-26-45" href="#__codelineno-26-45"></a><span class="w">    </span><span class="n">bme</span><span class="p">.</span><span class="n">setTPH</span><span class="p">();</span>
<a id="__codelineno-26-46" name="__codelineno-26-46" href="#__codelineno-26-46"></a>
<a id="__codelineno-26-47" name="__codelineno-26-47" href="#__codelineno-26-47"></a><span class="w">    </span><span class="cm">/* Set the heater configuration to 300 deg C for 100ms for Forced mode */</span>
<a id="__codelineno-26-48" name="__codelineno-26-48" href="#__codelineno-26-48"></a><span class="w">    </span><span class="n">bme</span><span class="p">.</span><span class="n">setHeaterProf</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-26-49" name="__codelineno-26-49" href="#__codelineno-26-49"></a>
<a id="__codelineno-26-50" name="__codelineno-26-50" href="#__codelineno-26-50"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;TimeStamp(ms), Temperature(deg C), Pressure(Pa), Humidity(%), Gas resistance(ohm), Status&quot;</span><span class="p">);</span>
<a id="__codelineno-26-51" name="__codelineno-26-51" href="#__codelineno-26-51"></a><span class="p">}</span>
<a id="__codelineno-26-52" name="__codelineno-26-52" href="#__codelineno-26-52"></a>
<a id="__codelineno-26-53" name="__codelineno-26-53" href="#__codelineno-26-53"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-26-54" name="__codelineno-26-54" href="#__codelineno-26-54"></a><span class="p">{</span>
<a id="__codelineno-26-55" name="__codelineno-26-55" href="#__codelineno-26-55"></a><span class="w">    </span><span class="n">bme68xData</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<a id="__codelineno-26-56" name="__codelineno-26-56" href="#__codelineno-26-56"></a>
<a id="__codelineno-26-57" name="__codelineno-26-57" href="#__codelineno-26-57"></a><span class="w">    </span><span class="n">bme</span><span class="p">.</span><span class="n">setOpMode</span><span class="p">(</span><span class="n">BME68X_FORCED_MODE</span><span class="p">);</span>
<a id="__codelineno-26-58" name="__codelineno-26-58" href="#__codelineno-26-58"></a><span class="w">    </span><span class="n">delayMicroseconds</span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">getMeasDur</span><span class="p">());</span>
<a id="__codelineno-26-59" name="__codelineno-26-59" href="#__codelineno-26-59"></a>
<a id="__codelineno-26-60" name="__codelineno-26-60" href="#__codelineno-26-60"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bme</span><span class="p">.</span><span class="n">fetchData</span><span class="p">())</span>
<a id="__codelineno-26-61" name="__codelineno-26-61" href="#__codelineno-26-61"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-26-62" name="__codelineno-26-62" href="#__codelineno-26-62"></a><span class="w">        </span><span class="n">bme</span><span class="p">.</span><span class="n">getData</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-26-63" name="__codelineno-26-63" href="#__codelineno-26-63"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">millis</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-26-64" name="__codelineno-26-64" href="#__codelineno-26-64"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">temperature</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-26-65" name="__codelineno-26-65" href="#__codelineno-26-65"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">pressure</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-26-66" name="__codelineno-26-66" href="#__codelineno-26-66"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">humidity</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-26-67" name="__codelineno-26-67" href="#__codelineno-26-67"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">gas_resistance</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<a id="__codelineno-26-68" name="__codelineno-26-68" href="#__codelineno-26-68"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">HEX</span><span class="p">);</span>
<a id="__codelineno-26-69" name="__codelineno-26-69" href="#__codelineno-26-69"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-70" name="__codelineno-26-70" href="#__codelineno-26-70"></a><span class="p">}</span>
</code></pre></div>
</details>
<h1 id="examples-memorystorage">Examples - Memory/Storage<a class="headerlink" href="#examples-memorystorage" title="Permanent link"></a></h1>
<div class="admonition warning">
<p class="admonition-title">Data Corruption</p>
<p>To avoid any data loss or corrupting the <abbr title="Secure Digital">SD</abbr> card, users should disable all activity with the <abbr title="Secure Digital">SD</abbr> card before removing it from the RA6M5 Thing Plus.</p>
<p>The <a href="https://github.com/arduino/ArduinoCore-renesas/tree/main/libraries/FATFilesystem" target="_blank" rel="noopener">FATFileSystem library</a> built into the Renesas-Arduino core, supports &micro;<abbr title="Secure Digital">SD</abbr> cards with a <strong>FAT32</strong> file system <em>(i.e. <abbr title="Secure Digital">SD</abbr> cards <strong>up to 32GB</strong> in size)</em>.</p>
<ul>
<li>While users may be able to use cards with a higher storage capacity, we highly advise against it. As users may experience data loss due to a corrupt file system <em>(i.e. <abbr title="Secure Digital">SD</abbr> cards with a storage capacity greater than 32GB are not meant to be formatted with a FAT32 file system)</em>.</li>
</ul>
</div>
<h2 id="sd-card-test"><abbr title="Secure Digital">SD</abbr> Card - Test<a class="headerlink" href="#sd-card-test" title="Permanent link"></a></h2>
<p>The Renesas-Arduino core includes a built-in <a href="https://github.com/arduino/ArduinoCore-renesas/tree/main/libraries/FATFilesystem" target="_blank" rel="noopener">FATFileSystem library</a> that controls the <abbr title="Secure Digital">SD</abbr> host interface. The library that supports <abbr title="Secure Digital">SD</abbr> cards with a <strong>FAT32</strong> file system <em>(i.e. <abbr title="Secure Digital">SD</abbr> cards <strong>up to 32GB</strong> in size)</em>. Users can find an example sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>Storage</strong> &gt; <strong>TestSDCARD</strong> drop-down menu.</p>
<details class="note">
<summary>Optional Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/15107" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/4/7/0/15107-microSD_Card_-_1GB__Class_4_-01.jpg">
    </figure></p>
<hr />
<p><strong>microSD Card - 1GB (Class 4)</strong><br>
COM-15107</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/19041" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/6/5/3/19041-microSD_Card_-_32GB__Class_10_-02.jpg">
    </figure></p>
<hr />
<p><strong>microSD Card - 32GB (Class 10)</strong><br>
COM-19041</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/13004" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/9/9/5/8/13004-02.jpg">
    </figure></p>
<hr />
<p><strong>microSD <abbr title="Universal Serial Bus">USB</abbr> Reader</strong><br>
COM-13004</a></p>
</li>
</ul>
</div>
</details>
<!-- 
=== "`TestSDCARD.ino`"
    Users can find this sketch in the **File** > **Examples** > **Storage** > **TestSDCARD** drop-down menu.

    ??? code "`TestSDCARD.ino`"
        <div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="cm">/*</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="cm">  Portenta H33 - TestSDCARD with Fat FS</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="cm">  The sketch shows how to mount an SDCARD and list its content.</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="cm">  The circuit:</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="cm">   - Portenta H33 + Portenta Breakout </span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="cm">  created January 31th, 2023</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="cm">  by Daniele Aimo</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="cm">  This example code is in the public domain.</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="cm">*/</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;SDCardBlockDevice.h&quot;</span>
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;FATFileSystem.h&quot;</span>
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a>
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a><span class="cp">#define TEST_FS_NAME &quot;fs&quot;</span>
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="cp">#define TEST_FOLDER_NAME &quot;TEST_FOLDER&quot;</span>
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="cp">#define TEST_FILE &quot;test.txt&quot;</span>
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a><span class="cp">#define DELETE_FILE_DIMENSION 150</span>
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a>
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="n">SDCardBlockDevice</span><span class="w"> </span><span class="nf">block_device</span><span class="p">(</span><span class="n">PIN_SDHI_CLK</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_CMD</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D0</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D1</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D2</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D3</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_CD</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_WP</span><span class="p">);</span>
<a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="n">FATFileSystem</span><span class="w"> </span><span class="nf">fs</span><span class="p">(</span><span class="n">TEST_FS_NAME</span><span class="p">);</span>
<a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a>
<a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">root_folder</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FS_NAME</span><span class="p">);</span>
<a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">folder_test_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">root_folder</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FOLDER_NAME</span><span class="p">);</span>
<a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">file_test_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">folder_test_name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FILE</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a>
<a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a><span class="w">  </span><span class="cm">/*</span>
<a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a><span class="cm">   *  SERIAL INITIALIZATION</span>
<a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a><span class="cm">   */</span>
<a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<a id="__codelineno-27-38" name="__codelineno-27-38" href="#__codelineno-27-38"></a><span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-39" name="__codelineno-27-39" href="#__codelineno-27-39"></a>
<a id="__codelineno-27-40" name="__codelineno-27-40" href="#__codelineno-27-40"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-41" name="__codelineno-27-41" href="#__codelineno-27-41"></a>
<a id="__codelineno-27-42" name="__codelineno-27-42" href="#__codelineno-27-42"></a><span class="w">  </span><span class="cm">/* list to store all directory in the root */</span>
<a id="__codelineno-27-43" name="__codelineno-27-43" href="#__codelineno-27-43"></a><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dir_list</span><span class="p">;</span>
<a id="__codelineno-27-44" name="__codelineno-27-44" href="#__codelineno-27-44"></a>
<a id="__codelineno-27-45" name="__codelineno-27-45" href="#__codelineno-27-45"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-46" name="__codelineno-27-46" href="#__codelineno-27-46"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;##### TEST SD CARD with FAT FS&quot;</span><span class="p">);</span>
<a id="__codelineno-27-47" name="__codelineno-27-47" href="#__codelineno-27-47"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-48" name="__codelineno-27-48" href="#__codelineno-27-48"></a>
<a id="__codelineno-27-49" name="__codelineno-27-49" href="#__codelineno-27-49"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-27-50" name="__codelineno-27-50" href="#__codelineno-27-50"></a><span class="cm">   *  MOUNTING SDCARD AS FATFS filesystem</span>
<a id="__codelineno-27-51" name="__codelineno-27-51" href="#__codelineno-27-51"></a><span class="cm">   */</span>
<a id="__codelineno-27-52" name="__codelineno-27-52" href="#__codelineno-27-52"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Mounting SDCARD...&quot;</span><span class="p">);</span>
<a id="__codelineno-27-53" name="__codelineno-27-53" href="#__codelineno-27-53"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">fs</span><span class="p">.</span><span class="n">mount</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block_device</span><span class="p">);</span>
<a id="__codelineno-27-54" name="__codelineno-27-54" href="#__codelineno-27-54"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-55" name="__codelineno-27-55" href="#__codelineno-27-55"></a><span class="w">    </span><span class="c1">// Reformat if we can&#39;t mount the filesystem</span>
<a id="__codelineno-27-56" name="__codelineno-27-56" href="#__codelineno-27-56"></a><span class="w">    </span><span class="c1">// this should only happen on the first boot</span>
<a id="__codelineno-27-57" name="__codelineno-27-57" href="#__codelineno-27-57"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;No filesystem found, formatting... &quot;</span><span class="p">);</span>
<a id="__codelineno-27-58" name="__codelineno-27-58" href="#__codelineno-27-58"></a><span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fs</span><span class="p">.</span><span class="n">reformat</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block_device</span><span class="p">);</span>
<a id="__codelineno-27-59" name="__codelineno-27-59" href="#__codelineno-27-59"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-60" name="__codelineno-27-60" href="#__codelineno-27-60"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-61" name="__codelineno-27-61" href="#__codelineno-27-61"></a><span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Error formatting SDCARD &quot;</span><span class="p">);</span>
<a id="__codelineno-27-62" name="__codelineno-27-62" href="#__codelineno-27-62"></a><span class="w">     </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-27-63" name="__codelineno-27-63" href="#__codelineno-27-63"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-64" name="__codelineno-27-64" href="#__codelineno-27-64"></a>
<a id="__codelineno-27-65" name="__codelineno-27-65" href="#__codelineno-27-65"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-27-66" name="__codelineno-27-66" href="#__codelineno-27-66"></a><span class="cm">   *  READING root folder</span>
<a id="__codelineno-27-67" name="__codelineno-27-67" href="#__codelineno-27-67"></a><span class="cm">   */</span>
<a id="__codelineno-27-68" name="__codelineno-27-68" href="#__codelineno-27-68"></a>
<a id="__codelineno-27-69" name="__codelineno-27-69" href="#__codelineno-27-69"></a><span class="w">  </span><span class="kt">DIR</span><span class="w"> </span><span class="o">*</span><span class="n">dir</span><span class="p">;</span>
<a id="__codelineno-27-70" name="__codelineno-27-70" href="#__codelineno-27-70"></a><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">dirent</span><span class="w"> </span><span class="o">*</span><span class="n">ent</span><span class="p">;</span>
<a id="__codelineno-27-71" name="__codelineno-27-71" href="#__codelineno-27-71"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">dirIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-27-72" name="__codelineno-27-72" href="#__codelineno-27-72"></a>
<a id="__codelineno-27-73" name="__codelineno-27-73" href="#__codelineno-27-73"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;*** List SD CARD content: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-74" name="__codelineno-27-74" href="#__codelineno-27-74"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opendir</span><span class="p">(</span><span class="n">root_folder</span><span class="p">.</span><span class="n">c_str</span><span class="p">()))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-75" name="__codelineno-27-75" href="#__codelineno-27-75"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readdir</span><span class="w"> </span><span class="p">(</span><span class="n">dir</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-76" name="__codelineno-27-76" href="#__codelineno-27-76"></a>
<a id="__codelineno-27-77" name="__codelineno-27-77" href="#__codelineno-27-77"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_REG</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-78" name="__codelineno-27-78" href="#__codelineno-27-78"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- [File]: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-79" name="__codelineno-27-79" href="#__codelineno-27-79"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-80" name="__codelineno-27-80" href="#__codelineno-27-80"></a>
<a id="__codelineno-27-81" name="__codelineno-27-81" href="#__codelineno-27-81"></a><span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_DIR</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-82" name="__codelineno-27-82" href="#__codelineno-27-82"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- [Fold]: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-83" name="__codelineno-27-83" href="#__codelineno-27-83"></a><span class="w">        </span><span class="n">dir_list</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-27-84" name="__codelineno-27-84" href="#__codelineno-27-84"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-85" name="__codelineno-27-85" href="#__codelineno-27-85"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-27-86" name="__codelineno-27-86" href="#__codelineno-27-86"></a><span class="w">      </span><span class="n">dirIndex</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-27-87" name="__codelineno-27-87" href="#__codelineno-27-87"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-88" name="__codelineno-27-88" href="#__codelineno-27-88"></a><span class="w">    </span><span class="n">closedir</span><span class="w"> </span><span class="p">(</span><span class="n">dir</span><span class="p">);</span>
<a id="__codelineno-27-89" name="__codelineno-27-89" href="#__codelineno-27-89"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-27-90" name="__codelineno-27-90" href="#__codelineno-27-90"></a><span class="w">  </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-91" name="__codelineno-27-91" href="#__codelineno-27-91"></a><span class="w">    </span><span class="c1">// Could not open directory</span>
<a id="__codelineno-27-92" name="__codelineno-27-92" href="#__codelineno-27-92"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Error opening SDCARD</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-27-93" name="__codelineno-27-93" href="#__codelineno-27-93"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-27-94" name="__codelineno-27-94" href="#__codelineno-27-94"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-95" name="__codelineno-27-95" href="#__codelineno-27-95"></a>
<a id="__codelineno-27-96" name="__codelineno-27-96" href="#__codelineno-27-96"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">dirIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-97" name="__codelineno-27-97" href="#__codelineno-27-97"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Empty SDCARD&quot;</span><span class="p">);</span>
<a id="__codelineno-27-98" name="__codelineno-27-98" href="#__codelineno-27-98"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-99" name="__codelineno-27-99" href="#__codelineno-27-99"></a>
<a id="__codelineno-27-100" name="__codelineno-27-100" href="#__codelineno-27-100"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">found_test_folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-27-101" name="__codelineno-27-101" href="#__codelineno-27-101"></a>
<a id="__codelineno-27-102" name="__codelineno-27-102" href="#__codelineno-27-102"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-27-103" name="__codelineno-27-103" href="#__codelineno-27-103"></a><span class="cm">   *  LISTING CONTENT of the first level folders (the one immediately present in root folder)</span>
<a id="__codelineno-27-104" name="__codelineno-27-104" href="#__codelineno-27-104"></a><span class="cm">   */</span>
<a id="__codelineno-27-105" name="__codelineno-27-105" href="#__codelineno-27-105"></a>
<a id="__codelineno-27-106" name="__codelineno-27-106" href="#__codelineno-27-106"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">dir_list</span><span class="p">.</span><span class="n">size</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-107" name="__codelineno-27-107" href="#__codelineno-27-107"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-108" name="__codelineno-27-108" href="#__codelineno-27-108"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Listing content of folders in root: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-109" name="__codelineno-27-109" href="#__codelineno-27-109"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-110" name="__codelineno-27-110" href="#__codelineno-27-110"></a><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dir_list</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-111" name="__codelineno-27-111" href="#__codelineno-27-111"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">TEST_FOLDER_NAME</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-112" name="__codelineno-27-112" href="#__codelineno-27-112"></a><span class="w">      </span><span class="n">found_test_folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-27-113" name="__codelineno-27-113" href="#__codelineno-27-113"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-114" name="__codelineno-27-114" href="#__codelineno-27-114"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- &quot;</span><span class="p">);</span>
<a id="__codelineno-27-115" name="__codelineno-27-115" href="#__codelineno-27-115"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-27-116" name="__codelineno-27-116" href="#__codelineno-27-116"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<a id="__codelineno-27-117" name="__codelineno-27-117" href="#__codelineno-27-117"></a>
<a id="__codelineno-27-118" name="__codelineno-27-118" href="#__codelineno-27-118"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root_folder</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-27-119" name="__codelineno-27-119" href="#__codelineno-27-119"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opendir</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">c_str</span><span class="p">()))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-120" name="__codelineno-27-120" href="#__codelineno-27-120"></a><span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readdir</span><span class="w"> </span><span class="p">(</span><span class="n">dir</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-121" name="__codelineno-27-121" href="#__codelineno-27-121"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_REG</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-122" name="__codelineno-27-122" href="#__codelineno-27-122"></a><span class="w">          </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;   - [File]: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-123" name="__codelineno-27-123" href="#__codelineno-27-123"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-124" name="__codelineno-27-124" href="#__codelineno-27-124"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_DIR</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-125" name="__codelineno-27-125" href="#__codelineno-27-125"></a><span class="w">          </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;   - [Fold]: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-126" name="__codelineno-27-126" href="#__codelineno-27-126"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-127" name="__codelineno-27-127" href="#__codelineno-27-127"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-27-128" name="__codelineno-27-128" href="#__codelineno-27-128"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-129" name="__codelineno-27-129" href="#__codelineno-27-129"></a><span class="w">      </span><span class="n">closedir</span><span class="w"> </span><span class="p">(</span><span class="n">dir</span><span class="p">);</span>
<a id="__codelineno-27-130" name="__codelineno-27-130" href="#__codelineno-27-130"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-131" name="__codelineno-27-131" href="#__codelineno-27-131"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-132" name="__codelineno-27-132" href="#__codelineno-27-132"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;ERROR OPENING SUB-FOLDER &quot;</span><span class="p">);</span>
<a id="__codelineno-27-133" name="__codelineno-27-133" href="#__codelineno-27-133"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-27-134" name="__codelineno-27-134" href="#__codelineno-27-134"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-135" name="__codelineno-27-135" href="#__codelineno-27-135"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-136" name="__codelineno-27-136" href="#__codelineno-27-136"></a>
<a id="__codelineno-27-137" name="__codelineno-27-137" href="#__codelineno-27-137"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-27-138" name="__codelineno-27-138" href="#__codelineno-27-138"></a><span class="cm">   *  CREATING TEST FOLDER (if does not exist already)</span>
<a id="__codelineno-27-139" name="__codelineno-27-139" href="#__codelineno-27-139"></a><span class="cm">   */</span>
<a id="__codelineno-27-140" name="__codelineno-27-140" href="#__codelineno-27-140"></a>
<a id="__codelineno-27-141" name="__codelineno-27-141" href="#__codelineno-27-141"></a><span class="w">  </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-27-142" name="__codelineno-27-142" href="#__codelineno-27-142"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">found_test_folder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-143" name="__codelineno-27-143" href="#__codelineno-27-143"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;TEST FOLDER NOT FOUND... creating folder test&quot;</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-27-144" name="__codelineno-27-144" href="#__codelineno-27-144"></a><span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mkdir</span><span class="p">(</span><span class="n">folder_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="n">S_IRWXU</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">S_IRWXG</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">S_IRWXO</span><span class="p">);</span>
<a id="__codelineno-27-145" name="__codelineno-27-145" href="#__codelineno-27-145"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-146" name="__codelineno-27-146" href="#__codelineno-27-146"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;FAILED folder creation with error &quot;</span><span class="p">);</span>
<a id="__codelineno-27-147" name="__codelineno-27-147" href="#__codelineno-27-147"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">);</span>
<a id="__codelineno-27-148" name="__codelineno-27-148" href="#__codelineno-27-148"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-149" name="__codelineno-27-149" href="#__codelineno-27-149"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-150" name="__codelineno-27-150" href="#__codelineno-27-150"></a>
<a id="__codelineno-27-151" name="__codelineno-27-151" href="#__codelineno-27-151"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-27-152" name="__codelineno-27-152" href="#__codelineno-27-152"></a><span class="cm">   *  READING TEST FILE CONTENT</span>
<a id="__codelineno-27-153" name="__codelineno-27-153" href="#__codelineno-27-153"></a><span class="cm">   */</span>
<a id="__codelineno-27-154" name="__codelineno-27-154" href="#__codelineno-27-154"></a>
<a id="__codelineno-27-155" name="__codelineno-27-155" href="#__codelineno-27-155"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-156" name="__codelineno-27-156" href="#__codelineno-27-156"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">file_dimension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-27-157" name="__codelineno-27-157" href="#__codelineno-27-157"></a><span class="w">    </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<a id="__codelineno-27-158" name="__codelineno-27-158" href="#__codelineno-27-158"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-159" name="__codelineno-27-159" href="#__codelineno-27-159"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-160" name="__codelineno-27-160" href="#__codelineno-27-160"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-27-161" name="__codelineno-27-161" href="#__codelineno-27-161"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for reading&quot;</span><span class="p">);</span>
<a id="__codelineno-27-162" name="__codelineno-27-162" href="#__codelineno-27-162"></a>
<a id="__codelineno-27-163" name="__codelineno-27-163" href="#__codelineno-27-163"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_END</span><span class="p">);</span>
<a id="__codelineno-27-164" name="__codelineno-27-164" href="#__codelineno-27-164"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">numbytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftell</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-27-165" name="__codelineno-27-165" href="#__codelineno-27-165"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-27-166" name="__codelineno-27-166" href="#__codelineno-27-166"></a>
<a id="__codelineno-27-167" name="__codelineno-27-167" href="#__codelineno-27-167"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Bytes in the file: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-168" name="__codelineno-27-168" href="#__codelineno-27-168"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">numbytes</span><span class="p">);</span>
<a id="__codelineno-27-169" name="__codelineno-27-169" href="#__codelineno-27-169"></a><span class="w">      </span><span class="n">file_dimension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span>
<a id="__codelineno-27-170" name="__codelineno-27-170" href="#__codelineno-27-170"></a>
<a id="__codelineno-27-171" name="__codelineno-27-171" href="#__codelineno-27-171"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-172" name="__codelineno-27-172" href="#__codelineno-27-172"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-173" name="__codelineno-27-173" href="#__codelineno-27-173"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;-------------------- START FILE CONTENT --------------------&quot;</span><span class="p">);</span>
<a id="__codelineno-27-174" name="__codelineno-27-174" href="#__codelineno-27-174"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-175" name="__codelineno-27-175" href="#__codelineno-27-175"></a>
<a id="__codelineno-27-176" name="__codelineno-27-176" href="#__codelineno-27-176"></a><span class="w">      </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-177" name="__codelineno-27-177" href="#__codelineno-27-177"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<a id="__codelineno-27-178" name="__codelineno-27-178" href="#__codelineno-27-178"></a><span class="w">        </span><span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-27-179" name="__codelineno-27-179" href="#__codelineno-27-179"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
<a id="__codelineno-27-180" name="__codelineno-27-180" href="#__codelineno-27-180"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-181" name="__codelineno-27-181" href="#__codelineno-27-181"></a>
<a id="__codelineno-27-182" name="__codelineno-27-182" href="#__codelineno-27-182"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-183" name="__codelineno-27-183" href="#__codelineno-27-183"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;--------------------- END FILE CONTENT ---------------------&quot;</span><span class="p">);</span>
<a id="__codelineno-27-184" name="__codelineno-27-184" href="#__codelineno-27-184"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-185" name="__codelineno-27-185" href="#__codelineno-27-185"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-186" name="__codelineno-27-186" href="#__codelineno-27-186"></a><span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-187" name="__codelineno-27-187" href="#__codelineno-27-187"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;File is EMPTY!&quot;</span><span class="p">);</span>
<a id="__codelineno-27-188" name="__codelineno-27-188" href="#__codelineno-27-188"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-189" name="__codelineno-27-189" href="#__codelineno-27-189"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-190" name="__codelineno-27-190" href="#__codelineno-27-190"></a>
<a id="__codelineno-27-191" name="__codelineno-27-191" href="#__codelineno-27-191"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-27-192" name="__codelineno-27-192" href="#__codelineno-27-192"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-193" name="__codelineno-27-193" href="#__codelineno-27-193"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-194" name="__codelineno-27-194" href="#__codelineno-27-194"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;FAILED open file &quot;</span><span class="p">);</span>
<a id="__codelineno-27-195" name="__codelineno-27-195" href="#__codelineno-27-195"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-27-196" name="__codelineno-27-196" href="#__codelineno-27-196"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-197" name="__codelineno-27-197" href="#__codelineno-27-197"></a>
<a id="__codelineno-27-198" name="__codelineno-27-198" href="#__codelineno-27-198"></a><span class="w">    </span><span class="cm">/*</span>
<a id="__codelineno-27-199" name="__codelineno-27-199" href="#__codelineno-27-199"></a><span class="cm">     * DELETE FILE IF THE File dimension is greater than 150 bytes</span>
<a id="__codelineno-27-200" name="__codelineno-27-200" href="#__codelineno-27-200"></a><span class="cm">     */</span>
<a id="__codelineno-27-201" name="__codelineno-27-201" href="#__codelineno-27-201"></a>
<a id="__codelineno-27-202" name="__codelineno-27-202" href="#__codelineno-27-202"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">file_dimension</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">DELETE_FILE_DIMENSION</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-203" name="__codelineno-27-203" href="#__codelineno-27-203"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Test file reached the delete dimension... deleting it!&quot;</span><span class="p">);</span>
<a id="__codelineno-27-204" name="__codelineno-27-204" href="#__codelineno-27-204"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">remove</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">())</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-205" name="__codelineno-27-205" href="#__codelineno-27-205"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;TEST FILE HAS BEEN DELETED!&quot;</span><span class="p">);</span>
<a id="__codelineno-27-206" name="__codelineno-27-206" href="#__codelineno-27-206"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-207" name="__codelineno-27-207" href="#__codelineno-27-207"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-208" name="__codelineno-27-208" href="#__codelineno-27-208"></a>
<a id="__codelineno-27-209" name="__codelineno-27-209" href="#__codelineno-27-209"></a><span class="w">    </span><span class="cm">/*</span>
<a id="__codelineno-27-210" name="__codelineno-27-210" href="#__codelineno-27-210"></a><span class="cm">     * APPENDING SOMETHING TO FILE </span>
<a id="__codelineno-27-211" name="__codelineno-27-211" href="#__codelineno-27-211"></a><span class="cm">     */</span>
<a id="__codelineno-27-212" name="__codelineno-27-212" href="#__codelineno-27-212"></a>
<a id="__codelineno-27-213" name="__codelineno-27-213" href="#__codelineno-27-213"></a><span class="w">    </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<a id="__codelineno-27-214" name="__codelineno-27-214" href="#__codelineno-27-214"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-215" name="__codelineno-27-215" href="#__codelineno-27-215"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-216" name="__codelineno-27-216" href="#__codelineno-27-216"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-27-217" name="__codelineno-27-217" href="#__codelineno-27-217"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for writing (append)&quot;</span><span class="p">);</span>
<a id="__codelineno-27-218" name="__codelineno-27-218" href="#__codelineno-27-218"></a><span class="w">      </span><span class="kt">char</span><span class="w"> </span><span class="n">text</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;This line has been appended to file!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-27-219" name="__codelineno-27-219" href="#__codelineno-27-219"></a><span class="w">      </span><span class="n">fwrite</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">text</span><span class="p">),</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-27-220" name="__codelineno-27-220" href="#__codelineno-27-220"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-27-221" name="__codelineno-27-221" href="#__codelineno-27-221"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-222" name="__codelineno-27-222" href="#__codelineno-27-222"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-223" name="__codelineno-27-223" href="#__codelineno-27-223"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;FAILED open file for appending &quot;</span><span class="p">);</span>
<a id="__codelineno-27-224" name="__codelineno-27-224" href="#__codelineno-27-224"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-27-225" name="__codelineno-27-225" href="#__codelineno-27-225"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-226" name="__codelineno-27-226" href="#__codelineno-27-226"></a>
<a id="__codelineno-27-227" name="__codelineno-27-227" href="#__codelineno-27-227"></a><span class="w">    </span><span class="cm">/*</span>
<a id="__codelineno-27-228" name="__codelineno-27-228" href="#__codelineno-27-228"></a><span class="cm">     * READING AGAIN FILE CONTENT</span>
<a id="__codelineno-27-229" name="__codelineno-27-229" href="#__codelineno-27-229"></a><span class="cm">     */</span>
<a id="__codelineno-27-230" name="__codelineno-27-230" href="#__codelineno-27-230"></a>
<a id="__codelineno-27-231" name="__codelineno-27-231" href="#__codelineno-27-231"></a><span class="w">    </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<a id="__codelineno-27-232" name="__codelineno-27-232" href="#__codelineno-27-232"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-233" name="__codelineno-27-233" href="#__codelineno-27-233"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-234" name="__codelineno-27-234" href="#__codelineno-27-234"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-27-235" name="__codelineno-27-235" href="#__codelineno-27-235"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for reading&quot;</span><span class="p">);</span>
<a id="__codelineno-27-236" name="__codelineno-27-236" href="#__codelineno-27-236"></a>
<a id="__codelineno-27-237" name="__codelineno-27-237" href="#__codelineno-27-237"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_END</span><span class="p">);</span>
<a id="__codelineno-27-238" name="__codelineno-27-238" href="#__codelineno-27-238"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">numbytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftell</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-27-239" name="__codelineno-27-239" href="#__codelineno-27-239"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-27-240" name="__codelineno-27-240" href="#__codelineno-27-240"></a>
<a id="__codelineno-27-241" name="__codelineno-27-241" href="#__codelineno-27-241"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Bytes in the file: &quot;</span><span class="p">);</span>
<a id="__codelineno-27-242" name="__codelineno-27-242" href="#__codelineno-27-242"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">numbytes</span><span class="p">);</span>
<a id="__codelineno-27-243" name="__codelineno-27-243" href="#__codelineno-27-243"></a>
<a id="__codelineno-27-244" name="__codelineno-27-244" href="#__codelineno-27-244"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-245" name="__codelineno-27-245" href="#__codelineno-27-245"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-246" name="__codelineno-27-246" href="#__codelineno-27-246"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;-------------------- START FILE CONTENT --------------------&quot;</span><span class="p">);</span>
<a id="__codelineno-27-247" name="__codelineno-27-247" href="#__codelineno-27-247"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-248" name="__codelineno-27-248" href="#__codelineno-27-248"></a>
<a id="__codelineno-27-249" name="__codelineno-27-249" href="#__codelineno-27-249"></a><span class="w">      </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-250" name="__codelineno-27-250" href="#__codelineno-27-250"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<a id="__codelineno-27-251" name="__codelineno-27-251" href="#__codelineno-27-251"></a><span class="w">        </span><span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-27-252" name="__codelineno-27-252" href="#__codelineno-27-252"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
<a id="__codelineno-27-253" name="__codelineno-27-253" href="#__codelineno-27-253"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-254" name="__codelineno-27-254" href="#__codelineno-27-254"></a>
<a id="__codelineno-27-255" name="__codelineno-27-255" href="#__codelineno-27-255"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-256" name="__codelineno-27-256" href="#__codelineno-27-256"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;--------------------- END FILE CONTENT ---------------------&quot;</span><span class="p">);</span>
<a id="__codelineno-27-257" name="__codelineno-27-257" href="#__codelineno-27-257"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-258" name="__codelineno-27-258" href="#__codelineno-27-258"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-259" name="__codelineno-27-259" href="#__codelineno-27-259"></a><span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-260" name="__codelineno-27-260" href="#__codelineno-27-260"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;File is EMPTY!&quot;</span><span class="p">);</span>
<a id="__codelineno-27-261" name="__codelineno-27-261" href="#__codelineno-27-261"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-27-262" name="__codelineno-27-262" href="#__codelineno-27-262"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-263" name="__codelineno-27-263" href="#__codelineno-27-263"></a>
<a id="__codelineno-27-264" name="__codelineno-27-264" href="#__codelineno-27-264"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-27-265" name="__codelineno-27-265" href="#__codelineno-27-265"></a>
<a id="__codelineno-27-266" name="__codelineno-27-266" href="#__codelineno-27-266"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-267" name="__codelineno-27-267" href="#__codelineno-27-267"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-268" name="__codelineno-27-268" href="#__codelineno-27-268"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;FAILED open file for appending &quot;</span><span class="p">);</span>
<a id="__codelineno-27-269" name="__codelineno-27-269" href="#__codelineno-27-269"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-27-270" name="__codelineno-27-270" href="#__codelineno-27-270"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-271" name="__codelineno-27-271" href="#__codelineno-27-271"></a><span class="w">  </span><span class="p">}</span><span class="w">  </span>
<a id="__codelineno-27-272" name="__codelineno-27-272" href="#__codelineno-27-272"></a>
<a id="__codelineno-27-273" name="__codelineno-27-273" href="#__codelineno-27-273"></a><span class="p">}</span>
<a id="__codelineno-27-274" name="__codelineno-27-274" href="#__codelineno-27-274"></a>
<a id="__codelineno-27-275" name="__codelineno-27-275" href="#__codelineno-27-275"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-276" name="__codelineno-27-276" href="#__codelineno-27-276"></a><span class="w">  </span><span class="c1">// Empty</span>
<a id="__codelineno-27-277" name="__codelineno-27-277" href="#__codelineno-27-277"></a><span class="p">}</span>
</code></pre></div>


=== "`SD_Test.ino`"
    Users can find this sketch in the **File** > **Examples** > **02.Digital** > **InputPullupSerial** drop-down menu.

    ??? code "`SD_Test.ino`"
        <div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="cm">/*</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="cm">  Written for SparkFun Thing Plus RA6M5</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="cm">  Just test to see if we can read/write to an SD card over SDHI</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="cm">  This code is adapted from TestSDCARD in the ArduinoCore-renesas</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="cm">  repo.</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="cm">*/</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdint&gt;</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;SDCardBlockDevice.h&quot;</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;FATFileSystem.h&quot;</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="cp">#define TEST_FS_NAME &quot;fs&quot;</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="cp">#define TEST_FOLDER_NAME &quot;TEST_FOLDER&quot;</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="cp">#define TEST_FILE &quot;test.txt&quot;</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="cp">#define DELETE_FILE_DIMENSION 150</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="cp">#define STORAGE_DEBUG</span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="cp">#define SDHI_DEBUG</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="n">SDCardBlockDevice</span><span class="w"> </span><span class="nf">block_device</span><span class="p">(</span><span class="n">PIN_SDHI_CLK</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_CMD</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D0</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D1</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D2</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D3</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_CD</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_WP</span><span class="p">);</span>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="n">FATFileSystem</span><span class="w"> </span><span class="nf">fs</span><span class="p">(</span><span class="n">TEST_FS_NAME</span><span class="p">);</span>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">root_folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FS_NAME</span><span class="p">);</span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">folder_test_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root_folder</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FOLDER_NAME</span><span class="p">);</span>
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">file_test_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">folder_test_name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FILE</span><span class="p">);</span>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a>
<a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a><span class="p">{</span>
<a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a><span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a>
<a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a><span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a><span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a>
<a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a><span class="w">  </span><span class="c1">// Initialize Serial</span>
<a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
<a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a><span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">){};</span>
<a id="__codelineno-28-43" name="__codelineno-28-43" href="#__codelineno-28-43"></a>
<a id="__codelineno-28-44" name="__codelineno-28-44" href="#__codelineno-28-44"></a><span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-28-45" name="__codelineno-28-45" href="#__codelineno-28-45"></a>
<a id="__codelineno-28-46" name="__codelineno-28-46" href="#__codelineno-28-46"></a><span class="w">  </span><span class="c1">// List to store all directory in the root</span>
<a id="__codelineno-28-47" name="__codelineno-28-47" href="#__codelineno-28-47"></a><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dir_list</span><span class="p">;</span>
<a id="__codelineno-28-48" name="__codelineno-28-48" href="#__codelineno-28-48"></a>
<a id="__codelineno-28-49" name="__codelineno-28-49" href="#__codelineno-28-49"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-50" name="__codelineno-28-50" href="#__codelineno-28-50"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;##### TEST SD CARD WITH FATFS #####&quot;</span><span class="p">);</span>
<a id="__codelineno-28-51" name="__codelineno-28-51" href="#__codelineno-28-51"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-52" name="__codelineno-28-52" href="#__codelineno-28-52"></a>
<a id="__codelineno-28-53" name="__codelineno-28-53" href="#__codelineno-28-53"></a><span class="w">  </span><span class="c1">// Mount SD Card as FatFS </span>
<a id="__codelineno-28-54" name="__codelineno-28-54" href="#__codelineno-28-54"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Mounting SD Card...&quot;</span><span class="p">);</span>
<a id="__codelineno-28-55" name="__codelineno-28-55" href="#__codelineno-28-55"></a>
<a id="__codelineno-28-56" name="__codelineno-28-56" href="#__codelineno-28-56"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fs</span><span class="p">.</span><span class="n">mount</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block_device</span><span class="p">);</span>
<a id="__codelineno-28-57" name="__codelineno-28-57" href="#__codelineno-28-57"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<a id="__codelineno-28-58" name="__codelineno-28-58" href="#__codelineno-28-58"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-59" name="__codelineno-28-59" href="#__codelineno-28-59"></a><span class="w">    </span><span class="c1">// If we can&#39;t mount the filesystem, reformat drive.</span>
<a id="__codelineno-28-60" name="__codelineno-28-60" href="#__codelineno-28-60"></a><span class="w">    </span><span class="c1">// This should only happen on the first boot.</span>
<a id="__codelineno-28-61" name="__codelineno-28-61" href="#__codelineno-28-61"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;No filesystem found, formatting...&quot;</span><span class="p">);</span>
<a id="__codelineno-28-62" name="__codelineno-28-62" href="#__codelineno-28-62"></a><span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fs</span><span class="p">.</span><span class="n">reformat</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block_device</span><span class="p">);</span>
<a id="__codelineno-28-63" name="__codelineno-28-63" href="#__codelineno-28-63"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-64" name="__codelineno-28-64" href="#__codelineno-28-64"></a>
<a id="__codelineno-28-65" name="__codelineno-28-65" href="#__codelineno-28-65"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<a id="__codelineno-28-66" name="__codelineno-28-66" href="#__codelineno-28-66"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-67" name="__codelineno-28-67" href="#__codelineno-28-67"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Error formatting SD Card. Freezing...&quot;</span><span class="p">);</span>
<a id="__codelineno-28-68" name="__codelineno-28-68" href="#__codelineno-28-68"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-28-69" name="__codelineno-28-69" href="#__codelineno-28-69"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-70" name="__codelineno-28-70" href="#__codelineno-28-70"></a>
<a id="__codelineno-28-71" name="__codelineno-28-71" href="#__codelineno-28-71"></a><span class="w">  </span><span class="c1">// Read root root_folder</span>
<a id="__codelineno-28-72" name="__codelineno-28-72" href="#__codelineno-28-72"></a>
<a id="__codelineno-28-73" name="__codelineno-28-73" href="#__codelineno-28-73"></a><span class="w">  </span><span class="kt">DIR</span><span class="w"> </span><span class="o">*</span><span class="n">dir</span><span class="p">;</span>
<a id="__codelineno-28-74" name="__codelineno-28-74" href="#__codelineno-28-74"></a><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">dirent</span><span class="w"> </span><span class="o">*</span><span class="n">ent</span><span class="p">;</span>
<a id="__codelineno-28-75" name="__codelineno-28-75" href="#__codelineno-28-75"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">dirIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-28-76" name="__codelineno-28-76" href="#__codelineno-28-76"></a>
<a id="__codelineno-28-77" name="__codelineno-28-77" href="#__codelineno-28-77"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;*** List SD Card contents: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-78" name="__codelineno-28-78" href="#__codelineno-28-78"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opendir</span><span class="p">(</span><span class="n">root_folder</span><span class="p">.</span><span class="n">c_str</span><span class="p">()))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-28-79" name="__codelineno-28-79" href="#__codelineno-28-79"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-80" name="__codelineno-28-80" href="#__codelineno-28-80"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readdir</span><span class="p">(</span><span class="n">dir</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-28-81" name="__codelineno-28-81" href="#__codelineno-28-81"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-82" name="__codelineno-28-82" href="#__codelineno-28-82"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_REG</span><span class="p">)</span>
<a id="__codelineno-28-83" name="__codelineno-28-83" href="#__codelineno-28-83"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-84" name="__codelineno-28-84" href="#__codelineno-28-84"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- [File]: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-85" name="__codelineno-28-85" href="#__codelineno-28-85"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-86" name="__codelineno-28-86" href="#__codelineno-28-86"></a>
<a id="__codelineno-28-87" name="__codelineno-28-87" href="#__codelineno-28-87"></a><span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_DIR</span><span class="p">)</span>
<a id="__codelineno-28-88" name="__codelineno-28-88" href="#__codelineno-28-88"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-89" name="__codelineno-28-89" href="#__codelineno-28-89"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- [Dir]: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-90" name="__codelineno-28-90" href="#__codelineno-28-90"></a><span class="w">        </span><span class="n">dir_list</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-28-91" name="__codelineno-28-91" href="#__codelineno-28-91"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-92" name="__codelineno-28-92" href="#__codelineno-28-92"></a>
<a id="__codelineno-28-93" name="__codelineno-28-93" href="#__codelineno-28-93"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-28-94" name="__codelineno-28-94" href="#__codelineno-28-94"></a><span class="w">      </span><span class="n">dirIndex</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-28-95" name="__codelineno-28-95" href="#__codelineno-28-95"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-96" name="__codelineno-28-96" href="#__codelineno-28-96"></a><span class="w">    </span><span class="n">closedir</span><span class="p">(</span><span class="n">dir</span><span class="p">);</span>
<a id="__codelineno-28-97" name="__codelineno-28-97" href="#__codelineno-28-97"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-98" name="__codelineno-28-98" href="#__codelineno-28-98"></a><span class="w">  </span><span class="k">else</span>
<a id="__codelineno-28-99" name="__codelineno-28-99" href="#__codelineno-28-99"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-100" name="__codelineno-28-100" href="#__codelineno-28-100"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Error opening SD Card.&quot;</span><span class="p">);</span>
<a id="__codelineno-28-101" name="__codelineno-28-101" href="#__codelineno-28-101"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-28-102" name="__codelineno-28-102" href="#__codelineno-28-102"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-103" name="__codelineno-28-103" href="#__codelineno-28-103"></a>
<a id="__codelineno-28-104" name="__codelineno-28-104" href="#__codelineno-28-104"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">dirIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-28-105" name="__codelineno-28-105" href="#__codelineno-28-105"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-106" name="__codelineno-28-106" href="#__codelineno-28-106"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Empty SD Card.&quot;</span><span class="p">);</span>
<a id="__codelineno-28-107" name="__codelineno-28-107" href="#__codelineno-28-107"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-108" name="__codelineno-28-108" href="#__codelineno-28-108"></a>
<a id="__codelineno-28-109" name="__codelineno-28-109" href="#__codelineno-28-109"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">found_test_folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-28-110" name="__codelineno-28-110" href="#__codelineno-28-110"></a>
<a id="__codelineno-28-111" name="__codelineno-28-111" href="#__codelineno-28-111"></a><span class="w">  </span><span class="c1">// List content of the first level folders</span>
<a id="__codelineno-28-112" name="__codelineno-28-112" href="#__codelineno-28-112"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">dir_list</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
<a id="__codelineno-28-113" name="__codelineno-28-113" href="#__codelineno-28-113"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-114" name="__codelineno-28-114" href="#__codelineno-28-114"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-115" name="__codelineno-28-115" href="#__codelineno-28-115"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Listing content of folders in root: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-116" name="__codelineno-28-116" href="#__codelineno-28-116"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-117" name="__codelineno-28-117" href="#__codelineno-28-117"></a>
<a id="__codelineno-28-118" name="__codelineno-28-118" href="#__codelineno-28-118"></a><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dir_list</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-28-119" name="__codelineno-28-119" href="#__codelineno-28-119"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-120" name="__codelineno-28-120" href="#__codelineno-28-120"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">TEST_FOLDER_NAME</span><span class="p">)</span>
<a id="__codelineno-28-121" name="__codelineno-28-121" href="#__codelineno-28-121"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-122" name="__codelineno-28-122" href="#__codelineno-28-122"></a><span class="w">      </span><span class="n">found_test_folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-28-123" name="__codelineno-28-123" href="#__codelineno-28-123"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-124" name="__codelineno-28-124" href="#__codelineno-28-124"></a>
<a id="__codelineno-28-125" name="__codelineno-28-125" href="#__codelineno-28-125"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- &quot;</span><span class="p">);</span>
<a id="__codelineno-28-126" name="__codelineno-28-126" href="#__codelineno-28-126"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-28-127" name="__codelineno-28-127" href="#__codelineno-28-127"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<a id="__codelineno-28-128" name="__codelineno-28-128" href="#__codelineno-28-128"></a>
<a id="__codelineno-28-129" name="__codelineno-28-129" href="#__codelineno-28-129"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root_folder</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-28-130" name="__codelineno-28-130" href="#__codelineno-28-130"></a><span class="w">    </span><span class="k">if</span><span class="p">((</span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opendir</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">c_str</span><span class="p">()))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-28-131" name="__codelineno-28-131" href="#__codelineno-28-131"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-132" name="__codelineno-28-132" href="#__codelineno-28-132"></a><span class="w">      </span><span class="k">while</span><span class="p">((</span><span class="n">ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readdir</span><span class="p">(</span><span class="n">dir</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-28-133" name="__codelineno-28-133" href="#__codelineno-28-133"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-134" name="__codelineno-28-134" href="#__codelineno-28-134"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_REG</span><span class="p">)</span>
<a id="__codelineno-28-135" name="__codelineno-28-135" href="#__codelineno-28-135"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-28-136" name="__codelineno-28-136" href="#__codelineno-28-136"></a><span class="w">          </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;   - [File]: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-137" name="__codelineno-28-137" href="#__codelineno-28-137"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-28-138" name="__codelineno-28-138" href="#__codelineno-28-138"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_DIR</span><span class="p">)</span>
<a id="__codelineno-28-139" name="__codelineno-28-139" href="#__codelineno-28-139"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-28-140" name="__codelineno-28-140" href="#__codelineno-28-140"></a><span class="w">          </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;   - [Dir]: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-141" name="__codelineno-28-141" href="#__codelineno-28-141"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-28-142" name="__codelineno-28-142" href="#__codelineno-28-142"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-28-143" name="__codelineno-28-143" href="#__codelineno-28-143"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-144" name="__codelineno-28-144" href="#__codelineno-28-144"></a><span class="w">      </span><span class="n">closedir</span><span class="p">(</span><span class="n">dir</span><span class="p">);</span>
<a id="__codelineno-28-145" name="__codelineno-28-145" href="#__codelineno-28-145"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-146" name="__codelineno-28-146" href="#__codelineno-28-146"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-28-147" name="__codelineno-28-147" href="#__codelineno-28-147"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-148" name="__codelineno-28-148" href="#__codelineno-28-148"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Error opening sub-folder&quot;</span><span class="p">);</span>
<a id="__codelineno-28-149" name="__codelineno-28-149" href="#__codelineno-28-149"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-28-150" name="__codelineno-28-150" href="#__codelineno-28-150"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-151" name="__codelineno-28-151" href="#__codelineno-28-151"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-152" name="__codelineno-28-152" href="#__codelineno-28-152"></a>
<a id="__codelineno-28-153" name="__codelineno-28-153" href="#__codelineno-28-153"></a><span class="w">  </span><span class="c1">// Create TEST_FOLDER (if it doesn&#39;t already exist)</span>
<a id="__codelineno-28-154" name="__codelineno-28-154" href="#__codelineno-28-154"></a><span class="w">  </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-28-155" name="__codelineno-28-155" href="#__codelineno-28-155"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">found_test_folder</span><span class="p">)</span>
<a id="__codelineno-28-156" name="__codelineno-28-156" href="#__codelineno-28-156"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-157" name="__codelineno-28-157" href="#__codelineno-28-157"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Test folder not found... creating TEST_FOLDER&quot;</span><span class="p">);</span>
<a id="__codelineno-28-158" name="__codelineno-28-158" href="#__codelineno-28-158"></a><span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mkdir</span><span class="p">(</span><span class="n">folder_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="n">S_IRWXU</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">S_IRWXG</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">S_IRWXO</span><span class="p">);</span>
<a id="__codelineno-28-159" name="__codelineno-28-159" href="#__codelineno-28-159"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-28-160" name="__codelineno-28-160" href="#__codelineno-28-160"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-161" name="__codelineno-28-161" href="#__codelineno-28-161"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Failed folder creation with error &quot;</span><span class="p">);</span>
<a id="__codelineno-28-162" name="__codelineno-28-162" href="#__codelineno-28-162"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">);</span>
<a id="__codelineno-28-163" name="__codelineno-28-163" href="#__codelineno-28-163"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-164" name="__codelineno-28-164" href="#__codelineno-28-164"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-165" name="__codelineno-28-165" href="#__codelineno-28-165"></a>
<a id="__codelineno-28-166" name="__codelineno-28-166" href="#__codelineno-28-166"></a><span class="w">  </span><span class="c1">// Read test file content</span>
<a id="__codelineno-28-167" name="__codelineno-28-167" href="#__codelineno-28-167"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-28-168" name="__codelineno-28-168" href="#__codelineno-28-168"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-28-169" name="__codelineno-28-169" href="#__codelineno-28-169"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">file_dimension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-28-170" name="__codelineno-28-170" href="#__codelineno-28-170"></a><span class="w">    </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<a id="__codelineno-28-171" name="__codelineno-28-171" href="#__codelineno-28-171"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-28-172" name="__codelineno-28-172" href="#__codelineno-28-172"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-173" name="__codelineno-28-173" href="#__codelineno-28-173"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-174" name="__codelineno-28-174" href="#__codelineno-28-174"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-28-175" name="__codelineno-28-175" href="#__codelineno-28-175"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for reading&quot;</span><span class="p">);</span>
<a id="__codelineno-28-176" name="__codelineno-28-176" href="#__codelineno-28-176"></a>
<a id="__codelineno-28-177" name="__codelineno-28-177" href="#__codelineno-28-177"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_END</span><span class="p">);</span>
<a id="__codelineno-28-178" name="__codelineno-28-178" href="#__codelineno-28-178"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">numbytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftell</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-28-179" name="__codelineno-28-179" href="#__codelineno-28-179"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span>
<a id="__codelineno-28-180" name="__codelineno-28-180" href="#__codelineno-28-180"></a>
<a id="__codelineno-28-181" name="__codelineno-28-181" href="#__codelineno-28-181"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Bytes in the file: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-182" name="__codelineno-28-182" href="#__codelineno-28-182"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">numbytes</span><span class="p">);</span>
<a id="__codelineno-28-183" name="__codelineno-28-183" href="#__codelineno-28-183"></a><span class="w">      </span><span class="n">file_dimension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span>
<a id="__codelineno-28-184" name="__codelineno-28-184" href="#__codelineno-28-184"></a>
<a id="__codelineno-28-185" name="__codelineno-28-185" href="#__codelineno-28-185"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-28-186" name="__codelineno-28-186" href="#__codelineno-28-186"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-187" name="__codelineno-28-187" href="#__codelineno-28-187"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-188" name="__codelineno-28-188" href="#__codelineno-28-188"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;----- START FILE CONTENT -----&quot;</span><span class="p">);</span>
<a id="__codelineno-28-189" name="__codelineno-28-189" href="#__codelineno-28-189"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-190" name="__codelineno-28-190" href="#__codelineno-28-190"></a>
<a id="__codelineno-28-191" name="__codelineno-28-191" href="#__codelineno-28-191"></a><span class="w">      </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-28-192" name="__codelineno-28-192" href="#__codelineno-28-192"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-193" name="__codelineno-28-193" href="#__codelineno-28-193"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<a id="__codelineno-28-194" name="__codelineno-28-194" href="#__codelineno-28-194"></a><span class="w">        </span><span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-28-195" name="__codelineno-28-195" href="#__codelineno-28-195"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
<a id="__codelineno-28-196" name="__codelineno-28-196" href="#__codelineno-28-196"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-197" name="__codelineno-28-197" href="#__codelineno-28-197"></a>
<a id="__codelineno-28-198" name="__codelineno-28-198" href="#__codelineno-28-198"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-28-199" name="__codelineno-28-199" href="#__codelineno-28-199"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-200" name="__codelineno-28-200" href="#__codelineno-28-200"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;----- END FILE CONTENT -----&quot;</span><span class="p">);</span>
<a id="__codelineno-28-201" name="__codelineno-28-201" href="#__codelineno-28-201"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-202" name="__codelineno-28-202" href="#__codelineno-28-202"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-203" name="__codelineno-28-203" href="#__codelineno-28-203"></a><span class="w">      </span><span class="k">else</span>
<a id="__codelineno-28-204" name="__codelineno-28-204" href="#__codelineno-28-204"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-205" name="__codelineno-28-205" href="#__codelineno-28-205"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;File is Empty!&quot;</span><span class="p">);</span>
<a id="__codelineno-28-206" name="__codelineno-28-206" href="#__codelineno-28-206"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-207" name="__codelineno-28-207" href="#__codelineno-28-207"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-208" name="__codelineno-28-208" href="#__codelineno-28-208"></a>
<a id="__codelineno-28-209" name="__codelineno-28-209" href="#__codelineno-28-209"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-28-210" name="__codelineno-28-210" href="#__codelineno-28-210"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-211" name="__codelineno-28-211" href="#__codelineno-28-211"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-28-212" name="__codelineno-28-212" href="#__codelineno-28-212"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-213" name="__codelineno-28-213" href="#__codelineno-28-213"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Failed to open file: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-214" name="__codelineno-28-214" href="#__codelineno-28-214"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-28-215" name="__codelineno-28-215" href="#__codelineno-28-215"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-216" name="__codelineno-28-216" href="#__codelineno-28-216"></a>
<a id="__codelineno-28-217" name="__codelineno-28-217" href="#__codelineno-28-217"></a><span class="w">    </span><span class="c1">// Delete file if the file dimension is greater than 150 bytes</span>
<a id="__codelineno-28-218" name="__codelineno-28-218" href="#__codelineno-28-218"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">file_dimension</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">DELETE_FILE_DIMENSION</span><span class="p">)</span>
<a id="__codelineno-28-219" name="__codelineno-28-219" href="#__codelineno-28-219"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-220" name="__codelineno-28-220" href="#__codelineno-28-220"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Test file reached the delete dimension... deleting it!&quot;</span><span class="p">);</span>
<a id="__codelineno-28-221" name="__codelineno-28-221" href="#__codelineno-28-221"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">remove</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">())</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-28-222" name="__codelineno-28-222" href="#__codelineno-28-222"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-223" name="__codelineno-28-223" href="#__codelineno-28-223"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Test file has been deleted!&quot;</span><span class="p">);</span>
<a id="__codelineno-28-224" name="__codelineno-28-224" href="#__codelineno-28-224"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-225" name="__codelineno-28-225" href="#__codelineno-28-225"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-226" name="__codelineno-28-226" href="#__codelineno-28-226"></a>
<a id="__codelineno-28-227" name="__codelineno-28-227" href="#__codelineno-28-227"></a><span class="w">    </span><span class="c1">// Append to the file.</span>
<a id="__codelineno-28-228" name="__codelineno-28-228" href="#__codelineno-28-228"></a><span class="w">    </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<a id="__codelineno-28-229" name="__codelineno-28-229" href="#__codelineno-28-229"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-28-230" name="__codelineno-28-230" href="#__codelineno-28-230"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-231" name="__codelineno-28-231" href="#__codelineno-28-231"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-232" name="__codelineno-28-232" href="#__codelineno-28-232"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-28-233" name="__codelineno-28-233" href="#__codelineno-28-233"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for writing (append)&quot;</span><span class="p">);</span>
<a id="__codelineno-28-234" name="__codelineno-28-234" href="#__codelineno-28-234"></a>
<a id="__codelineno-28-235" name="__codelineno-28-235" href="#__codelineno-28-235"></a><span class="w">      </span><span class="kt">char</span><span class="w"> </span><span class="n">text</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;This line has been appended to file!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-28-236" name="__codelineno-28-236" href="#__codelineno-28-236"></a><span class="w">      </span><span class="n">fwrite</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">text</span><span class="p">),</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-28-237" name="__codelineno-28-237" href="#__codelineno-28-237"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-28-238" name="__codelineno-28-238" href="#__codelineno-28-238"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-239" name="__codelineno-28-239" href="#__codelineno-28-239"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-28-240" name="__codelineno-28-240" href="#__codelineno-28-240"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-241" name="__codelineno-28-241" href="#__codelineno-28-241"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Failed open file for appending &quot;</span><span class="p">);</span>
<a id="__codelineno-28-242" name="__codelineno-28-242" href="#__codelineno-28-242"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-28-243" name="__codelineno-28-243" href="#__codelineno-28-243"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-244" name="__codelineno-28-244" href="#__codelineno-28-244"></a>
<a id="__codelineno-28-245" name="__codelineno-28-245" href="#__codelineno-28-245"></a><span class="w">    </span><span class="c1">// Read file content again</span>
<a id="__codelineno-28-246" name="__codelineno-28-246" href="#__codelineno-28-246"></a><span class="w">    </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<a id="__codelineno-28-247" name="__codelineno-28-247" href="#__codelineno-28-247"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<a id="__codelineno-28-248" name="__codelineno-28-248" href="#__codelineno-28-248"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-249" name="__codelineno-28-249" href="#__codelineno-28-249"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-250" name="__codelineno-28-250" href="#__codelineno-28-250"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-28-251" name="__codelineno-28-251" href="#__codelineno-28-251"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for reading&quot;</span><span class="p">);</span>
<a id="__codelineno-28-252" name="__codelineno-28-252" href="#__codelineno-28-252"></a>
<a id="__codelineno-28-253" name="__codelineno-28-253" href="#__codelineno-28-253"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_END</span><span class="p">);</span>
<a id="__codelineno-28-254" name="__codelineno-28-254" href="#__codelineno-28-254"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">numbytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftell</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-28-255" name="__codelineno-28-255" href="#__codelineno-28-255"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span>
<a id="__codelineno-28-256" name="__codelineno-28-256" href="#__codelineno-28-256"></a>
<a id="__codelineno-28-257" name="__codelineno-28-257" href="#__codelineno-28-257"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Bytes in the file: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-258" name="__codelineno-28-258" href="#__codelineno-28-258"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">numbytes</span><span class="p">);</span>
<a id="__codelineno-28-259" name="__codelineno-28-259" href="#__codelineno-28-259"></a>
<a id="__codelineno-28-260" name="__codelineno-28-260" href="#__codelineno-28-260"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-28-261" name="__codelineno-28-261" href="#__codelineno-28-261"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-262" name="__codelineno-28-262" href="#__codelineno-28-262"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-263" name="__codelineno-28-263" href="#__codelineno-28-263"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;----- START FILE CONTENT -----&quot;</span><span class="p">);</span>
<a id="__codelineno-28-264" name="__codelineno-28-264" href="#__codelineno-28-264"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-265" name="__codelineno-28-265" href="#__codelineno-28-265"></a>
<a id="__codelineno-28-266" name="__codelineno-28-266" href="#__codelineno-28-266"></a><span class="w">      </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-28-267" name="__codelineno-28-267" href="#__codelineno-28-267"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-268" name="__codelineno-28-268" href="#__codelineno-28-268"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<a id="__codelineno-28-269" name="__codelineno-28-269" href="#__codelineno-28-269"></a><span class="w">        </span><span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-28-270" name="__codelineno-28-270" href="#__codelineno-28-270"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
<a id="__codelineno-28-271" name="__codelineno-28-271" href="#__codelineno-28-271"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-272" name="__codelineno-28-272" href="#__codelineno-28-272"></a>
<a id="__codelineno-28-273" name="__codelineno-28-273" href="#__codelineno-28-273"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-28-274" name="__codelineno-28-274" href="#__codelineno-28-274"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-275" name="__codelineno-28-275" href="#__codelineno-28-275"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;----- END FILE CONTENT -----&quot;</span><span class="p">);</span>
<a id="__codelineno-28-276" name="__codelineno-28-276" href="#__codelineno-28-276"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-277" name="__codelineno-28-277" href="#__codelineno-28-277"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-278" name="__codelineno-28-278" href="#__codelineno-28-278"></a><span class="w">      </span><span class="k">else</span>
<a id="__codelineno-28-279" name="__codelineno-28-279" href="#__codelineno-28-279"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-280" name="__codelineno-28-280" href="#__codelineno-28-280"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;File is EMPTY!&quot;</span><span class="p">);</span>
<a id="__codelineno-28-281" name="__codelineno-28-281" href="#__codelineno-28-281"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-28-282" name="__codelineno-28-282" href="#__codelineno-28-282"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-28-283" name="__codelineno-28-283" href="#__codelineno-28-283"></a>
<a id="__codelineno-28-284" name="__codelineno-28-284" href="#__codelineno-28-284"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-28-285" name="__codelineno-28-285" href="#__codelineno-28-285"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-286" name="__codelineno-28-286" href="#__codelineno-28-286"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-28-287" name="__codelineno-28-287" href="#__codelineno-28-287"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-28-288" name="__codelineno-28-288" href="#__codelineno-28-288"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Failed to open file for appending: &quot;</span><span class="p">);</span>
<a id="__codelineno-28-289" name="__codelineno-28-289" href="#__codelineno-28-289"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-28-290" name="__codelineno-28-290" href="#__codelineno-28-290"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-291" name="__codelineno-28-291" href="#__codelineno-28-291"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-28-292" name="__codelineno-28-292" href="#__codelineno-28-292"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;This is the end. Goodbye.&quot;</span><span class="p">);</span>
<a id="__codelineno-28-293" name="__codelineno-28-293" href="#__codelineno-28-293"></a>
<a id="__codelineno-28-294" name="__codelineno-28-294" href="#__codelineno-28-294"></a><span class="p">}</span>
<a id="__codelineno-28-295" name="__codelineno-28-295" href="#__codelineno-28-295"></a>
<a id="__codelineno-28-296" name="__codelineno-28-296" href="#__codelineno-28-296"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-28-297" name="__codelineno-28-297" href="#__codelineno-28-297"></a><span class="p">{</span>
<a id="__codelineno-28-298" name="__codelineno-28-298" href="#__codelineno-28-298"></a><span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-28-299" name="__codelineno-28-299" href="#__codelineno-28-299"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;[DEBUG] SD_Test.ino - LED On.&quot;</span><span class="p">);</span>
<a id="__codelineno-28-300" name="__codelineno-28-300" href="#__codelineno-28-300"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-28-301" name="__codelineno-28-301" href="#__codelineno-28-301"></a><span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-28-302" name="__codelineno-28-302" href="#__codelineno-28-302"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;[DEBUG] SD_Test.ino - LED Off.&quot;</span><span class="p">);</span>
<a id="__codelineno-28-303" name="__codelineno-28-303" href="#__codelineno-28-303"></a><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-28-304" name="__codelineno-28-304" href="#__codelineno-28-304"></a><span class="p">}</span>
</code></pre></div>
-->

<details class="code">
<summary><code>TestSDCARD.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="cm">/*</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="cm">  Portenta H33 - TestSDCARD with Fat FS</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="cm">  The sketch shows how to mount an SDCARD and list its content.</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="cm">  The circuit:</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="cm">   - Portenta H33 + Portenta Breakout </span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="cm">  created January 31th, 2023</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="cm">  by Daniele Aimo</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="cm">  This example code is in the public domain.</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="cm">*/</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;SDCardBlockDevice.h&quot;</span>
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;FATFileSystem.h&quot;</span>
<a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a>
<a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="cp">#define TEST_FS_NAME &quot;fs&quot;</span>
<a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a><span class="cp">#define TEST_FOLDER_NAME &quot;TEST_FOLDER&quot;</span>
<a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a><span class="cp">#define TEST_FILE &quot;test.txt&quot;</span>
<a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a><span class="cp">#define DELETE_FILE_DIMENSION 150</span>
<a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a>
<a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a>
<a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a><span class="n">SDCardBlockDevice</span><span class="w"> </span><span class="nf">block_device</span><span class="p">(</span><span class="n">PIN_SDHI_CLK</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_CMD</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D0</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D1</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D2</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_D3</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_CD</span><span class="p">,</span><span class="w"> </span><span class="n">PIN_SDHI_WP</span><span class="p">);</span>
<a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a><span class="n">FATFileSystem</span><span class="w"> </span><span class="nf">fs</span><span class="p">(</span><span class="n">TEST_FS_NAME</span><span class="p">);</span>
<a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a>
<a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">root_folder</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FS_NAME</span><span class="p">);</span>
<a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">folder_test_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">root_folder</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FOLDER_NAME</span><span class="p">);</span>
<a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">file_test_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">folder_test_name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">TEST_FILE</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a>
<a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a><span class="w">  </span><span class="cm">/*</span>
<a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a><span class="cm">   *  SERIAL INITIALIZATION</span>
<a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a><span class="cm">   */</span>
<a id="__codelineno-29-37" name="__codelineno-29-37" href="#__codelineno-29-37"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<a id="__codelineno-29-38" name="__codelineno-29-38" href="#__codelineno-29-38"></a><span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">Serial</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-39" name="__codelineno-29-39" href="#__codelineno-29-39"></a>
<a id="__codelineno-29-40" name="__codelineno-29-40" href="#__codelineno-29-40"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-41" name="__codelineno-29-41" href="#__codelineno-29-41"></a>
<a id="__codelineno-29-42" name="__codelineno-29-42" href="#__codelineno-29-42"></a><span class="w">  </span><span class="cm">/* list to store all directory in the root */</span>
<a id="__codelineno-29-43" name="__codelineno-29-43" href="#__codelineno-29-43"></a><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dir_list</span><span class="p">;</span>
<a id="__codelineno-29-44" name="__codelineno-29-44" href="#__codelineno-29-44"></a>
<a id="__codelineno-29-45" name="__codelineno-29-45" href="#__codelineno-29-45"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-46" name="__codelineno-29-46" href="#__codelineno-29-46"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;##### TEST SD CARD with FAT FS&quot;</span><span class="p">);</span>
<a id="__codelineno-29-47" name="__codelineno-29-47" href="#__codelineno-29-47"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-48" name="__codelineno-29-48" href="#__codelineno-29-48"></a>
<a id="__codelineno-29-49" name="__codelineno-29-49" href="#__codelineno-29-49"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-29-50" name="__codelineno-29-50" href="#__codelineno-29-50"></a><span class="cm">   *  MOUNTING SDCARD AS FATFS filesystem</span>
<a id="__codelineno-29-51" name="__codelineno-29-51" href="#__codelineno-29-51"></a><span class="cm">   */</span>
<a id="__codelineno-29-52" name="__codelineno-29-52" href="#__codelineno-29-52"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Mounting SDCARD...&quot;</span><span class="p">);</span>
<a id="__codelineno-29-53" name="__codelineno-29-53" href="#__codelineno-29-53"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">fs</span><span class="p">.</span><span class="n">mount</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block_device</span><span class="p">);</span>
<a id="__codelineno-29-54" name="__codelineno-29-54" href="#__codelineno-29-54"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-55" name="__codelineno-29-55" href="#__codelineno-29-55"></a><span class="w">    </span><span class="c1">// Reformat if we can&#39;t mount the filesystem</span>
<a id="__codelineno-29-56" name="__codelineno-29-56" href="#__codelineno-29-56"></a><span class="w">    </span><span class="c1">// this should only happen on the first boot</span>
<a id="__codelineno-29-57" name="__codelineno-29-57" href="#__codelineno-29-57"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;No filesystem found, formatting... &quot;</span><span class="p">);</span>
<a id="__codelineno-29-58" name="__codelineno-29-58" href="#__codelineno-29-58"></a><span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fs</span><span class="p">.</span><span class="n">reformat</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block_device</span><span class="p">);</span>
<a id="__codelineno-29-59" name="__codelineno-29-59" href="#__codelineno-29-59"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-60" name="__codelineno-29-60" href="#__codelineno-29-60"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-61" name="__codelineno-29-61" href="#__codelineno-29-61"></a><span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Error formatting SDCARD &quot;</span><span class="p">);</span>
<a id="__codelineno-29-62" name="__codelineno-29-62" href="#__codelineno-29-62"></a><span class="w">     </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-29-63" name="__codelineno-29-63" href="#__codelineno-29-63"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-64" name="__codelineno-29-64" href="#__codelineno-29-64"></a>
<a id="__codelineno-29-65" name="__codelineno-29-65" href="#__codelineno-29-65"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-29-66" name="__codelineno-29-66" href="#__codelineno-29-66"></a><span class="cm">   *  READING root folder</span>
<a id="__codelineno-29-67" name="__codelineno-29-67" href="#__codelineno-29-67"></a><span class="cm">   */</span>
<a id="__codelineno-29-68" name="__codelineno-29-68" href="#__codelineno-29-68"></a>
<a id="__codelineno-29-69" name="__codelineno-29-69" href="#__codelineno-29-69"></a><span class="w">  </span><span class="kt">DIR</span><span class="w"> </span><span class="o">*</span><span class="n">dir</span><span class="p">;</span>
<a id="__codelineno-29-70" name="__codelineno-29-70" href="#__codelineno-29-70"></a><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">dirent</span><span class="w"> </span><span class="o">*</span><span class="n">ent</span><span class="p">;</span>
<a id="__codelineno-29-71" name="__codelineno-29-71" href="#__codelineno-29-71"></a><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">dirIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-29-72" name="__codelineno-29-72" href="#__codelineno-29-72"></a>
<a id="__codelineno-29-73" name="__codelineno-29-73" href="#__codelineno-29-73"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;*** List SD CARD content: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-74" name="__codelineno-29-74" href="#__codelineno-29-74"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opendir</span><span class="p">(</span><span class="n">root_folder</span><span class="p">.</span><span class="n">c_str</span><span class="p">()))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-75" name="__codelineno-29-75" href="#__codelineno-29-75"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readdir</span><span class="w"> </span><span class="p">(</span><span class="n">dir</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-76" name="__codelineno-29-76" href="#__codelineno-29-76"></a>
<a id="__codelineno-29-77" name="__codelineno-29-77" href="#__codelineno-29-77"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_REG</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-78" name="__codelineno-29-78" href="#__codelineno-29-78"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- [File]: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-79" name="__codelineno-29-79" href="#__codelineno-29-79"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-80" name="__codelineno-29-80" href="#__codelineno-29-80"></a>
<a id="__codelineno-29-81" name="__codelineno-29-81" href="#__codelineno-29-81"></a><span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_DIR</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-82" name="__codelineno-29-82" href="#__codelineno-29-82"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- [Fold]: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-83" name="__codelineno-29-83" href="#__codelineno-29-83"></a><span class="w">        </span><span class="n">dir_list</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-29-84" name="__codelineno-29-84" href="#__codelineno-29-84"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-85" name="__codelineno-29-85" href="#__codelineno-29-85"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-29-86" name="__codelineno-29-86" href="#__codelineno-29-86"></a><span class="w">      </span><span class="n">dirIndex</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-29-87" name="__codelineno-29-87" href="#__codelineno-29-87"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-88" name="__codelineno-29-88" href="#__codelineno-29-88"></a><span class="w">    </span><span class="n">closedir</span><span class="w"> </span><span class="p">(</span><span class="n">dir</span><span class="p">);</span>
<a id="__codelineno-29-89" name="__codelineno-29-89" href="#__codelineno-29-89"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-29-90" name="__codelineno-29-90" href="#__codelineno-29-90"></a><span class="w">  </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-91" name="__codelineno-29-91" href="#__codelineno-29-91"></a><span class="w">    </span><span class="c1">// Could not open directory</span>
<a id="__codelineno-29-92" name="__codelineno-29-92" href="#__codelineno-29-92"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Error opening SDCARD</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-29-93" name="__codelineno-29-93" href="#__codelineno-29-93"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-29-94" name="__codelineno-29-94" href="#__codelineno-29-94"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-95" name="__codelineno-29-95" href="#__codelineno-29-95"></a>
<a id="__codelineno-29-96" name="__codelineno-29-96" href="#__codelineno-29-96"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">dirIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-97" name="__codelineno-29-97" href="#__codelineno-29-97"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Empty SDCARD&quot;</span><span class="p">);</span>
<a id="__codelineno-29-98" name="__codelineno-29-98" href="#__codelineno-29-98"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-99" name="__codelineno-29-99" href="#__codelineno-29-99"></a>
<a id="__codelineno-29-100" name="__codelineno-29-100" href="#__codelineno-29-100"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">found_test_folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-29-101" name="__codelineno-29-101" href="#__codelineno-29-101"></a>
<a id="__codelineno-29-102" name="__codelineno-29-102" href="#__codelineno-29-102"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-29-103" name="__codelineno-29-103" href="#__codelineno-29-103"></a><span class="cm">   *  LISTING CONTENT of the first level folders (the one immediately present in root folder)</span>
<a id="__codelineno-29-104" name="__codelineno-29-104" href="#__codelineno-29-104"></a><span class="cm">   */</span>
<a id="__codelineno-29-105" name="__codelineno-29-105" href="#__codelineno-29-105"></a>
<a id="__codelineno-29-106" name="__codelineno-29-106" href="#__codelineno-29-106"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">dir_list</span><span class="p">.</span><span class="n">size</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-107" name="__codelineno-29-107" href="#__codelineno-29-107"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-108" name="__codelineno-29-108" href="#__codelineno-29-108"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Listing content of folders in root: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-109" name="__codelineno-29-109" href="#__codelineno-29-109"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-110" name="__codelineno-29-110" href="#__codelineno-29-110"></a><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dir_list</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-111" name="__codelineno-29-111" href="#__codelineno-29-111"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">TEST_FOLDER_NAME</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-112" name="__codelineno-29-112" href="#__codelineno-29-112"></a><span class="w">      </span><span class="n">found_test_folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-29-113" name="__codelineno-29-113" href="#__codelineno-29-113"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-114" name="__codelineno-29-114" href="#__codelineno-29-114"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;- &quot;</span><span class="p">);</span>
<a id="__codelineno-29-115" name="__codelineno-29-115" href="#__codelineno-29-115"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-29-116" name="__codelineno-29-116" href="#__codelineno-29-116"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<a id="__codelineno-29-117" name="__codelineno-29-117" href="#__codelineno-29-117"></a>
<a id="__codelineno-29-118" name="__codelineno-29-118" href="#__codelineno-29-118"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root_folder</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dir_list</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-29-119" name="__codelineno-29-119" href="#__codelineno-29-119"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">opendir</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">c_str</span><span class="p">()))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-120" name="__codelineno-29-120" href="#__codelineno-29-120"></a><span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readdir</span><span class="w"> </span><span class="p">(</span><span class="n">dir</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-121" name="__codelineno-29-121" href="#__codelineno-29-121"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_REG</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-122" name="__codelineno-29-122" href="#__codelineno-29-122"></a><span class="w">          </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;   - [File]: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-123" name="__codelineno-29-123" href="#__codelineno-29-123"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-29-124" name="__codelineno-29-124" href="#__codelineno-29-124"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DT_DIR</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-125" name="__codelineno-29-125" href="#__codelineno-29-125"></a><span class="w">          </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;   - [Fold]: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-126" name="__codelineno-29-126" href="#__codelineno-29-126"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-29-127" name="__codelineno-29-127" href="#__codelineno-29-127"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ent</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
<a id="__codelineno-29-128" name="__codelineno-29-128" href="#__codelineno-29-128"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-129" name="__codelineno-29-129" href="#__codelineno-29-129"></a><span class="w">      </span><span class="n">closedir</span><span class="w"> </span><span class="p">(</span><span class="n">dir</span><span class="p">);</span>
<a id="__codelineno-29-130" name="__codelineno-29-130" href="#__codelineno-29-130"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-131" name="__codelineno-29-131" href="#__codelineno-29-131"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-132" name="__codelineno-29-132" href="#__codelineno-29-132"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;ERROR OPENING SUB-FOLDER &quot;</span><span class="p">);</span>
<a id="__codelineno-29-133" name="__codelineno-29-133" href="#__codelineno-29-133"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-29-134" name="__codelineno-29-134" href="#__codelineno-29-134"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-135" name="__codelineno-29-135" href="#__codelineno-29-135"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-136" name="__codelineno-29-136" href="#__codelineno-29-136"></a>
<a id="__codelineno-29-137" name="__codelineno-29-137" href="#__codelineno-29-137"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-29-138" name="__codelineno-29-138" href="#__codelineno-29-138"></a><span class="cm">   *  CREATING TEST FOLDER (if does not exist already)</span>
<a id="__codelineno-29-139" name="__codelineno-29-139" href="#__codelineno-29-139"></a><span class="cm">   */</span>
<a id="__codelineno-29-140" name="__codelineno-29-140" href="#__codelineno-29-140"></a>
<a id="__codelineno-29-141" name="__codelineno-29-141" href="#__codelineno-29-141"></a><span class="w">  </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-29-142" name="__codelineno-29-142" href="#__codelineno-29-142"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">found_test_folder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-143" name="__codelineno-29-143" href="#__codelineno-29-143"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;TEST FOLDER NOT FOUND... creating folder test&quot;</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-29-144" name="__codelineno-29-144" href="#__codelineno-29-144"></a><span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mkdir</span><span class="p">(</span><span class="n">folder_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="n">S_IRWXU</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">S_IRWXG</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">S_IRWXO</span><span class="p">);</span>
<a id="__codelineno-29-145" name="__codelineno-29-145" href="#__codelineno-29-145"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-146" name="__codelineno-29-146" href="#__codelineno-29-146"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;FAILED folder creation with error &quot;</span><span class="p">);</span>
<a id="__codelineno-29-147" name="__codelineno-29-147" href="#__codelineno-29-147"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">);</span>
<a id="__codelineno-29-148" name="__codelineno-29-148" href="#__codelineno-29-148"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-149" name="__codelineno-29-149" href="#__codelineno-29-149"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-150" name="__codelineno-29-150" href="#__codelineno-29-150"></a>
<a id="__codelineno-29-151" name="__codelineno-29-151" href="#__codelineno-29-151"></a><span class="w">  </span><span class="cm">/* </span>
<a id="__codelineno-29-152" name="__codelineno-29-152" href="#__codelineno-29-152"></a><span class="cm">   *  READING TEST FILE CONTENT</span>
<a id="__codelineno-29-153" name="__codelineno-29-153" href="#__codelineno-29-153"></a><span class="cm">   */</span>
<a id="__codelineno-29-154" name="__codelineno-29-154" href="#__codelineno-29-154"></a>
<a id="__codelineno-29-155" name="__codelineno-29-155" href="#__codelineno-29-155"></a><span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-156" name="__codelineno-29-156" href="#__codelineno-29-156"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">file_dimension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-29-157" name="__codelineno-29-157" href="#__codelineno-29-157"></a><span class="w">    </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<a id="__codelineno-29-158" name="__codelineno-29-158" href="#__codelineno-29-158"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-159" name="__codelineno-29-159" href="#__codelineno-29-159"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-160" name="__codelineno-29-160" href="#__codelineno-29-160"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-29-161" name="__codelineno-29-161" href="#__codelineno-29-161"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for reading&quot;</span><span class="p">);</span>
<a id="__codelineno-29-162" name="__codelineno-29-162" href="#__codelineno-29-162"></a>
<a id="__codelineno-29-163" name="__codelineno-29-163" href="#__codelineno-29-163"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_END</span><span class="p">);</span>
<a id="__codelineno-29-164" name="__codelineno-29-164" href="#__codelineno-29-164"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">numbytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftell</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-29-165" name="__codelineno-29-165" href="#__codelineno-29-165"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-29-166" name="__codelineno-29-166" href="#__codelineno-29-166"></a>
<a id="__codelineno-29-167" name="__codelineno-29-167" href="#__codelineno-29-167"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Bytes in the file: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-168" name="__codelineno-29-168" href="#__codelineno-29-168"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">numbytes</span><span class="p">);</span>
<a id="__codelineno-29-169" name="__codelineno-29-169" href="#__codelineno-29-169"></a><span class="w">      </span><span class="n">file_dimension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span>
<a id="__codelineno-29-170" name="__codelineno-29-170" href="#__codelineno-29-170"></a>
<a id="__codelineno-29-171" name="__codelineno-29-171" href="#__codelineno-29-171"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-172" name="__codelineno-29-172" href="#__codelineno-29-172"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-173" name="__codelineno-29-173" href="#__codelineno-29-173"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;-------------------- START FILE CONTENT --------------------&quot;</span><span class="p">);</span>
<a id="__codelineno-29-174" name="__codelineno-29-174" href="#__codelineno-29-174"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-175" name="__codelineno-29-175" href="#__codelineno-29-175"></a>
<a id="__codelineno-29-176" name="__codelineno-29-176" href="#__codelineno-29-176"></a><span class="w">      </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-177" name="__codelineno-29-177" href="#__codelineno-29-177"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<a id="__codelineno-29-178" name="__codelineno-29-178" href="#__codelineno-29-178"></a><span class="w">        </span><span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-29-179" name="__codelineno-29-179" href="#__codelineno-29-179"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
<a id="__codelineno-29-180" name="__codelineno-29-180" href="#__codelineno-29-180"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-181" name="__codelineno-29-181" href="#__codelineno-29-181"></a>
<a id="__codelineno-29-182" name="__codelineno-29-182" href="#__codelineno-29-182"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-183" name="__codelineno-29-183" href="#__codelineno-29-183"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;--------------------- END FILE CONTENT ---------------------&quot;</span><span class="p">);</span>
<a id="__codelineno-29-184" name="__codelineno-29-184" href="#__codelineno-29-184"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-185" name="__codelineno-29-185" href="#__codelineno-29-185"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-186" name="__codelineno-29-186" href="#__codelineno-29-186"></a><span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-187" name="__codelineno-29-187" href="#__codelineno-29-187"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;File is EMPTY!&quot;</span><span class="p">);</span>
<a id="__codelineno-29-188" name="__codelineno-29-188" href="#__codelineno-29-188"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-189" name="__codelineno-29-189" href="#__codelineno-29-189"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-190" name="__codelineno-29-190" href="#__codelineno-29-190"></a>
<a id="__codelineno-29-191" name="__codelineno-29-191" href="#__codelineno-29-191"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-29-192" name="__codelineno-29-192" href="#__codelineno-29-192"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-193" name="__codelineno-29-193" href="#__codelineno-29-193"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-194" name="__codelineno-29-194" href="#__codelineno-29-194"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;FAILED open file &quot;</span><span class="p">);</span>
<a id="__codelineno-29-195" name="__codelineno-29-195" href="#__codelineno-29-195"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-29-196" name="__codelineno-29-196" href="#__codelineno-29-196"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-197" name="__codelineno-29-197" href="#__codelineno-29-197"></a>
<a id="__codelineno-29-198" name="__codelineno-29-198" href="#__codelineno-29-198"></a><span class="w">    </span><span class="cm">/*</span>
<a id="__codelineno-29-199" name="__codelineno-29-199" href="#__codelineno-29-199"></a><span class="cm">     * DELETE FILE IF THE File dimension is greater than 150 bytes</span>
<a id="__codelineno-29-200" name="__codelineno-29-200" href="#__codelineno-29-200"></a><span class="cm">     */</span>
<a id="__codelineno-29-201" name="__codelineno-29-201" href="#__codelineno-29-201"></a>
<a id="__codelineno-29-202" name="__codelineno-29-202" href="#__codelineno-29-202"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">file_dimension</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">DELETE_FILE_DIMENSION</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-203" name="__codelineno-29-203" href="#__codelineno-29-203"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Test file reached the delete dimension... deleting it!&quot;</span><span class="p">);</span>
<a id="__codelineno-29-204" name="__codelineno-29-204" href="#__codelineno-29-204"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">remove</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">())</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-205" name="__codelineno-29-205" href="#__codelineno-29-205"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;TEST FILE HAS BEEN DELETED!&quot;</span><span class="p">);</span>
<a id="__codelineno-29-206" name="__codelineno-29-206" href="#__codelineno-29-206"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-207" name="__codelineno-29-207" href="#__codelineno-29-207"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-208" name="__codelineno-29-208" href="#__codelineno-29-208"></a>
<a id="__codelineno-29-209" name="__codelineno-29-209" href="#__codelineno-29-209"></a><span class="w">    </span><span class="cm">/*</span>
<a id="__codelineno-29-210" name="__codelineno-29-210" href="#__codelineno-29-210"></a><span class="cm">     * APPENDING SOMETHING TO FILE </span>
<a id="__codelineno-29-211" name="__codelineno-29-211" href="#__codelineno-29-211"></a><span class="cm">     */</span>
<a id="__codelineno-29-212" name="__codelineno-29-212" href="#__codelineno-29-212"></a>
<a id="__codelineno-29-213" name="__codelineno-29-213" href="#__codelineno-29-213"></a><span class="w">    </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<a id="__codelineno-29-214" name="__codelineno-29-214" href="#__codelineno-29-214"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-215" name="__codelineno-29-215" href="#__codelineno-29-215"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-216" name="__codelineno-29-216" href="#__codelineno-29-216"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-29-217" name="__codelineno-29-217" href="#__codelineno-29-217"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for writing (append)&quot;</span><span class="p">);</span>
<a id="__codelineno-29-218" name="__codelineno-29-218" href="#__codelineno-29-218"></a><span class="w">      </span><span class="kt">char</span><span class="w"> </span><span class="n">text</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;This line has been appended to file!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-29-219" name="__codelineno-29-219" href="#__codelineno-29-219"></a><span class="w">      </span><span class="n">fwrite</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">text</span><span class="p">),</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-29-220" name="__codelineno-29-220" href="#__codelineno-29-220"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-29-221" name="__codelineno-29-221" href="#__codelineno-29-221"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-222" name="__codelineno-29-222" href="#__codelineno-29-222"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-223" name="__codelineno-29-223" href="#__codelineno-29-223"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;FAILED open file for appending &quot;</span><span class="p">);</span>
<a id="__codelineno-29-224" name="__codelineno-29-224" href="#__codelineno-29-224"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-29-225" name="__codelineno-29-225" href="#__codelineno-29-225"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-226" name="__codelineno-29-226" href="#__codelineno-29-226"></a>
<a id="__codelineno-29-227" name="__codelineno-29-227" href="#__codelineno-29-227"></a><span class="w">    </span><span class="cm">/*</span>
<a id="__codelineno-29-228" name="__codelineno-29-228" href="#__codelineno-29-228"></a><span class="cm">     * READING AGAIN FILE CONTENT</span>
<a id="__codelineno-29-229" name="__codelineno-29-229" href="#__codelineno-29-229"></a><span class="cm">     */</span>
<a id="__codelineno-29-230" name="__codelineno-29-230" href="#__codelineno-29-230"></a>
<a id="__codelineno-29-231" name="__codelineno-29-231" href="#__codelineno-29-231"></a><span class="w">    </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<a id="__codelineno-29-232" name="__codelineno-29-232" href="#__codelineno-29-232"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-233" name="__codelineno-29-233" href="#__codelineno-29-233"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Opened file: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-234" name="__codelineno-29-234" href="#__codelineno-29-234"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-29-235" name="__codelineno-29-235" href="#__codelineno-29-235"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; for reading&quot;</span><span class="p">);</span>
<a id="__codelineno-29-236" name="__codelineno-29-236" href="#__codelineno-29-236"></a>
<a id="__codelineno-29-237" name="__codelineno-29-237" href="#__codelineno-29-237"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_END</span><span class="p">);</span>
<a id="__codelineno-29-238" name="__codelineno-29-238" href="#__codelineno-29-238"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">numbytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftell</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-29-239" name="__codelineno-29-239" href="#__codelineno-29-239"></a><span class="w">      </span><span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="mf">0L</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-29-240" name="__codelineno-29-240" href="#__codelineno-29-240"></a>
<a id="__codelineno-29-241" name="__codelineno-29-241" href="#__codelineno-29-241"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Bytes in the file: &quot;</span><span class="p">);</span>
<a id="__codelineno-29-242" name="__codelineno-29-242" href="#__codelineno-29-242"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">numbytes</span><span class="p">);</span>
<a id="__codelineno-29-243" name="__codelineno-29-243" href="#__codelineno-29-243"></a>
<a id="__codelineno-29-244" name="__codelineno-29-244" href="#__codelineno-29-244"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-245" name="__codelineno-29-245" href="#__codelineno-29-245"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-246" name="__codelineno-29-246" href="#__codelineno-29-246"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;-------------------- START FILE CONTENT --------------------&quot;</span><span class="p">);</span>
<a id="__codelineno-29-247" name="__codelineno-29-247" href="#__codelineno-29-247"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-248" name="__codelineno-29-248" href="#__codelineno-29-248"></a>
<a id="__codelineno-29-249" name="__codelineno-29-249" href="#__codelineno-29-249"></a><span class="w">      </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numbytes</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-250" name="__codelineno-29-250" href="#__codelineno-29-250"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<a id="__codelineno-29-251" name="__codelineno-29-251" href="#__codelineno-29-251"></a><span class="w">        </span><span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-29-252" name="__codelineno-29-252" href="#__codelineno-29-252"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
<a id="__codelineno-29-253" name="__codelineno-29-253" href="#__codelineno-29-253"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-254" name="__codelineno-29-254" href="#__codelineno-29-254"></a>
<a id="__codelineno-29-255" name="__codelineno-29-255" href="#__codelineno-29-255"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-256" name="__codelineno-29-256" href="#__codelineno-29-256"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;--------------------- END FILE CONTENT ---------------------&quot;</span><span class="p">);</span>
<a id="__codelineno-29-257" name="__codelineno-29-257" href="#__codelineno-29-257"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-258" name="__codelineno-29-258" href="#__codelineno-29-258"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-259" name="__codelineno-29-259" href="#__codelineno-29-259"></a><span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-260" name="__codelineno-29-260" href="#__codelineno-29-260"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;File is EMPTY!&quot;</span><span class="p">);</span>
<a id="__codelineno-29-261" name="__codelineno-29-261" href="#__codelineno-29-261"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-29-262" name="__codelineno-29-262" href="#__codelineno-29-262"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-29-263" name="__codelineno-29-263" href="#__codelineno-29-263"></a>
<a id="__codelineno-29-264" name="__codelineno-29-264" href="#__codelineno-29-264"></a><span class="w">      </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<a id="__codelineno-29-265" name="__codelineno-29-265" href="#__codelineno-29-265"></a>
<a id="__codelineno-29-266" name="__codelineno-29-266" href="#__codelineno-29-266"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-267" name="__codelineno-29-267" href="#__codelineno-29-267"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-268" name="__codelineno-29-268" href="#__codelineno-29-268"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;FAILED open file for appending &quot;</span><span class="p">);</span>
<a id="__codelineno-29-269" name="__codelineno-29-269" href="#__codelineno-29-269"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">file_test_name</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<a id="__codelineno-29-270" name="__codelineno-29-270" href="#__codelineno-29-270"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-271" name="__codelineno-29-271" href="#__codelineno-29-271"></a><span class="w">  </span><span class="p">}</span><span class="w">  </span>
<a id="__codelineno-29-272" name="__codelineno-29-272" href="#__codelineno-29-272"></a>
<a id="__codelineno-29-273" name="__codelineno-29-273" href="#__codelineno-29-273"></a><span class="p">}</span>
<a id="__codelineno-29-274" name="__codelineno-29-274" href="#__codelineno-29-274"></a>
<a id="__codelineno-29-275" name="__codelineno-29-275" href="#__codelineno-29-275"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-276" name="__codelineno-29-276" href="#__codelineno-29-276"></a><span class="w">  </span><span class="c1">// Empty</span>
<a id="__codelineno-29-277" name="__codelineno-29-277" href="#__codelineno-29-277"></a><span class="p">}</span>
</code></pre></div>
</details>
<h2 id="mx25l12833f">MX25L12833F<a class="headerlink" href="#mx25l12833f" title="Permanent link"></a></h2>
<p>The Renesas-Arduino core includes a built-in <a href="https://github.com/arduino/ArduinoCore-renesas/tree/main/libraries/FATFilesystem" target="_blank" rel="noopener">FATFileSystem library</a> to control the <abbr title="Quad-SPI">QSPI</abbr> flash memory. This example code demonstrates how to initialize the flash memory, a file is written, and data is read from the file. <em>Users can also find other example sketches in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>Storage</strong> drop-down menu.</em></p>
<details class="code">
<summary><code>QSPI_Flash_FileSystem_Test.ino</code></summary>
<h3 id="eslov-connector">ESLOV Connector<a class="headerlink" href="#eslov-connector" title="Permanent link"></a></h3>
<p>The Portenta C33 board features an onboard ESLOV connector to extend the <abbr title="Inter-Integrated Circuit">I2C</abbr> communication bus. This connector simplifies connecting various sensors, actuators, and other modules to the Portenta C33 without soldering or wiring; Nicla family boards can also be connected to the Portenta C33 through this connector. </p>
<p><img alt="Portenta C33 built-in ESLOV connector" src="assets/user-manual-8.png" /></p>
<p>The ESLOV connector is a small 5-pin connector with a 1.00 mm pitch. The mechanical details of the connector can be found in the <a href="https://www.jst-mfg.com/product/pdf/eng/eSH.pdf" target="_blank" rel="noopener">connector's datasheet</a>.</p>
<p>The pin layout of the ESLOV connector is the following:</p>
<ol>
<li>VCC</li>
<li>INT</li>
<li><abbr title="Serial Clock">SCL</abbr></li>
<li><abbr title="Serial Data">SDA</abbr></li>
<li><abbr title="Ground">GND</abbr></li>
</ol>
<p><code>VCC</code> pin works as a 5 V output if the board is connected to a <abbr title="Universal Serial Bus">USB</abbr>-C¬Æ cable. The manufacturer part number of the ESLOV connector is SM05B-SRSS, and its matching receptacle manufacturer part number is SHR-05V-S-B.</p>
<h2 id="external-memory_1">External Memory<a class="headerlink" href="#external-memory_1" title="Permanent link"></a></h2>
<p>The Portenta C33 board features an onboard 16 MB <abbr title="Quad-SPI">QSPI</abbr> Flash memory, the MX25L12833F from Macronix¬Æ. Having an onboard <abbr title="Quad-SPI">QSPI</abbr> Flash memory enhances the capabilities of the Portenta C33, enabling you to develop and run more complex and data-intensive applications.</p>
<p><img alt="Onboard QSPI Flash memory of the Portenta C33 board" src="assets/user-manual-11.png" /></p>
<p>Some key advantages of having an onboard <abbr title="Quad-SPI">QSPI</abbr> Flash memory are the following:</p>
<ul>
<li><strong>Storage capacity</strong>: The MX25L12833F <abbr title="Quad-SPI">QSPI</abbr> Flash memory adds significant non-volatile storage to the board.</li>
<li><strong>Extended functionality</strong>: The additional memory space allows more complex applications to be developed and run on your Portenta C33. This application includes data logging, image processing, audio processing, and executing complex algorithms.</li>
<li><strong>Firmware updates</strong>: The MX25L12833F <abbr title="Quad-SPI">QSPI</abbr> Flash memory can also store firmware or software updates for your Arduino board. This means you can update the firmware without requiring a complete reprogramming of the board.</li>
</ul>
<p>The Arduino Renesas Core has built-in libraries and drivers that immediately let you use the onboard <abbr title="Quad-SPI">QSPI</abbr> Flash memory. Let's walk through an example code demonstrating some of the onboard Flash memory capabilities; the main tasks performed in the sketch are initializing the Flash memory, writing to a file, and reading from a file.</p>
<p>```arduino
/**
  <abbr title="Quad-SPI">QSPI</abbr> Flash File System test
  Name: QSPI_Flash_FileSystem_Test.ino
  Purpose: This sketch test the onboard <abbr title="Quad-SPI">QSPI</abbr> Flash memory
  file system by writing and reading a file.</p>
<p>@author Arduino Team
  @version 1.0 20/06/23
*/</p>
<p>// Include necessary libraries and drivers</p>
<h1 id="include-qspiflashblockdeviceh">include "QSPIFlashBlockDevice.h"<a class="headerlink" href="#include-qspiflashblockdeviceh" title="Permanent link"></a></h1>
<h1 id="include-fatfilesystemh">include "FATFileSystem.h"<a class="headerlink" href="#include-fatfilesystemh" title="Permanent link"></a></h1>
<p>// Define constants for file system and test file name</p>
<h1 id="define-qspi_fs_name-qspi">define QSPI_FS_NAME "qspi"<a class="headerlink" href="#define-qspi_fs_name-qspi" title="Permanent link"></a></h1>
<h1 id="define-test_file-testtxt">define TEST_FILE "test.txt"<a class="headerlink" href="#define-test_file-testtxt" title="Permanent link"></a></h1>
<p>// Instantiate flash block device and file system
QSPIFlashBlockDevice block_device(PIN_QSPI_CLK, PIN_QSPI_SS, PIN_QSPI_D0, PIN_QSPI_D1, PIN_QSPI_D2, PIN_QSPI_D3); 
FATFileSystem fs(QSPI_FS_NAME);</p>
<p>// Define full path to the test file
std::string file_test_name = std::string("/") + std::string(QSPI_FS_NAME) + std::string("/") + std::string(TEST_FILE); </p>
<p>void setup() {
  // Initialize serial communication and wait a connection
  Serial.begin(9600);
  while(!Serial);</p>
<p>// Print test start message
  Serial.println();
  Serial.println("- SIMPLE <abbr title="Quad-SPI">QSPI</abbr> FLASH TEST");
  Serial.println();</p>
<p>// Try to mount the <abbr title="Quad-SPI">QSPI</abbr> Flash file system
  // If mounting fails, try to format the file system
  int err =  fs.mount(&amp;block_device);
  if (err) {
    Serial.println("- No filesystem found, formatting... ");
    err = fs.reformat(&amp;block_device);
  }
  if (err) {
    // If formatting fails, print error and halt
    Serial.println("- Error formatting <abbr title="Quad-SPI">QSPI</abbr> Flash ");
    while(1);
  }</p>
<p>// Try to open a test file for writing
  // If file opened successfully, write some text to the file
  FILE* fp = fopen(file_test_name.c_str(), "w");
  if(fp != NULL) {</p>
</details>
<p>// Always close the file after writing to save changes</p>
<div class="highlight"><pre><span></span><code>??? code
    ```cpp
      Name: QSPI_Flash_FileSystem_Test.ino
      Purpose: This sketch test the onboard QSPI Flash memory
      file system by writing and reading a file.

      @author Arduino Team
      @version 1.0 20/06/23
    */

    // Include necessary libraries and drivers
    #include &quot;QSPIFlashBlockDevice.h&quot;
    #include &quot;FATFileSystem.h&quot;

    ```
</code></pre></div>
<p>fclose(fp);</p>
<div class="highlight"><pre><span></span><code>??? code
    ```cpp
    #define QSPI_FS_NAME &quot;qspi&quot;
    #define TEST_FILE &quot;test.txt&quot;

    // Instantiate flash block device and file system
    QSPIFlashBlockDevice block_device(PIN_QSPI_CLK, PIN_QSPI_SS, PIN_QSPI_D0, PIN_QSPI_D1, PIN_QSPI_D2, PIN_QSPI_D3); 
    FATFileSystem fs(QSPI_FS_NAME);

    // Define full path to the test file
    std::string file_test_name = std::string(&quot;/&quot;) + std::string(QSPI_FS_NAME) + std::string(&quot;/&quot;) + std::string(TEST_FILE); 

    void setup() {
      // Initialize serial communication and wait a connection
      Serial.begin(9600);
      while(!Serial);

    ```
</code></pre></div>
<p>}</p>
<div class="highlight"><pre><span></span><code>??? code
    ```cpp
    Serial.println();
    Serial.println(&quot;- SIMPLE QSPI FLASH TEST&quot;);
    Serial.println();

    // Try to mount the QSPI Flash file system
    // If mounting fails, try to format the file system
    int err =  fs.mount(&amp;block_device);
    if (err) {
      Serial.println(&quot;- No filesystem found, formatting... &quot;);
      err = fs.reformat(&amp;block_device);
    }
    if (err) {
      // If formatting fails, print error and halt
      Serial.println(&quot;- Error formatting QSPI Flash &quot;);
      while(1);
    }

    ```
</code></pre></div>
<h1 id="examples-codeless">Examples - <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.88 16.29 13 18.17v-3.76m0-8.58 1.88 1.88L13 9.58m4.71-1.87L12 2h-1v7.58L6.41 5 5 6.41 10.59 12 5 17.58 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29Z"/></svg></span> CodeLess<a class="headerlink" href="#examples-codeless" title="Permanent link"></a></h1>
<h2 id="at-commands">AT Commands<a class="headerlink" href="#at-commands" title="Permanent link"></a></h2>
<p>To help users get started with the <a href="https://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/atcommands.html" target="_blank" rel="noopener">CodeLess‚Ñ¢ AT commands</a> for the DA14531MOD Bluetooth module, we have provided an <code>SerialPassthrough</code> example in our <a href="../software_overview-arduino/#da14531mod-ble-module"><em>unofficial</em> Arduino library</a>. Once programmed on the RA6M5 Thing Plus, the example allows users to directly interface with the DA14531MOD's <abbr title="Universal Asynchronous Receiver-Transmitter">UART</abbr> port through the board's <abbr title="Universal Serial Bus">USB</abbr> connection using a <a href="https://learn.sparkfun.com/tutorials/112" target="_blank" rel="noopener">serial terminal</a>. Thereby, enabling users to experiment with the CodeLess AT commands and develop their own <abbr title="Bluetooth Low-Energy">BLE</abbr> connectivity solution. Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>SparkFun Renesas Codeless <abbr title="Bluetooth Low-Energy">BLE</abbr></strong> &gt; <strong>SerialPassthrough</strong> drop-down menu.</p>
<details class="code">
<summary><code>SerialPassthrough.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="cm">/*</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="cm">  SerialPassthrough sketch</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="cm">  Some boards have a USB serial port that operates independently from the</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="cm">  hardware serial port(s) attached their Digital pins. This means that the</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="cm">  &quot;serial passthrough&quot; which is possible with the Arduino UNO (commonly used</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="cm">  to interact with devices/shields that require configuration via serial AT</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="cm">  commands) will not operate in a similar manner.</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="cm">  This sketch allows users to emulate the serial passthrough behaviour. (i.e.</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="cm">  Any text typed in the IDE Serial monitor will be written to the serial port</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="cm">  oof the Digital pins, and vice-versa.)</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="cm">  created 23 May 2016</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="cm">  by Erik Nyquist</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="cm">  https://www.arduino.cc/en/Tutorial/BuiltInExamples/SerialPassthrough</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="cm">  This sketch has been modified for the SparkFun Ting Plus - RA6M5. &quot;Serial&quot;</span>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="cm">  refers to the USB Serial port attached to the Serial Monitor, and &quot;Serial2&quot;</span>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="cm">  refers to the hardware serial port attached to pins D31 and D32; for the</span>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="cm">  DA14531MOD Bluetooth module. This sketch will emulate Serial passthrough</span>
<a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="cm">  for those two Serial ports on the bSparkFun Ting Plus - RA6M5. The default</span>
<a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="cm">  communication settings for the DA14531MOD are:</span>
<a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a>
<a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a><span class="cm">  BaudRate : 57600</span>
<a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a><span class="cm">  DataBits : 8</span>
<a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a><span class="cm">  StopBits : 1</span>
<a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a><span class="cm">  Parity : None</span>
<a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a><span class="cm">  Flow Control : None</span>
<a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a><span class="cm">  Transmit Text: Append CR</span>
<a id="__codelineno-33-33" name="__codelineno-33-33" href="#__codelineno-33-33"></a>
<a id="__codelineno-33-34" name="__codelineno-33-34" href="#__codelineno-33-34"></a><span class="cm">  Modified 18 March 2024</span>
<a id="__codelineno-33-35" name="__codelineno-33-35" href="#__codelineno-33-35"></a><span class="cm">  by SparkFun Electronics</span>
<a id="__codelineno-33-36" name="__codelineno-33-36" href="#__codelineno-33-36"></a><span class="cm">  author: Wes F</span>
<a id="__codelineno-33-37" name="__codelineno-33-37" href="#__codelineno-33-37"></a>
<a id="__codelineno-33-38" name="__codelineno-33-38" href="#__codelineno-33-38"></a><span class="cm">*/</span>
<a id="__codelineno-33-39" name="__codelineno-33-39" href="#__codelineno-33-39"></a>
<a id="__codelineno-33-40" name="__codelineno-33-40" href="#__codelineno-33-40"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-41" name="__codelineno-33-41" href="#__codelineno-33-41"></a><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">57600</span><span class="p">);</span>
<a id="__codelineno-33-42" name="__codelineno-33-42" href="#__codelineno-33-42"></a><span class="w">  </span><span class="n">Serial2</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">57600</span><span class="p">);</span>
<a id="__codelineno-33-43" name="__codelineno-33-43" href="#__codelineno-33-43"></a><span class="p">}</span>
<a id="__codelineno-33-44" name="__codelineno-33-44" href="#__codelineno-33-44"></a>
<a id="__codelineno-33-45" name="__codelineno-33-45" href="#__codelineno-33-45"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-46" name="__codelineno-33-46" href="#__codelineno-33-46"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Serial</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">        </span><span class="c1">// If anything comes in Serial (USB),</span>
<a id="__codelineno-33-47" name="__codelineno-33-47" href="#__codelineno-33-47"></a><span class="w">    </span><span class="n">Serial2</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">Serial</span><span class="p">.</span><span class="n">read</span><span class="p">());</span><span class="w">  </span><span class="c1">// read it and send it out Serial1 (pins 0 &amp; 1)</span>
<a id="__codelineno-33-48" name="__codelineno-33-48" href="#__codelineno-33-48"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-33-49" name="__codelineno-33-49" href="#__codelineno-33-49"></a>
<a id="__codelineno-33-50" name="__codelineno-33-50" href="#__codelineno-33-50"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Serial2</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">       </span><span class="c1">// If anything comes in Serial1 (pins 0 &amp; 1)</span>
<a id="__codelineno-33-51" name="__codelineno-33-51" href="#__codelineno-33-51"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">Serial2</span><span class="p">.</span><span class="n">read</span><span class="p">());</span><span class="w">  </span><span class="c1">// read it and send it out Serial (USB)</span>
<a id="__codelineno-33-52" name="__codelineno-33-52" href="#__codelineno-33-52"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-33-53" name="__codelineno-33-53" href="#__codelineno-33-53"></a><span class="p">}</span>
</code></pre></div>
</details>
<div class="admonition serial">
<p class="admonition-title">Serial Monitor</p>
<p>Users should configure the serial port with a baud rate at <strong>57600 bps</strong> and <strong>enable the carriage return</strong> on the transmissions.</p>
</div>
<h2 id="demo-ble-solution">Demo - <abbr title="Bluetooth Low-Energy">BLE</abbr> Solution<a class="headerlink" href="#demo-ble-solution" title="Permanent link"></a></h2>
<p>While an Arduino library isn't necessary to utilize the <a href="https://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/index.html" target="_blank" rel="noopener">CodeLess‚Ñ¢ AT commands</a> for the DA14531MOD Bluetooth module, we have created an <a href="./Firmware/CodelessBLE"><em>unofficial</em> Arduino library</a> to help users get started. Once the <a href="../software_overview-arduino/#da14531mod-ble-module">library is installed in the Arduino IDE</a>, users will find several example sketches listed in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>SparkFun Renesas Codeless <abbr title="Bluetooth Low-Energy">BLE</abbr></strong> drop-down menu. We recommend users check out the following examples that demonstrate a basic <abbr title="Bluetooth Low-Energy">BLE</abbr> connectivity solution:</p>
<ul>
<li><code>codelessBLE_peripheral.ino</code></li>
<li><code>codelessBLE_central.ino</code></li>
</ul>
<p>In order to operate the <code>codelessBLE_peripheral.ino</code> and <code>codelessBLE_central.ino</code> examples, users will need two <a href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener">RA6M5 Thing Plus boards</a>, <a href="https://www.sparkfun.com/products/24606" target="_blank" rel="noopener">Qwiic OLED Display</a>, <a href="https://www.sparkfun.com/products/15440" target="_blank" rel="noopener">Qwiic BME280 sensor</a>, and some <a href="https://www.sparkfun.com/products/15081" target="_blank" rel="noopener">Qwiic cables</a>.</p>
<details class="note">
<summary>Required Hardware</summary>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/5/3/4/WRL-24243-Thing-Plus-RA6M5-Feature.jpg">
    </figure></p>
<hr />
<p><strong>RA6M5 Thing Plus</strong><br>
WRL-24243</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/15081" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/3/4/3/1/15081-_01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic Cable Kit</strong><br>
KIT-15081</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/24606" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/2/4/9/6/3/LCD-24606-Qwiic-OLED-Display-Feature-Screen.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Qwiic OLED Display (0.91 in., 128x32)</strong><br>
LCD-24606</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/15440" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/4/0/1/4/15440-SparkFun_Atmospheric_Sensor_Breakout_-_BME280__Qwiic_-04a.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Atmospheric Sensor Breakout - BME280 (Qwiic)</strong><br>
SEN-15440</a></p>
</li>
</ul>
</div>
</details>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="codelessble_peripheralino" name="__tabbed_15" type="radio" /><input id="codelessble_centralino" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="codelessble_peripheralino"><code>codelessBLE_peripheral.ino</code></label><label for="codelessble_centralino"><code>codelessBLE_central.ino</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>This sketch requires a <a href="https://www.sparkfun.com/products/15440" target="_blank" rel="noopener">Qwiic BME280 sensor</a>, connected by a <a href="https://www.sparkfun.com/products/17260" target="_blank" rel="noopener">Qwiic cable</a>, to be connected the RA6M5 Thing Plus. The sketch demonstrates a basic <abbr title="Bluetooth Low-Energy">BLE</abbr> solution, by transmitting data from the BME280 to another <abbr title="Bluetooth Low-Energy">BLE</abbr> device. Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>SparkFun Renesas Codeless <abbr title="Bluetooth Low-Energy">BLE</abbr></strong> &gt; <strong>codelessBLE_peripheral</strong> drop-down menu.</p>
<details class="arduino">
<summary>Install Arduino Library</summary>
<p>For this example, the <a href="https://github.com/sparkfun/SparkFun_BME280_Arduino_Library" target="_blank" rel="noopener">SparkFun BME280 Arduino Library</a> will need to be installed. In the Arduino IDE, users can install it by searching for <code>SparkFun BME280 Arduino Library</code>, in the <strong>Library Manager</strong>:</p>
<div class="highlight"><pre><span></span><code>SparkFun BME280 Arduino Library
</code></pre></div>
</details>
<details class="code">
<summary><code>codelessBLE_peripheral.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="cm">/**</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="cm"> * @file codelessBLE_peripheral.ino</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="cm"> * @brief This file contains the code for a BLE peripheral device that </span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="cm"> * communicates with a BME280 sensor.</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="cm"> * </span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="cm"> * The code sets up a BLE peripheral device using the CodelessBLEPeripheral </span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="cm"> * class and establishes a connection with the onboard BLE coprocessor. It </span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="cm"> * also initializes a BME280 sensor and reads temperature, humidity, and </span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="cm"> * pressure values from it. The sensor data is then sent to the connected BLE </span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="cm"> * central device periodically.</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="cm"> * </span>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="cm"> * The code handles the connection and disconnection events from the BLE device</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="cm"> * and prints the received data to the Serial monitor.</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="cm"> * </span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="cm"> * This code is intended to be used with the SparkFun Thing Plus - RA6M5 </span>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="cm"> * development board.</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="cm"> */</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;codelessBLEPeripheral.h&gt;</span>
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Wire.h&gt;</span>
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;SparkFunBME280.h&quot;</span>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a>
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="n">CodelessPeripheralDevice</span><span class="w"> </span><span class="n">myBLEPeripheral</span><span class="p">;</span>
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="n">BME280</span><span class="w"> </span><span class="n">myBME280</span><span class="p">;</span>
<a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a>
<a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a><span class="kt">bool</span><span class="w"> </span><span class="n">bleConnected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a><span class="kt">bool</span><span class="w"> </span><span class="n">reset_loop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a><span class="kt">uint32_t</span><span class="w"> </span><span class="n">loop_start_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a><span class="n">String</span><span class="w"> </span><span class="n">printstring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a>
<a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a><span class="p">{</span>
<a id="__codelineno-34-32" name="__codelineno-34-32" href="#__codelineno-34-32"></a><span class="w">    </span><span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<a id="__codelineno-34-33" name="__codelineno-34-33" href="#__codelineno-34-33"></a><span class="w">    </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-34-34" name="__codelineno-34-34" href="#__codelineno-34-34"></a>
<a id="__codelineno-34-35" name="__codelineno-34-35" href="#__codelineno-34-35"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">57600</span><span class="p">);</span>
<a id="__codelineno-34-36" name="__codelineno-34-36" href="#__codelineno-34-36"></a><span class="w">    </span><span class="c1">// while(!Serial){delay(100);}; // Uncomment during testing and needing a serial connection.</span>
<a id="__codelineno-34-37" name="__codelineno-34-37" href="#__codelineno-34-37"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Begin BLE Peripheral Demo.&quot;</span><span class="p">);</span>
<a id="__codelineno-34-38" name="__codelineno-34-38" href="#__codelineno-34-38"></a>
<a id="__codelineno-34-39" name="__codelineno-34-39" href="#__codelineno-34-39"></a><span class="w">    </span><span class="cp">#if defined(CODELESS_DBG)</span>
<a id="__codelineno-34-40" name="__codelineno-34-40" href="#__codelineno-34-40"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;CODELESS_DBG defined.&quot;</span><span class="p">);</span>
<a id="__codelineno-34-41" name="__codelineno-34-41" href="#__codelineno-34-41"></a><span class="w">    </span><span class="cp">#endif</span>
<a id="__codelineno-34-42" name="__codelineno-34-42" href="#__codelineno-34-42"></a>
<a id="__codelineno-34-43" name="__codelineno-34-43" href="#__codelineno-34-43"></a><span class="w">    </span><span class="n">Wire</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-34-44" name="__codelineno-34-44" href="#__codelineno-34-44"></a>
<a id="__codelineno-34-45" name="__codelineno-34-45" href="#__codelineno-34-45"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">myBME280</span><span class="p">.</span><span class="n">beginI2C</span><span class="p">())</span>
<a id="__codelineno-34-46" name="__codelineno-34-46" href="#__codelineno-34-46"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-47" name="__codelineno-34-47" href="#__codelineno-34-47"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Sensor didn&#39;t respond. Check wiring!&quot;</span><span class="p">);</span>
<a id="__codelineno-34-48" name="__codelineno-34-48" href="#__codelineno-34-48"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-34-49" name="__codelineno-34-49" href="#__codelineno-34-49"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-50" name="__codelineno-34-50" href="#__codelineno-34-50"></a>
<a id="__codelineno-34-51" name="__codelineno-34-51" href="#__codelineno-34-51"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Connected to BME280.&quot;</span><span class="p">);</span>
<a id="__codelineno-34-52" name="__codelineno-34-52" href="#__codelineno-34-52"></a>
<a id="__codelineno-34-53" name="__codelineno-34-53" href="#__codelineno-34-53"></a><span class="w">    </span><span class="n">myBLEPeripheral</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-34-54" name="__codelineno-34-54" href="#__codelineno-34-54"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">Serial2</span><span class="p">){</span><span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);};</span>
<a id="__codelineno-34-55" name="__codelineno-34-55" href="#__codelineno-34-55"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Connected to BLE coprocessor.&quot;</span><span class="p">);</span>
<a id="__codelineno-34-56" name="__codelineno-34-56" href="#__codelineno-34-56"></a>
<a id="__codelineno-34-57" name="__codelineno-34-57" href="#__codelineno-34-57"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Running default setup routine.&quot;</span><span class="p">);</span>
<a id="__codelineno-34-58" name="__codelineno-34-58" href="#__codelineno-34-58"></a><span class="w">    </span><span class="n">myBLEPeripheral</span><span class="p">.</span><span class="n">setupDefault</span><span class="p">();</span>
<a id="__codelineno-34-59" name="__codelineno-34-59" href="#__codelineno-34-59"></a>
<a id="__codelineno-34-60" name="__codelineno-34-60" href="#__codelineno-34-60"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Peripheral Device Address: &quot;</span><span class="p">);</span>
<a id="__codelineno-34-61" name="__codelineno-34-61" href="#__codelineno-34-61"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">myBLEPeripheral</span><span class="p">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="s">&quot;AT+BDADDR&quot;</span><span class="p">));</span>
<a id="__codelineno-34-62" name="__codelineno-34-62" href="#__codelineno-34-62"></a>
<a id="__codelineno-34-63" name="__codelineno-34-63" href="#__codelineno-34-63"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Setup complete.&quot;</span><span class="p">);</span>
<a id="__codelineno-34-64" name="__codelineno-34-64" href="#__codelineno-34-64"></a><span class="w">    </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-34-65" name="__codelineno-34-65" href="#__codelineno-34-65"></a>
<a id="__codelineno-34-66" name="__codelineno-34-66" href="#__codelineno-34-66"></a><span class="w">    </span><span class="n">loop_start_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span>
<a id="__codelineno-34-67" name="__codelineno-34-67" href="#__codelineno-34-67"></a><span class="p">}</span>
<a id="__codelineno-34-68" name="__codelineno-34-68" href="#__codelineno-34-68"></a>
<a id="__codelineno-34-69" name="__codelineno-34-69" href="#__codelineno-34-69"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-34-70" name="__codelineno-34-70" href="#__codelineno-34-70"></a><span class="p">{</span>
<a id="__codelineno-34-71" name="__codelineno-34-71" href="#__codelineno-34-71"></a><span class="w">    </span><span class="k">if</span><span class="p">((</span><span class="n">loop_start_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">millis</span><span class="p">())</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="c1">// If it&#39;s been more than 100ms</span>
<a id="__codelineno-34-72" name="__codelineno-34-72" href="#__codelineno-34-72"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-34-73" name="__codelineno-34-73" href="#__codelineno-34-73"></a><span class="w">        </span><span class="n">reset_loop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-34-74" name="__codelineno-34-74" href="#__codelineno-34-74"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">bleConnected</span><span class="p">)</span>
<a id="__codelineno-34-75" name="__codelineno-34-75" href="#__codelineno-34-75"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-76" name="__codelineno-34-76" href="#__codelineno-34-76"></a><span class="w">            </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-34-77" name="__codelineno-34-77" href="#__codelineno-34-77"></a><span class="w">            </span><span class="n">printstring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;|&quot;</span><span class="o">+</span><span class="n">String</span><span class="p">(</span><span class="n">myBME280</span><span class="p">.</span><span class="n">readTempC</span><span class="p">())</span><span class="o">+</span><span class="s">&quot;,&quot;</span><span class="o">+</span><span class="n">String</span><span class="p">(</span><span class="n">myBME280</span><span class="p">.</span><span class="n">readFloatHumidity</span><span class="p">())</span><span class="o">+</span><span class="s">&quot;,&quot;</span><span class="o">+</span><span class="n">String</span><span class="p">(</span><span class="n">myBME280</span><span class="p">.</span><span class="n">readFloatPressure</span><span class="p">());</span>
<a id="__codelineno-34-78" name="__codelineno-34-78" href="#__codelineno-34-78"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">myBLEPeripheral</span><span class="p">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="n">printstring</span><span class="p">));</span>
<a id="__codelineno-34-79" name="__codelineno-34-79" href="#__codelineno-34-79"></a><span class="w">            </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-34-80" name="__codelineno-34-80" href="#__codelineno-34-80"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-81" name="__codelineno-34-81" href="#__codelineno-34-81"></a>
<a id="__codelineno-34-82" name="__codelineno-34-82" href="#__codelineno-34-82"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">myBLEPeripheral</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">       </span><span class="c1">// If anything comes in Serial2 (BLE device)</span>
<a id="__codelineno-34-83" name="__codelineno-34-83" href="#__codelineno-34-83"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">localstring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myBLEPeripheral</span><span class="p">.</span><span class="n">readOutput</span><span class="p">();</span>
<a id="__codelineno-34-84" name="__codelineno-34-84" href="#__codelineno-34-84"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">bleConnected</span><span class="p">)</span>
<a id="__codelineno-34-85" name="__codelineno-34-85" href="#__codelineno-34-85"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-34-86" name="__codelineno-34-86" href="#__codelineno-34-86"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">localstring</span><span class="p">.</span><span class="n">endsWith</span><span class="p">(</span><span class="s">&quot;+CONNECTED</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">))</span>
<a id="__codelineno-34-87" name="__codelineno-34-87" href="#__codelineno-34-87"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-34-88" name="__codelineno-34-88" href="#__codelineno-34-88"></a><span class="w">                    </span><span class="cp">#ifdef CODELESS_DBG</span>
<a id="__codelineno-34-89" name="__codelineno-34-89" href="#__codelineno-34-89"></a><span class="w">                    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;[DBG] - outloop - Got connected output.&quot;</span><span class="p">);</span>
<a id="__codelineno-34-90" name="__codelineno-34-90" href="#__codelineno-34-90"></a><span class="w">                    </span><span class="cp">#endif</span>
<a id="__codelineno-34-91" name="__codelineno-34-91" href="#__codelineno-34-91"></a><span class="w">                    </span><span class="n">bleConnected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-34-92" name="__codelineno-34-92" href="#__codelineno-34-92"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-34-93" name="__codelineno-34-93" href="#__codelineno-34-93"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-34-94" name="__codelineno-34-94" href="#__codelineno-34-94"></a>
<a id="__codelineno-34-95" name="__codelineno-34-95" href="#__codelineno-34-95"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">bleConnected</span><span class="p">)</span>
<a id="__codelineno-34-96" name="__codelineno-34-96" href="#__codelineno-34-96"></a><span class="w">            </span><span class="p">{</span>
<a id="__codelineno-34-97" name="__codelineno-34-97" href="#__codelineno-34-97"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">localstring</span><span class="p">.</span><span class="n">endsWith</span><span class="p">(</span><span class="s">&quot;+DISCONNECTED</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">))</span>
<a id="__codelineno-34-98" name="__codelineno-34-98" href="#__codelineno-34-98"></a><span class="w">                </span><span class="p">{</span>
<a id="__codelineno-34-99" name="__codelineno-34-99" href="#__codelineno-34-99"></a><span class="w">                    </span><span class="cp">#ifdef CODELESS_DBG</span>
<a id="__codelineno-34-100" name="__codelineno-34-100" href="#__codelineno-34-100"></a><span class="w">                    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;[DBG] - outloop - Got disconnected output.&quot;</span><span class="p">);</span>
<a id="__codelineno-34-101" name="__codelineno-34-101" href="#__codelineno-34-101"></a><span class="w">                    </span><span class="cp">#endif</span>
<a id="__codelineno-34-102" name="__codelineno-34-102" href="#__codelineno-34-102"></a><span class="w">                    </span><span class="n">bleConnected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-34-103" name="__codelineno-34-103" href="#__codelineno-34-103"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-34-104" name="__codelineno-34-104" href="#__codelineno-34-104"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-34-105" name="__codelineno-34-105" href="#__codelineno-34-105"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">localstring</span><span class="p">);</span>
<a id="__codelineno-34-106" name="__codelineno-34-106" href="#__codelineno-34-106"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-107" name="__codelineno-34-107" href="#__codelineno-34-107"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">reset_loop</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">bleConnected</span><span class="p">)</span>
<a id="__codelineno-34-108" name="__codelineno-34-108" href="#__codelineno-34-108"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-34-109" name="__codelineno-34-109" href="#__codelineno-34-109"></a><span class="w">            </span><span class="n">reset_loop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-34-110" name="__codelineno-34-110" href="#__codelineno-34-110"></a><span class="w">            </span><span class="cp">#ifdef CODELESS_DBG</span>
<a id="__codelineno-34-111" name="__codelineno-34-111" href="#__codelineno-34-111"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<a id="__codelineno-34-112" name="__codelineno-34-112" href="#__codelineno-34-112"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Resetting loop&quot;</span><span class="p">);</span>
<a id="__codelineno-34-113" name="__codelineno-34-113" href="#__codelineno-34-113"></a><span class="w">            </span><span class="cp">#endif</span>
<a id="__codelineno-34-114" name="__codelineno-34-114" href="#__codelineno-34-114"></a><span class="w">            </span><span class="n">loop_start_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span>
<a id="__codelineno-34-115" name="__codelineno-34-115" href="#__codelineno-34-115"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-116" name="__codelineno-34-116" href="#__codelineno-34-116"></a><span class="w">    </span><span class="p">}</span><span class="w">  </span>
<a id="__codelineno-34-117" name="__codelineno-34-117" href="#__codelineno-34-117"></a><span class="p">}</span>
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">BME688 Replacement</p>
<p>Users can also modify this example to utilize the <a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">Qwiic BME688 sensor</a> that is mentioned in some of the other examples. <em>For more details on utilizing the BME68x breakout board, please refer to our <a href="https://learn.sparkfun.com/tutorials/1168" target="_blank" rel="noopener">hookup guide</a> for the sensor.</em></p>
<div class="grid cards" markdown>
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/19096" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/8/6/9/6/19096-SparkFun_Environmental_Sensor_Breakout_-_BME688__Qwiic_-01.jpg">
    </figure></p>
<hr />
<p><strong>SparkFun Environmental Sensor - BME688 (Qwiic)</strong><br>
SEN-19096</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/17260" target="_blank" rel="noopener">
    <figure markdown>
    <img alt="Product Thumbnail" src="https://cdn.sparkfun.com/assets/parts/1/6/2/4/7/17260-Flexible_Qwiic_Cable_-_50mm-01.jpg">
    </figure></p>
<hr />
<p><strong>Flexible Qwiic Cable - 50mm</strong><br>
PRT-17260</a></p>
</li>
</ul>
</div>
<details class="arduino">
<summary>Install Arduino Library</summary>
<p>Users will need to install the <a href="https://github.com/BoschSensortec/Bosch-BME68x-Library" target="_blank" rel="noopener">Bosch BME68x Arduino library</a> for the sensor. In the Arduino IDE, users can install it by searching for <code>BME68x Sensor Library</code>, in the <strong>Library Manager</strong>:</p>
<div class="highlight"><pre><span></span><code>BME68x Sensor Library
</code></pre></div>
</details>
<details class="code">
<summary>Modifications</summary>
<ul>
<li>
<p>Link the BME68x Arduino library:</p>
<div class="highlight"><pre><span></span><code><del class="critic">#include &quot;SparkFunBME280.h&quot;</del>
<ins class="critic">#include &quot;bme68xLibrary.h&quot;</ins>
</code></pre></div>
</li>
<li>
<p>Create an instance of the <code>Bme68x</code> class:</p>
<div class="highlight"><pre><span></span><code><del class="critic">BME280 myBME280;</del>
<ins class="critic">Bme68x bme;</ins>
</code></pre></div>
</li>
<li>
<p>Initialize and configure the sensor in the <code>setup()</code>:</p>
<div class="highlight"><pre><span></span><code><del class="critic">if(!myBME280.beginI2C())
{
    Serial.println(&quot;Sensor didn&#39;t respond. Check wiring!&quot;);
    while(1);
}

Serial.println(&quot;Connected to BME280.&quot;);</del>

<ins class="critic">bme.begin(BME68X_I2C_ADDR_LOW, Wire);

if(bme.checkStatus())
{
    if (bme.checkStatus() == BME68X_ERROR)
    {
        Serial.println(&quot;Sensor error:&quot; + bme.statusString());
        return;
    }
    else if (bme.checkStatus() == BME68X_WARNING)
    {
        Serial.println(&quot;Sensor Warning:&quot; + bme.statusString());
    }
}

/* Set the default configuration for temperature, pressure and humidity */
bme.setTPH();

/* Configure the sensor to forced mode */
bme.setOpMode(BME68X_FORCED_MODE);</ins>
</code></pre></div>
</li>
<li>
<p>Update the <code>loop()</code> to retrieve data from the BME688</p>
<div class="highlight"><pre><span></span><code><del class="critic">if((loop_start_time - millis()) &gt; 100) // If it&#39;s been more than 100ms
{
    reset_loop = true;
    if(bleConnected)
    {
        digitalWrite(LED_BUILTIN, HIGH);
        printstring = &quot;|&quot;+String(myBME280.readTempC())+&quot;,&quot;+String(myBME280.readFloatHumidity())+&quot;,&quot;+String(myBME280.readFloatPressure());
        Serial.println(myBLEPeripheral.sendCommand(printstring));
        digitalWrite(LED_BUILTIN, LOW);
    }</del>

<ins class="critic">bme68xData data;

if((loop_start_time - millis()) &gt; 100)    // If it&#39;s been more than 100ms
{
    reset_loop = true;
    if(bleConnected)
    {
        digitalWrite(LED_BUILTIN, HIGH);

        delayMicroseconds(bme.getMeasDur());  // Wait for measurement data

        /* Retrieve data from BME688 sensor*/
        if (bme.fetchData())
        {
            bme.getData(data);
            printstring = &quot;|&quot;+String(data.temperature)+&quot;,&quot;+String(data.humidity)+&quot;,&quot;+String(data.pressure);
        }

        Serial.print(myBLEPeripheral.sendCommand(printstring));
        digitalWrite(LED_BUILTIN, LOW);
    }</ins>
</code></pre></div>
</li>
</ul>
</details>
</div>
</div>
<div class="tabbed-block">
<p>This sketch requires a <a href="https://www.sparkfun.com/products/24606" target="_blank" rel="noopener">Qwiic OLED Display</a> to be connected the RA6M5 Thing Plus, by a <a href="https://www.sparkfun.com/products/17260" target="_blank" rel="noopener">Qwiic cable</a>. The sketch receives data transmitted from a RA6M5 Thing Plus, programmed with the <code>codelessBLE_peripheral.ino</code> sketch, and displays that data on the OLED display. Users can find this sketch in the <strong>File</strong> &gt; <strong>Examples</strong> &gt; <strong>SparkFun Renesas Codeless <abbr title="Bluetooth Low-Energy">BLE</abbr></strong> &gt; <strong>codelessBLE_central</strong> drop-down menu.</p>
<details class="code">
<summary><code>codelessBLE_central.ino</code></summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="cm">/**</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="cm"> * @file codelessBLE_central.ino</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="cm"> * @brief This file contains the code for a BLE central device that connects to</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="cm"> * a peripheral device and displays sensor data on an OLED display.</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="cm"> * </span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="cm"> * The code sets up a BLE central device using the CodelessBLECentral class. It </span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="cm"> * establishes a connection with a specific peripheral device, then receives </span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="cm"> * and displays the data on an OLED display using the SparkFun_Qwiic_OLED </span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="cm"> * library.</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="cm"> * </span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="cm"> * The RA6M5 processor communicates to the BLE coprocessor over a serial </span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="cm"> * connection. It sends commands to the peripheral device and receives </span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="cm"> * responses, which are then displayed on the serial monitor. The sensor data </span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="cm"> * received from the peripheral device is parsed and displayed on the OLED </span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="cm"> * display.</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="cm"> * </span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="cm"> * This code is intended to be used with the SparkFun Thing Plus - RA6M5 </span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="cm"> * development board.</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="cm"> */</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;codelessBLECentral.h&gt;</span>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Wire.h&gt;</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SparkFun_Qwiic_OLED.h&gt;</span><span class="c1"> // https://librarymanager/All#SparkFun_Qwiic_OLED</span>
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;res/qw_fnt_5x7.h&gt;</span>
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a>
<a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a><span class="n">CodelessCentralDevice</span><span class="w"> </span><span class="n">myBLECentral</span><span class="p">;</span>
<a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a><span class="n">QwiicNarrowOLED</span><span class="w"> </span><span class="n">myOLED</span><span class="p">;</span>
<a id="__codelineno-35-28" name="__codelineno-35-28" href="#__codelineno-35-28"></a>
<a id="__codelineno-35-29" name="__codelineno-35-29" href="#__codelineno-35-29"></a><span class="n">String</span><span class="w"> </span><span class="n">peripheralAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;48:23:35:34:74:D3&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Hardware specific, change to your peripheral&#39;s address.</span>
<a id="__codelineno-35-30" name="__codelineno-35-30" href="#__codelineno-35-30"></a><span class="n">String</span><span class="w"> </span><span class="n">localstring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<a id="__codelineno-35-31" name="__codelineno-35-31" href="#__codelineno-35-31"></a><span class="n">String</span><span class="w"> </span><span class="n">printstring_temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<a id="__codelineno-35-32" name="__codelineno-35-32" href="#__codelineno-35-32"></a><span class="n">String</span><span class="w"> </span><span class="n">printstring_hum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<a id="__codelineno-35-33" name="__codelineno-35-33" href="#__codelineno-35-33"></a><span class="n">String</span><span class="w"> </span><span class="n">printstring_press</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<a id="__codelineno-35-34" name="__codelineno-35-34" href="#__codelineno-35-34"></a>
<a id="__codelineno-35-35" name="__codelineno-35-35" href="#__codelineno-35-35"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-35-36" name="__codelineno-35-36" href="#__codelineno-35-36"></a><span class="p">{</span>
<a id="__codelineno-35-37" name="__codelineno-35-37" href="#__codelineno-35-37"></a><span class="w">    </span><span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<a id="__codelineno-35-38" name="__codelineno-35-38" href="#__codelineno-35-38"></a><span class="w">    </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-35-39" name="__codelineno-35-39" href="#__codelineno-35-39"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">DEFAULT_CODELESS_BAUD_RATE</span><span class="p">);</span>
<a id="__codelineno-35-40" name="__codelineno-35-40" href="#__codelineno-35-40"></a><span class="w">    </span><span class="c1">// while(!Serial){delay(100);}; // Uncomment during testing and needing a serial connection.</span>
<a id="__codelineno-35-41" name="__codelineno-35-41" href="#__codelineno-35-41"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Begin BLE Central Demo.&quot;</span><span class="p">);</span>
<a id="__codelineno-35-42" name="__codelineno-35-42" href="#__codelineno-35-42"></a>
<a id="__codelineno-35-43" name="__codelineno-35-43" href="#__codelineno-35-43"></a><span class="w">    </span><span class="cp">#if defined(CODELESS_DBG)</span>
<a id="__codelineno-35-44" name="__codelineno-35-44" href="#__codelineno-35-44"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;CODELESS_DBG defined.&quot;</span><span class="p">);</span>
<a id="__codelineno-35-45" name="__codelineno-35-45" href="#__codelineno-35-45"></a><span class="w">    </span><span class="cp">#endif</span>
<a id="__codelineno-35-46" name="__codelineno-35-46" href="#__codelineno-35-46"></a>
<a id="__codelineno-35-47" name="__codelineno-35-47" href="#__codelineno-35-47"></a><span class="w">    </span><span class="n">Wire</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-35-48" name="__codelineno-35-48" href="#__codelineno-35-48"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">myOLED</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span>
<a id="__codelineno-35-49" name="__codelineno-35-49" href="#__codelineno-35-49"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-35-50" name="__codelineno-35-50" href="#__codelineno-35-50"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Unable to communicate with display. Freezing...&quot;</span><span class="p">);</span>
<a id="__codelineno-35-51" name="__codelineno-35-51" href="#__codelineno-35-51"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-35-52" name="__codelineno-35-52" href="#__codelineno-35-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-53" name="__codelineno-35-53" href="#__codelineno-35-53"></a>
<a id="__codelineno-35-54" name="__codelineno-35-54" href="#__codelineno-35-54"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Connected to display.&quot;</span><span class="p">);</span>
<a id="__codelineno-35-55" name="__codelineno-35-55" href="#__codelineno-35-55"></a><span class="w">    </span><span class="n">myOLED</span><span class="p">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QW_FONT_5X7</span><span class="p">);</span>
<a id="__codelineno-35-56" name="__codelineno-35-56" href="#__codelineno-35-56"></a>
<a id="__codelineno-35-57" name="__codelineno-35-57" href="#__codelineno-35-57"></a><span class="w">    </span><span class="n">myOLED</span><span class="p">.</span><span class="n">erase</span><span class="p">();</span>
<a id="__codelineno-35-58" name="__codelineno-35-58" href="#__codelineno-35-58"></a>
<a id="__codelineno-35-59" name="__codelineno-35-59" href="#__codelineno-35-59"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Codeless BLE Demo&quot;</span><span class="p">;</span>
<a id="__codelineno-35-60" name="__codelineno-35-60" href="#__codelineno-35-60"></a>
<a id="__codelineno-35-61" name="__codelineno-35-61" href="#__codelineno-35-61"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">myOLED</span><span class="p">.</span><span class="n">getWidth</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">myOLED</span><span class="p">.</span><span class="n">getStringWidth</span><span class="p">(</span><span class="n">hello</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-35-62" name="__codelineno-35-62" href="#__codelineno-35-62"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">y0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">myOLED</span><span class="p">.</span><span class="n">getHeight</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">myOLED</span><span class="p">.</span><span class="n">getStringHeight</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-35-63" name="__codelineno-35-63" href="#__codelineno-35-63"></a><span class="w">    </span><span class="n">myOLED</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span><span class="w"> </span><span class="n">y0</span><span class="p">,</span><span class="w"> </span><span class="n">hello</span><span class="p">);</span>
<a id="__codelineno-35-64" name="__codelineno-35-64" href="#__codelineno-35-64"></a><span class="w">    </span><span class="n">myOLED</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
<a id="__codelineno-35-65" name="__codelineno-35-65" href="#__codelineno-35-65"></a>
<a id="__codelineno-35-66" name="__codelineno-35-66" href="#__codelineno-35-66"></a><span class="w">    </span><span class="n">myBLECentral</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<a id="__codelineno-35-67" name="__codelineno-35-67" href="#__codelineno-35-67"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">Serial2</span><span class="p">){</span><span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);};</span>
<a id="__codelineno-35-68" name="__codelineno-35-68" href="#__codelineno-35-68"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Connected to BLE coprocessor.&quot;</span><span class="p">);</span>
<a id="__codelineno-35-69" name="__codelineno-35-69" href="#__codelineno-35-69"></a>
<a id="__codelineno-35-70" name="__codelineno-35-70" href="#__codelineno-35-70"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Running default setup routine.&quot;</span><span class="p">);</span>
<a id="__codelineno-35-71" name="__codelineno-35-71" href="#__codelineno-35-71"></a><span class="w">    </span><span class="n">myBLECentral</span><span class="p">.</span><span class="n">setupDefault</span><span class="p">();</span>
<a id="__codelineno-35-72" name="__codelineno-35-72" href="#__codelineno-35-72"></a>
<a id="__codelineno-35-73" name="__codelineno-35-73" href="#__codelineno-35-73"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Central device address: &quot;</span><span class="p">);</span>
<a id="__codelineno-35-74" name="__codelineno-35-74" href="#__codelineno-35-74"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">myBLECentral</span><span class="p">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="s">&quot;AT+BDADDR&quot;</span><span class="p">));</span>
<a id="__codelineno-35-75" name="__codelineno-35-75" href="#__codelineno-35-75"></a>
<a id="__codelineno-35-76" name="__codelineno-35-76" href="#__codelineno-35-76"></a><span class="w">    </span><span class="n">myBLECentral</span><span class="p">.</span><span class="n">connectToPeripheral</span><span class="p">(</span><span class="n">peripheralAddress</span><span class="p">);</span>
<a id="__codelineno-35-77" name="__codelineno-35-77" href="#__codelineno-35-77"></a>
<a id="__codelineno-35-78" name="__codelineno-35-78" href="#__codelineno-35-78"></a><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Setup complete.&quot;</span><span class="p">);</span>
<a id="__codelineno-35-79" name="__codelineno-35-79" href="#__codelineno-35-79"></a><span class="w">    </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-35-80" name="__codelineno-35-80" href="#__codelineno-35-80"></a>
<a id="__codelineno-35-81" name="__codelineno-35-81" href="#__codelineno-35-81"></a><span class="w">    </span><span class="n">hello</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Wait for conn...&quot;</span><span class="p">;</span>
<a id="__codelineno-35-82" name="__codelineno-35-82" href="#__codelineno-35-82"></a><span class="w">    </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">myOLED</span><span class="p">.</span><span class="n">getWidth</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">myOLED</span><span class="p">.</span><span class="n">getStringWidth</span><span class="p">(</span><span class="n">hello</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-35-83" name="__codelineno-35-83" href="#__codelineno-35-83"></a><span class="w">    </span><span class="n">y0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">myOLED</span><span class="p">.</span><span class="n">getHeight</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">myOLED</span><span class="p">.</span><span class="n">getStringHeight</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-35-84" name="__codelineno-35-84" href="#__codelineno-35-84"></a><span class="w">    </span><span class="n">myOLED</span><span class="p">.</span><span class="n">erase</span><span class="p">();</span>
<a id="__codelineno-35-85" name="__codelineno-35-85" href="#__codelineno-35-85"></a><span class="w">    </span><span class="n">myOLED</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span><span class="w"> </span><span class="n">y0</span><span class="p">,</span><span class="w"> </span><span class="n">hello</span><span class="p">);</span>
<a id="__codelineno-35-86" name="__codelineno-35-86" href="#__codelineno-35-86"></a><span class="w">    </span><span class="n">myOLED</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
<a id="__codelineno-35-87" name="__codelineno-35-87" href="#__codelineno-35-87"></a><span class="p">}</span>
<a id="__codelineno-35-88" name="__codelineno-35-88" href="#__codelineno-35-88"></a>
<a id="__codelineno-35-89" name="__codelineno-35-89" href="#__codelineno-35-89"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-35-90" name="__codelineno-35-90" href="#__codelineno-35-90"></a><span class="p">{</span>
<a id="__codelineno-35-91" name="__codelineno-35-91" href="#__codelineno-35-91"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Serial</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">        </span><span class="c1">// If anything comes in Serial (USB),</span>
<a id="__codelineno-35-92" name="__codelineno-35-92" href="#__codelineno-35-92"></a><span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">myBLECentral</span><span class="p">.</span><span class="n">sendCommand</span><span class="p">(</span><span class="n">Serial</span><span class="p">.</span><span class="n">readString</span><span class="p">()));</span><span class="w">  </span><span class="c1">// read, then command BLE, write response back to Serial.</span>
<a id="__codelineno-35-93" name="__codelineno-35-93" href="#__codelineno-35-93"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-94" name="__codelineno-35-94" href="#__codelineno-35-94"></a>
<a id="__codelineno-35-95" name="__codelineno-35-95" href="#__codelineno-35-95"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">myBLECentral</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">       </span><span class="c1">// If anything comes in Serial2 (BLE device)</span>
<a id="__codelineno-35-96" name="__codelineno-35-96" href="#__codelineno-35-96"></a><span class="w">        </span><span class="n">localstring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myBLECentral</span><span class="p">.</span><span class="n">readOutput</span><span class="p">();</span>
<a id="__codelineno-35-97" name="__codelineno-35-97" href="#__codelineno-35-97"></a><span class="w">        </span><span class="n">localstring</span><span class="p">.</span><span class="n">trim</span><span class="p">();</span><span class="w"> </span><span class="c1">// remove leading and trailing \r \n whitespace.</span>
<a id="__codelineno-35-98" name="__codelineno-35-98" href="#__codelineno-35-98"></a><span class="w">        </span><span class="kt">int16_t</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localstring</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="s">&quot;|&quot;</span><span class="p">);</span>
<a id="__codelineno-35-99" name="__codelineno-35-99" href="#__codelineno-35-99"></a>
<a id="__codelineno-35-100" name="__codelineno-35-100" href="#__codelineno-35-100"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<a id="__codelineno-35-101" name="__codelineno-35-101" href="#__codelineno-35-101"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-35-102" name="__codelineno-35-102" href="#__codelineno-35-102"></a><span class="w">            </span><span class="cp">#ifdef CODELESS_DBG</span>
<a id="__codelineno-35-103" name="__codelineno-35-103" href="#__codelineno-35-103"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;[DBG] - loop - readOutput - String contains | at index &quot;</span><span class="p">);</span>
<a id="__codelineno-35-104" name="__codelineno-35-104" href="#__codelineno-35-104"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<a id="__codelineno-35-105" name="__codelineno-35-105" href="#__codelineno-35-105"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<a id="__codelineno-35-106" name="__codelineno-35-106" href="#__codelineno-35-106"></a><span class="w">            </span><span class="cp">#endif</span>
<a id="__codelineno-35-107" name="__codelineno-35-107" href="#__codelineno-35-107"></a><span class="w">            </span><span class="n">localstring</span><span class="o">+=</span><span class="s">&quot;</span><span class="se">\r</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-35-108" name="__codelineno-35-108" href="#__codelineno-35-108"></a><span class="w">            </span><span class="n">localstring</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-35-109" name="__codelineno-35-109" href="#__codelineno-35-109"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localstring</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">localstring</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">));</span>
<a id="__codelineno-35-110" name="__codelineno-35-110" href="#__codelineno-35-110"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">hum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localstring</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="n">localstring</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">localstring</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">localstring</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span>
<a id="__codelineno-35-111" name="__codelineno-35-111" href="#__codelineno-35-111"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">press</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localstring</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="n">localstring</span><span class="p">.</span><span class="n">lastIndexOf</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-35-112" name="__codelineno-35-112" href="#__codelineno-35-112"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;T: &quot;</span><span class="p">);</span>
<a id="__codelineno-35-113" name="__codelineno-35-113" href="#__codelineno-35-113"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
<a id="__codelineno-35-114" name="__codelineno-35-114" href="#__codelineno-35-114"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; H: &quot;</span><span class="p">);</span>
<a id="__codelineno-35-115" name="__codelineno-35-115" href="#__codelineno-35-115"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">hum</span><span class="p">);</span>
<a id="__codelineno-35-116" name="__codelineno-35-116" href="#__codelineno-35-116"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; P: &quot;</span><span class="p">);</span>
<a id="__codelineno-35-117" name="__codelineno-35-117" href="#__codelineno-35-117"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">press</span><span class="p">);</span>
<a id="__codelineno-35-118" name="__codelineno-35-118" href="#__codelineno-35-118"></a>
<a id="__codelineno-35-119" name="__codelineno-35-119" href="#__codelineno-35-119"></a><span class="w">            </span><span class="n">printstring_temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;T: &quot;</span><span class="o">+</span><span class="n">temp</span><span class="o">+</span><span class="s">&quot; dC&quot;</span><span class="p">;</span>
<a id="__codelineno-35-120" name="__codelineno-35-120" href="#__codelineno-35-120"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">ytemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">myOLED</span><span class="p">.</span><span class="n">getHeight</span><span class="p">()</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">myOLED</span><span class="p">.</span><span class="n">getStringHeight</span><span class="p">(</span><span class="n">printstring_temp</span><span class="p">);</span>
<a id="__codelineno-35-121" name="__codelineno-35-121" href="#__codelineno-35-121"></a><span class="w">            </span><span class="n">printstring_hum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;H: &quot;</span><span class="o">+</span><span class="n">hum</span><span class="o">+</span><span class="s">&quot; %RH&quot;</span><span class="p">;</span>
<a id="__codelineno-35-122" name="__codelineno-35-122" href="#__codelineno-35-122"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">yhum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">myOLED</span><span class="p">.</span><span class="n">getHeight</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">myOLED</span><span class="p">.</span><span class="n">getStringHeight</span><span class="p">(</span><span class="n">printstring_hum</span><span class="p">);</span>
<a id="__codelineno-35-123" name="__codelineno-35-123" href="#__codelineno-35-123"></a><span class="w">            </span><span class="n">printstring_press</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;P: &quot;</span><span class="o">+</span><span class="n">press</span><span class="o">+</span><span class="s">&quot; Pa&quot;</span><span class="p">;</span>
<a id="__codelineno-35-124" name="__codelineno-35-124" href="#__codelineno-35-124"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">ypress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myOLED</span><span class="p">.</span><span class="n">getHeight</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">myOLED</span><span class="p">.</span><span class="n">getStringHeight</span><span class="p">(</span><span class="n">printstring_press</span><span class="p">);</span>
<a id="__codelineno-35-125" name="__codelineno-35-125" href="#__codelineno-35-125"></a>
<a id="__codelineno-35-126" name="__codelineno-35-126" href="#__codelineno-35-126"></a><span class="w">            </span><span class="n">myOLED</span><span class="p">.</span><span class="n">erase</span><span class="p">();</span>
<a id="__codelineno-35-127" name="__codelineno-35-127" href="#__codelineno-35-127"></a><span class="w">            </span><span class="n">myOLED</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">ytemp</span><span class="p">,</span><span class="w"> </span><span class="n">printstring_temp</span><span class="p">);</span>
<a id="__codelineno-35-128" name="__codelineno-35-128" href="#__codelineno-35-128"></a><span class="w">            </span><span class="n">myOLED</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
<a id="__codelineno-35-129" name="__codelineno-35-129" href="#__codelineno-35-129"></a><span class="w">            </span><span class="n">myOLED</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">yhum</span><span class="p">,</span><span class="w"> </span><span class="n">printstring_hum</span><span class="p">);</span>
<a id="__codelineno-35-130" name="__codelineno-35-130" href="#__codelineno-35-130"></a><span class="w">            </span><span class="n">myOLED</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
<a id="__codelineno-35-131" name="__codelineno-35-131" href="#__codelineno-35-131"></a><span class="w">            </span><span class="n">myOLED</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">ypress</span><span class="p">,</span><span class="w"> </span><span class="n">printstring_press</span><span class="p">);</span>
<a id="__codelineno-35-132" name="__codelineno-35-132" href="#__codelineno-35-132"></a><span class="w">            </span><span class="n">myOLED</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
<a id="__codelineno-35-133" name="__codelineno-35-133" href="#__codelineno-35-133"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-35-134" name="__codelineno-35-134" href="#__codelineno-35-134"></a><span class="w">        </span><span class="k">else</span>
<a id="__codelineno-35-135" name="__codelineno-35-135" href="#__codelineno-35-135"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-35-136" name="__codelineno-35-136" href="#__codelineno-35-136"></a><span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">localstring</span><span class="p">);</span>
<a id="__codelineno-35-137" name="__codelineno-35-137" href="#__codelineno-35-137"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-35-138" name="__codelineno-35-138" href="#__codelineno-35-138"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-139" name="__codelineno-35-139" href="#__codelineno-35-139"></a><span class="p">}</span>
</code></pre></div>
</details>
</div>
</div>
</div>
<h1 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link"></a></h1>
<h2 id="product-resources">Product Resources<a class="headerlink" href="#product-resources" title="Permanent link"></a></h2>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg></span> <a href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener">Product Page</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h8.08a7 7 0 0 1-.08-1 7 7 0 0 1 7-7 7 7 0 0 1 3 .69V8a2 2 0 0 0-2-2h-8l-2-2H4m14 10a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.193 4.193 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5 0-.17-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14h-2m1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5Z"/></svg></span> Design Files:<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/board_files/schematic.pdf">Schematic</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/board_files/dimensions.pdf">Board Dimensions</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-2 6h-2v2h2v2h-2v2h-2v-2h2v-2h-2v-2h2v-2h-2V8h2v2h2v2Z"/></svg></span> <a href="../assets/board_files/eagle_files.zip">Eagle Files</a></li>
</ul>
</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/board_files/graphical_datasheet.pdf">Graphical Datasheet</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg></span> <a href="https://github.com/arduino/ArduinoCore-renesas" target="_blank" rel="noopener">Renesas Arduino Core</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg></span> Arduino Libraries:<ul>
<li><a href="https://github.com/FastLED/FastLED/" target="_blank" rel="noopener">FastLED Arduino library</a></li>
<li><a href="https://github.com/sparkfun/SparkFun_MAX1704x_Fuel_Gauge_Arduino_Library" target="_blank" rel="noopener">SparkFun MAX1704x Fuel Gauge Arduino library</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-2 6h-2v2h2v2h-2v2h-2v-2h2v-2h-2v-2h2v-2h-2V8h2v2h2v2Z"/></svg></span> <a href="../assets/CodelessBLE.zip">CodeLess Arduino Library</a> <em>(unofficial - <code>CodeLess.zip</code>)</em></li>
</ul>
</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10 15 5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73Z"/></svg></span> <a href="https://www.youtube.com/watch?v=A9NTdowiY_o" target="_blank" rel="noopener">SFE Product Showcase</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg></span> <a href="https://github.com/sparkfun/SparkFun_Thing_Plus_RA6M5" target="_blank" rel="noopener">Hardware Repo</a></li>
</ul>
<h3 id="additional-resources"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg></span> Additional Resources<a class="headerlink" href="#additional-resources" title="Permanent link"></a></h3>
<ul>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 4h-8l-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2M2 6H0v14a2 2 0 0 0 2 2h18v-2H2V6Z"/></svg></span> Component Documentation:</p>
<div class="grid cards" markdown>
<ul>
<li>
<p><strong>RA6M5 Microcontroller</strong></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">Datasheet</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="https://www.renesas.com/us/en/document/man/ra6m5-group-users-manual-hardware?r=1493931" target="_blank" rel="noopener">User Manual</a></li>
</ul>
</li>
<li>
<p><strong>DA14531MOD Bluetooth Module</strong></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="https://www.renesas.com/us/en/document/dst/da14531-module-datasheet" target="_blank" rel="noopener">Datasheet</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/></svg></span> <a href="https://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/index.html" target="_blank" rel="noopener">Codeless‚Ñ¢ User Manual</a></li>
</ul>
</li>
<li>
<p><strong>Peripherals Devices</strong></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/component_documentation/MAX17048.pdf">MAX17048 Battery Fuel Gauge</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/component_documentation/WS2812C-2020.pdf">WS2812 <abbr title="Red, Green, Blue">RGB</abbr> <abbr title="Light Emitting Diode">LED</abbr></a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/component_documentation/MX25L12833F.pdf">MX25L12833F <abbr title="Quad-SPI">QSPI</abbr> FLash</a></li>
</ul>
</li>
<li>
<p><strong>Power Components</strong></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/component_documentation/RT9080.pdf">RT9080 <abbr title="Low Dropout (Regulator)">LDO</abbr> Voltage Regulator</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/component_documentation/LM66200.pdf">LM66200 Ideal Diode Switch</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg></span> <a href="../assets/component_documentation/MCP73831.pdf">MCP73831 Charge Controller</a></li>
</ul>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://www.sparkfun.com/thing_plus" target="_blank" rel="noopener">Thing Plus Comparison Guide</a></p>
</li>
<li><a href="https://www.sparkfun.com/qwiic" target="_blank" rel="noopener">Qwiic Information Page</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.5 12A2.5 2.5 0 0 0 19 9.5 2.5 2.5 0 0 0 16.5 7 2.5 2.5 0 0 0 14 9.5a2.5 2.5 0 0 0 2.5 2.5M9 11a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13Z"/></svg></span> <a href="https://www.sparkfun.com/technical_assistance" target="_blank" rel="noopener">SparkFun Technical Assistance</a></li>
</ul>
<h3 id="manufacturers-resources">üè≠&nbsp;Manufacturer's Resources<a class="headerlink" href="#manufacturers-resources" title="Permanent link"></a></h3>
<p>Renesas also provides great resources for the RA6M5 and DA14531MOD:</p>
<ul>
<li><a href="https://lpccs-docs.renesas.com/um-b-138/introduction.html" target="_blank" rel="noopener">SmartBond‚Ñ¢ Flash Programmer</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 18h2v-2h-2v2m1-12a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2 2 2 0 0 1 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z"/></svg></span> <a href="https://renesasrulz.com/" target="_blank" rel="noopener">RenesasRulz Forum</a></li>
</ul>
<div class="grid cards">
<ul>
<li>
<p><a href="https://www.renesas.com/us/en/products/microcontrollers-microprocessors/ra-cortex-m-mcus/ra6m5-200mhz-arm-cortex-m33-trustzone-highest-integration-ethernet-and-can-fd" target="_blank" rel="noopener">RA6M5 Product Page</a></p>
<hr />
<ul>
<li><a href="https://www.renesas.com/us/en/products/microcontrollers-microprocessors/ra-cortex-m-mcus/ra6m5-200mhz-arm-cortex-m33-trustzone-highest-integration-ethernet-and-can-fd#documents" target="_blank" rel="noopener">Documentation</a><ul>
<li><a href="https://www.renesas.com/us/en/document/dst/ra6m5-group-datasheet?r=1493931" target="_blank" rel="noopener">RA6M5 Group Datasheet</a></li>
<li><a href="https://www.renesas.com/us/en/document/man/ra6m5-group-users-manual-hardware?r=1493931" target="_blank" rel="noopener">RA6M5 Group User Manual: Hardware</a></li>
</ul>
</li>
<li><a href="https://www.renesas.com/us/en/products/microcontrollers-microprocessors/ra-cortex-m-mcus/ra6m5-200mhz-arm-cortex-m33-trustzone-highest-integration-ethernet-and-can-fd?doc_secondary=visible#design_development" target="_blank" rel="noopener">Software and Tools</a></li>
</ul>
</li>
<li>
<p><a href="https://www.renesas.com/us/en/products/wireless-connectivity/bluetooth-low-energy/da14531mod-smartbond-tiny-bluetooth-low-energy-module" target="_blank" rel="noopener">DA14531MOD Product Page</a></p>
<hr />
<ul>
<li><a href="https://www.renesas.com/us/en/products/wireless-connectivity/bluetooth-low-energy/da14531mod-smartbond-tiny-bluetooth-low-energy-module#documents" target="_blank" rel="noopener">Documentation</a><ul>
<li><a href="https://www.renesas.com/us/en/document/dst/da14531-module-datasheet" target="_blank" rel="noopener">DA14531MOD Datasheet</a></li>
</ul>
</li>
<li><a href="https://www.renesas.com/us/en/products/wireless-connectivity/bluetooth-low-energy/da14531mod-smartbond-tiny-bluetooth-low-energy-module#design_development" target="_blank" rel="noopener">Software and Tools</a><ul>
<li><a href="https://lpccs-docs.renesas.com/UM-140-DA145x-CodeLess/index.html" target="_blank" rel="noopener">DA145<code>XX</code> CodeLess‚Ñ¢ User Manual</a></li>
<li><a href="https://www.renesas.com/us/en/software-tool/smartbond-codeless-commands" target="_blank" rel="noopener">SmartBond‚Ñ¢ - CodeLess‚Ñ¢ AT commands</a></li>
<li><a href="https://lpccs-docs.renesas.com/UM-B-119_DA14585-DA14531_SW_Platform_Reference/index.html" target="_blank" rel="noopener">DA1453<code>x</code> SW Platform Reference Manual</a></li>
</ul>
</li>
<li>Tutorials:<ul>
<li><a href="https://lpccs-docs.renesas.com/tutorial_da145xx_sleep_modes/index.html" target="_blank" rel="noopener">Tutorial - Sleep Modes</a></li>
<li><a href="https://lpccs-docs.renesas.com/da145xx_tutorial_sdk6_peripherals/introduction.html" target="_blank" rel="noopener">Tutorial - Peripheral Drivers <em>(Dialog SDK 6.0.<code>x</code>)</em></a></li>
<li><a href="https://lpccs-docs.renesas.com/tutorial_da145xx_debugging_techniques/index.html" target="_blank" rel="noopener">Tutorial - Debugging <em>(Dialog SDK 6.0.<code>x</code>)</em></a></li>
<li><a href="https://lpccs-docs.renesas.com/Tutorial_DA145xx_DSPS_Getting_Started/index.html" target="_blank" rel="noopener">Tutorial - <abbr title="Bluetooth Low-Energy">BLE</abbr> Serial Port Service</a></li>
<li><a href="https://lpccs-docs.renesas.com/DA145xx_Advertising_Tutorial/index.html" target="_blank" rel="noopener">Tutorial - <abbr title="Bluetooth Low-Energy">BLE</abbr> Advertising</a></li>
<li><a href="https://lpccs-docs.renesas.com/tutorial-custom-profile-DA145xx/index.html" target="_blank" rel="noopener">Tutorial - Create a Custom GATT Profile</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg></span> <a href="https://github.com/dialog-semiconductor/BLE_SDK6_examples" target="_blank" rel="noopener">SDK 6.0.<code>x</code> <abbr title="Bluetooth Low-Energy">BLE</abbr> Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p><center>
<img alt="QR code to the hookup guide" class="qr" src="../assets/img/qr_code/hookup_guide.png" />
</center></p>
<h1 id="troubleshooting-tips">Troubleshooting Tips<a class="headerlink" href="#troubleshooting-tips" title="Permanent link"></a></h1>
<div class="admonition warning">
<p class="admonition-title">Need Help?</p>
<p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading over to the <a href="https://www.sparkfun.com/technical_assistance" target="_blank" rel="noopener">SparkFun Technical Assistance</a> page for some initial troubleshooting.</p>
<p><center>
<a class="md-button md-button--primary" href="https://www.sparkfun.com/technical_assistance" target="_blank" rel="noopener">SparkFun Technical Assistance Page</a>
</center></p>
<p>If you can't find what you need there, the <a href="https://forum.sparkfun.com/viewforum.php?f=116" target="_blank" rel="noopener">SparkFun <abbr title="Global Navigation Satellite System">GNSS</abbr> Forum</a> is a great place to ask questions.</p>
<div class="admonition info">
<p class="admonition-title">Account Registration Required</p>
<p>If this is your first visit to our forum, you'll need to create a <a href="https://forum.sparkfun.com/ucp.php?mode=register" target="_blank" rel="noopener">Forum Account</a> to post questions.</p>
</div>
</div>
<h2 id="upload-issues">Upload Issues<a class="headerlink" href="#upload-issues" title="Permanent link"></a></h2>
<p>If users have issues during the uploading process, they can try to manually force the board into <abbr title="Device Firmware Update">DFU</abbr> mode with the reset button. Double-tapping the <span class="keys"><kbd>RST</kbd></span> button will force the <abbr title="Microcontroller Unit">MCU</abbr> to into the Device Firmware Update mode. The board will remain in this mode, until it power cycles <em>(which happens automatically, after uploading new firmware)</em> or the reset button is pressed.</p>
<div class="grid">
<div>
<ol>
<li>Double-tap the <span class="keys"><kbd>RST</kbd></span> button<ul>
<li>The <code>STAT</code> <abbr title="Light Emitting Diode">LED</abbr> should be fading in/out very slowly</li>
</ul>
</li>
<li>Users should now, be able to upload a new program<ul>
<li>It shouldn't be necessary to select a COM port in the Arduino IDE; only the board needs to be selected</li>
</ul>
</li>
<li>Once programming is complete, the <abbr title="Microcontroller Unit">MCU</abbr> should reboot on its own. Otherwise:<ul>
<li>Press the <span class="keys"><kbd>RST</kbd></span> button</li>
<li>Power cycle the board</li>
</ul>
</li>
</ol>
</div>
<div>
<figure>
<p><a href="../assets/img/hookup_guide/Button-rst.png" title="Click to enlarge"><img alt="Reset Button" src="../assets/img/hookup_guide/Button-rst.png" width="700" /></a></p>
<figcaption>
<p><span class="keys"><kbd>RST</kbd></span> button on the RA6M5 Thing Plus.</p>
</figcaption>
</figure>
</div>
</div>
<h2 id="digital-io">Digital I/O<a class="headerlink" href="#digital-io" title="Permanent link"></a></h2>
<h3 id="utilizing-interrupts">Utilizing Interrupts<a class="headerlink" href="#utilizing-interrupts" title="Permanent link"></a></h3>
<p>When utilizing an interrupt on a digital <abbr title="General Purpose Input and Output">GPIO</abbr>, the attached interrupt service routine should be able to execute within the shortest, possible time frame. Otherwise, the suspended task could trigger various faults or errors.</p>
<h2 id="sd-card">&micro;<abbr title="Secure Digital">SD</abbr> Card<a class="headerlink" href="#sd-card" title="Permanent link"></a></h2>
<h3 id="compatibility">Compatibility<a class="headerlink" href="#compatibility" title="Permanent link"></a></h3>
<p>The <a href="https://github.com/arduino/ArduinoCore-renesas/tree/main/libraries/FATFilesystem" target="_blank" rel="noopener">FATFileSystem library</a> built into the Renesas-Arduino core, supports &micro;<abbr title="Secure Digital">SD</abbr> cards with a <strong>FAT32</strong> file system <em>(i.e. <abbr title="Secure Digital">SD</abbr> cards <strong>up to 32GB</strong> in size)</em>.</p>
<ul>
<li>While users may be able to use cards with a higher storage capacity, we highly advise against it. As users may experience data loss due to a corrupt file system <em>(i.e. <abbr title="Secure Digital">SD</abbr> cards with a storage capacity greater than 32GB are not meant to be formatted with a FAT32 file system)</em>.</li>
</ul>
<h3 id="hot-swapping">Hot Swapping<a class="headerlink" href="#hot-swapping" title="Permanent link"></a></h3>
<p>To avoid corrupting an <abbr title="Secure Digital">SD</abbr> card, users should disable all activity with the <abbr title="Secure Digital">SD</abbr> card and disconnect power before removing it from the RA6M5 Thing Plus.</p>
<!-- *[FAT16]: File Allocation Table-16 -->
<!-- *[FAT32]: File Allocation Table-32 -->
<!-- *[GEO]: Geostationary Orbit or Geosynchronous Equatorial Orbit (see glossary-alt.md) -->
<!-- *[I2C] or [I<sup>2</sup>C]: Inter-Integrated Circuit (see glossary-alt.md) -->
<!-- *[LiPo]: Lithium-Ion Polymer or Lithium-Polymer (see glossary-alt.md) -->
<!-- *[MPU]: Memory Protection Unit or Microprocessing Unit (see glossary-alt.md) -->
<!-- Local - Specific to ONLY this Documentation -->
<!-- ------------------------------------------- -->

<!-- ------------------------------------------- -->
<!-- -------------- End of Local --------------- -->

<!-- ------------ Standard Entries ------------- -->
<!-- ------------------------------------------- -->

<!-- *[GEO]: Geosynchronous Equatorial Orbit -->
<!-- *[I<sup>2</sup>C]: Inter-Integrated Circuit -->
<!-- *[LiPo]: Lithium-Polymer -->
<!-- *[MPU]: Microprocessing Unit -->
<!-- ------------------------------------------- -->
<!-- --------- End of Standard Entries --------- -->

<!-- ------------------ Units ------------------ -->
<!-- ------------------------------------------- -->

<!-- *[Hz]: Hertz -->
<!-- *[MHz]: Megahertz -->
<!-- *[GHz]: Gigahertz -->

<!-- *[mm]: millimeters -->
<!-- *[km]: kilometers -->
<!-- *[in]: inches -->
<!-- *[ft]: feet -->
<!-- *[yrd]: yards -->
<!-- *[mi]: miles -->

<!-- *[Pa]: Pascals -->

<!-- *[¬∞C]: Degrees Celsius -->
<!-- *[¬∞F]: Degrees Fahrenheit -->

<!-- *[pA]: Picoamp -->
<!-- *[nA]: Nanoamp -->
<!-- *[¬µA]: Microamp -->
<!-- *[mA]: Milliamp -->

<!-- *[¬µV]: Microvolt -->
<!-- *[mV]: Millivolt -->

<!-- --------------- End of Units -------------- -->
<!-- ------------------------------------------- -->







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-08-06T18:31:37+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-08-06</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-08-06T18:31:37+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-08-06</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4Z"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:36016723+santaimpersonator@users.noreply.github.com">SparkFun Automated Action</a>
    </nav>
  </span>

    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/santaimpersonator" class="md-author" title="@santaimpersonator" target="_blank" rel="noopener">
          
          <img src="https://avatars.githubusercontent.com/u/36016723?v=4&amp;size=72" alt="santaimpersonator">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>


  


  



                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright 2024 - <a href="https://www.sparkfun.com/" target="_blank" rel="noopener">SparkFun Electronics&#174;</a><br> <a href="https://goo.gl/maps/vkstCpQZW6jZMjzYA" target="_blank" rel="noopener">6333 Dry Creek Parkway, Niwot, Colorado 80503</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.sparkfun.com/products/24243" target="_blank" rel="noopener" title="www.sparkfun.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/sparkfun" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.instagram.com/sparkfun" target="_blank" rel="noopener" title="www.instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.github.com/sparkfun" target="_blank" rel="noopener" title="www.github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/SparkFun" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/sparkfun" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "content.action.edit", "content.tooltips", "navigation.footer", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.path", "navigation.instant.preview"], "search": "../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4a1b0f67.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
        <script src="../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>